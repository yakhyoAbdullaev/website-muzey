!function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c(require("./PhotoEditorSDK")):"function"==typeof define&&define.amd?define([["./PhotoEditorSDK"]],c):"object"==typeof exports?exports.PhotoEditorReactUI=c(require("./PhotoEditorSDK")):b.PhotoEditorReactUI=c(b.PhotoEditorSDK)}(this,function(a){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.i=function(a){return a},c.d=function(a,b,c){Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:c})},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=264)}([function(a,b){"use strict";b.__esModule=!0,b.default=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(271),e=j(d),f=c(270),g=j(f),h=c(52),i=j(h);b.default=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":(0,i.default)(b)));a.prototype=(0,g.default)(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(e.default?(0,e.default)(a,b):a.__proto__=b)}},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(52),e=f(d);b.default=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":(0,e.default)(b))&&"function"!=typeof b?a:b}},function(a,b,c){"use strict";function A(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.ColorMatrix=b.now=b.Log=b.cancelAnimationFrame=b.requestAnimationFrame=b.SDK=b.EXIF=b.ReactDOM=b.UniformType=b.OptionType=b.RenderType=b.Base64=b.Color=b.SharedState=b.Constants=b.EventEmitter=b.SDKUtils=b.Vector2=b.ReactBEM=b.BaseComponent=b.Classnames=b.BEM=b.React=b.Utils=b.Promise=b.PhotoEditorSDK=void 0;var d=c(67),e=A(d),f=c(110),g=A(f),h=c(337),i=A(h),j=c(122),k=A(j),l=c(117),m=A(l),n=c(118),o=A(n),p=c(176),q=A(p),r=c(262),s=A(r),t=c(251),u=A(t),v=c(261),w=A(v),x=c(265),y=c(119),z=A(y),B=e.default.Base64,C=e.default.Color,D=e.default.Math.ColorMatrix,E=e.default.EventEmitter,F=e.default.EXIF,G=e.default.OptionType,H=e.default.Promise,I=e.default.Utils,J=e.default.RenderType,K=e.default,L=e.default.UniformType,M=e.default.Math.Vector2,N="undefined"!=typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):c(332);b.PhotoEditorSDK=e.default,b.Promise=H,b.Utils=s.default,b.React=g.default,b.BEM=m.default,b.Classnames=k.default,b.BaseComponent=q.default,b.ReactBEM=o.default,b.Vector2=M,b.SDKUtils=I,b.EventEmitter=E,b.Constants=u.default,b.SharedState=w.default,b.Color=C,b.Base64=B,b.RenderType=J,b.OptionType=G,b.UniformType=L,b.ReactDOM=i.default,b.EXIF=F,b.SDK=K,b.requestAnimationFrame=x.requestAnimationFrame,b.cancelAnimationFrame=x.cancelAnimationFrame,b.Log=z.default,b.now=N,b.ColorMatrix=D},function(a,b){function j(){g&&h&&(g=!1,h.length?f=h.concat(f):i=-1,f.length&&k())}function k(){if(!g){var a=d(j);g=!0;for(var b=f.length;b;){for(h=f,f=[];++i<b;)h&&h[i].run();i=-1,b=f.length}h=null,g=!1,e(a)}}function l(a,b){this.fun=a,this.array=b}function m(){}var d,e,c=a.exports={};!function(){try{d=setTimeout}catch(a){d=function(){throw new Error("setTimeout is not defined")}}try{e=clearTimeout}catch(a){e=function(){throw new Error("clearTimeout is not defined")}}}();var h,f=[],g=!1,i=-1;c.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];f.push(new l(a,b)),1!==f.length||g||d(k,0)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=m,c.addListener=m,c.once=m,c.off=m,c.removeListener=m,c.removeAllListeners=m,c.emit=m,c.binding=function(a){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(a){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(a,b,c){"use strict";(function(b){function c(a,c,d,e,f,g,h,i){if("production"!==b.env.NODE_ENV&&void 0===c)throw new Error("invariant requires an error message argument");if(!a){var j;if(void 0===c)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(c.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}a.exports=c}).call(b,c(4))},function(a,b){"use strict";function c(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);c+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var e=new Error(c);throw e.name="Invariant Violation",e.framesToPop=1,e}a.exports=c},function(a,b,c){"use strict";(function(b){var d=c(18),e=d;"production"!==b.env.NODE_ENV&&(e=function(b,c){for(var d=arguments.length,e=Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];if(void 0===c)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==c.indexOf("Failed Composite propType: ")&&!b){var g=0,h="Warning: "+c.replace(/%s/g,function(){return e[g++]});"undefined"!=typeof console&&console.error(h);try{throw new Error(h)}catch(a){}}}),a.exports=e}).call(b,c(4))},function(a,b){"use strict";function e(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function f(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if("0123456789"!==d.join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},e)).join("")}catch(a){return!1}}var c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;a.exports=f()?Object.assign:function(a,b){for(var f,h,g=e(a),i=1;i<arguments.length;i++){f=Object(arguments[i]);for(var j in f)c.call(f,j)&&(g[j]=f[j]);if(Object.getOwnPropertySymbols){h=Object.getOwnPropertySymbols(f);for(var k=0;k<h.length;k++)d.call(f,h[k])&&(g[h[k]]=f[h[k]])}}return g}},function(a,b,c){"use strict";(function(b){function k(a){for(var b;b=a._renderedComponent;)a=b;return a}function l(a,b){var c=k(a);c._hostNode=b,b[j]=c}function m(a){var b=a._hostNode;b&&(delete b[j],a._hostNode=null)}function n(a,c){if(!(a._flags&i.hasCachedChildNodes)){var e=a._renderedChildren,f=c.firstChild;a:for(var j in e)if(e.hasOwnProperty(j)){var m=e[j],n=k(m)._domID;if(null!=n){for(;null!==f;f=f.nextSibling)if(1===f.nodeType&&f.getAttribute(h)===String(n)||8===f.nodeType&&f.nodeValue===" react-text: "+n+" "||8===f.nodeType&&f.nodeValue===" react-empty: "+n+" "){l(m,f);continue a}"production"!==b.env.NODE_ENV?g(!1,"Unable to find element with ID %s.",n):d("32",n)}}a._flags|=i.hasCachedChildNodes}}function o(a){if(a[j])return a[j];for(var b=[];!a[j];){if(b.push(a),!a.parentNode)return null;a=a.parentNode}for(var c,d;a&&(d=a[j]);a=b.pop())c=d,b.length&&n(d,a);return c}function p(a){var b=o(a);return null!=b&&b._hostNode===a?b:null}function q(a){if(void 0===a._hostNode?"production"!==b.env.NODE_ENV?g(!1,"getNodeFromInstance: Invalid argument."):d("33"):void 0,a._hostNode)return a._hostNode;for(var c=[];!a._hostNode;)c.push(a),a._hostParent?void 0:"production"!==b.env.NODE_ENV?g(!1,"React DOM tree root should always have a node reference."):d("34"),a=a._hostParent;for(;c.length;a=c.pop())n(a,a._hostNode);return a._hostNode}var d=c(6),e=c(35),f=c(146),g=c(5),h=e.ID_ATTRIBUTE_NAME,i=f,j="__reactInternalInstance$"+Math.random().toString(36).slice(2),r={getClosestInstanceFromNode:o,getInstanceFromNode:p,getNodeFromInstance:q,precacheChildNodes:n,precacheNode:l,uncacheNode:m};a.exports=r}).call(b,c(4))},function(a,b){"use strict";var c=!("undefined"==typeof window||!window.document||!window.document.createElement),d={canUseDOM:c,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:c&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c};a.exports=d},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(175),l=o(k),m=c(226),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._hasBackButton=!0,h._hasDoneButton=!1,h._backButtonClicked=!1,h._bindAll("_onBackClick","_onDoneClick"),h}return(0,i.default)(b,a),b.prototype._onBackClick=function(b){this._backButtonClicked=!0,this.props.onSwitchControls("back")},b.prototype._onDoneClick=function(b){this.props.onSwitchControls("back")},b.prototype.renderControls=function(){return null},b.prototype.renderOverlayControls=function(){return null},b.prototype.renderWithBEM=function(){var b=this._hasBackButton?j.ReactBEM.createElement(l.default,{onClick:this._onBackClick}):null,c=this._hasDoneButton?j.ReactBEM.createElement(n.default,{onClick:this._onDoneClick}):null;return j.ReactBEM.createElement("div",{bem:"$b:controls"},this.renderOverlayControls(),j.ReactBEM.createElement("div",{bem:"e:table"},b,this.renderControls(),c))},b}(j.BaseComponent);b.default=p,p.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=f(d),g=function(){function a(){(0,e.default)(this,a)}return a.prototype.getInitialSharedState=function(){return{}},a.prototype.isAvailable=function(b){return!1},a}();g.controlsComponent=null,g.canvasControlsComponent=null,g.identifier=null,g.iconPath=null,g.languageKey=null,g.defaultOptions={},b.default=g},function(a,b,c){"use strict";var d=c(148);a.exports={debugTool:d}},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(21),l=m(k),n=25,o=12,p=function(a){function b(){(0,e.default)(this,b);var c=(0,g.default)(this,a.call(this));return c._needsStyleFixes=!0,c._isDragging=!1,c._bindAll("_onButtonDragStart","_onButtonDrag","_onButtonDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop","_onListScroll"),c.state={buttonSize:0,buttonPosition:0,buttonVisible:!1},c}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this.update()},b.prototype.fixStyles=function(){this._updateListSize()},b.prototype._onListScroll=function(){if(!this._isDragging){var c=this._getDirection(),d=void 0,e=void 0,f=void 0;c===b.HORIZONTAL?(d=this._list.scrollWidth-this._list.offsetWidth,e=this._list.scrollLeft,f=this._node.offsetWidth-this.state.buttonSize):c===b.VERTICAL&&(d=this._list.scrollHeight-this._list.offsetHeight,e=this._list.scrollTop,f=this._node.offsetHeight-this.state.buttonSize);var g=e/d;this.setState({buttonPosition:f*g})}},b.prototype._onButtonDragStart=function(b){this._isDragging=!0,this._initialButtonPosition=this.state.buttonPosition||0},b.prototype._onButtonDrag=function(c){var d=this._getDirection(),e=void 0;d===b.HORIZONTAL?e=this._initialButtonPosition+c.x:d===b.VERTICAL&&(e=this._initialButtonPosition+c.y),this._setButtonPosition(e)},b.prototype._onButtonDragStop=function(){this._isDragging=!1},b.prototype._onBarDragStart=function(c){var d=j.Utils.getEventPosition(c);this._initialPosition=d.clone();var e=this._node.getBoundingClientRect(),f=new j.Vector2(e.left,e.top),g=d.clone().subtract(f),h=this._getDirection();h===b.HORIZONTAL?this._setButtonPosition(g.x-this.state.buttonSize/2):h===b.VERTICAL&&this._setButtonPosition(g.y-this.state.buttonSize/2),document.addEventListener("mousemove",this._onBarDrag),document.addEventListener("touchmove",this._onBarDrag),document.addEventListener("mouseup",this._onBarDragStop),document.addEventListener("touchend",this._onBarDragStop)},b.prototype._onBarDrag=function(c){var d=j.Utils.getEventPosition(c),e=this._node.getBoundingClientRect(),f=new j.Vector2(e.left,e.top),g=d.clone().subtract(f),h=this._getDirection();h===b.HORIZONTAL?this._setButtonPosition(g.x-this.state.buttonSize/2):h===b.VERTICAL&&this._setButtonPosition(g.y-this.state.buttonSize/2)},b.prototype._onBarDragStop=function(){document.removeEventListener("mousemove",this._onBarDrag),document.removeEventListener("touchmove",this._onBarDrag),document.removeEventListener("mouseup",this._onBarDragStop),document.removeEventListener("touchend",this._onBarDragStop)},b.prototype._setButtonPosition=function(c){var d=this._getDirection(),e=void 0,f=void 0;d===b.HORIZONTAL?(e=this._node.offsetWidth-this.state.buttonSize,f=this._list.scrollWidth-this._list.offsetWidth):d===b.VERTICAL&&(e=this._node.offsetHeight-this.state.buttonSize,f=this._list.scrollHeight-this._list.offsetHeight),c=Math.max(0,c),c=Math.min(c,e),this.setState({buttonPosition:c});var g=c/e,h=f*g;d===b.HORIZONTAL?this._list.scrollLeft=h:d===b.VERTICAL&&(this._list.scrollTop=h)},b.prototype._updateButtonSize=function(c){var d=0,e=!1,f=void 0,g=void 0,h=this._getDirection();h===b.HORIZONTAL?(f=this._list.clientWidth,g=this._list.scrollWidth):h===b.VERTICAL&&(f=this._list.offsetHeight,g=this._list.scrollHeight),d=f/g*f,e=g>f,this.setState({buttonSize:d,buttonVisible:e},c)},b.prototype._updateListSize=function(){if(this._list){var c=this._getDirection();if(c===b.HORIZONTAL){this._list.style.height="";var d=this._getFullListDimensions();this._listSize=d.y}else if(c===b.VERTICAL){this._list.style.width="";var e=this._getFullListDimensions();this._listSize=e.x}}},b.prototype._getFullListDimensions=function(){var b=this._list.getBoundingClientRect();return new j.Vector2(b.width,b.height)},b.prototype.update=function(){var c=this,d=this.refs,e=d.root,f=d.list;this._node=e,this._list=f;var g=this._getDirection();this._updateButtonSize(function(){c._listSize||c._updateListSize();var a=c._listSize;c.state.buttonVisible&&(a+=2*n),g===b.HORIZONTAL?(c._list.style.height=a+"px",c._node.style.top=c._listSize-o+"px",c._node.style.width=c._list.offsetWidth+"px"):g===b.VERTICAL&&(c._list.style.width=a+"px",c._node.style.left=c._listSize-o+"px",c._node.style.height=c._list.offsetHeight+"px")}),this._list.addEventListener("scroll",this._onListScroll)},b.prototype._getDirection=function(){return this.props.direction||"horizontal"},b.prototype._getButtonStyle=function(){var b=this._getDirection();return"horizontal"===b?{left:this.state.buttonPosition,width:this.state.buttonSize}:{top:this.state.buttonPosition,height:this.state.buttonSize}},b.prototype.getList=function(){return this.refs.list},b.prototype.getRoot=function(){return this.refs.root},b.prototype.renderWithBEM=function(){var b=this._getButtonStyle(),c={display:this.state.buttonVisible?"block":"none"},d=j.React.cloneElement(this.props.children,{ref:"list"});return j.ReactBEM.createElement("div",null,d,j.ReactBEM.createElement("div",{bem:"$b:scrollbar m:"+(this.props.direction||"horizontal")+" m:"+(this.state.buttonVisible?"visible":"invisible"),ref:"root",style:c,onMouseDown:this._onBarDragStart,onTouchStart:this._onBarDragStart},j.ReactBEM.createElement(l.default,{onStart:this._onButtonDragStart,onDrag:this._onButtonDrag,onStop:this._onButtonDragStop},j.ReactBEM.createElement("div",{bem:"e:bar",style:b,onMouseDown:this._onButtonDown}))))},b}(j.BaseComponent);b.default=p,p.HORIZONTAL="horizontal",p.VERTICAL="vertical",p.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(120),e=f(d);b.default=function(a,b,c){return b in a?(0,e.default)(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}},function(a,b){var c=a.exports={version:"2.4.0"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(85)("wks"),e=c(54),f=c(26).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a,b){"use strict";function c(a){return function(){return a}}var d=function(){};d.thatReturns=c,d.thatReturnsFalse=c(!1),d.thatReturnsTrue=c(!0),d.thatReturnsNull=c(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(a){return a},a.exports=d},function(a,b,c){"use strict";(function(b){function m(a){if("production"!==b.env.NODE_ENV&&h.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return void 0!==a.ref}function n(a){if("production"!==b.env.NODE_ENV&&h.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return void 0!==a.key}var k,l,d=c(8),e=c(24),f=c(7),g=c(100),h=Object.prototype.hasOwnProperty,i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,j={key:!0,ref:!0,__self:!0,__source:!0},o=function(a,c,d,e,f,h,j){var k={$$typeof:i,type:a,key:c,ref:d,props:j,_owner:h};return"production"!==b.env.NODE_ENV&&(k._store={},g?(Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:f})):(k._store.validated=!1,k._self=e,k._source=f),Object.freeze&&(Object.freeze(k.props),Object.freeze(k))),k};o.createElement=function(a,c,d){var g,p={},q=null,r=null,s=null,t=null;if(null!=c){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?f(null==c.__proto__||c.__proto__===Object.prototype,"React.createElement(...): Expected props argument to be a plain object. Properties defined in its prototype chain will be ignored."):void 0),m(c)&&(r=c.ref),n(c)&&(q=""+c.key),s=void 0===c.__self?null:c.__self,t=void 0===c.__source?null:c.__source;for(g in c)h.call(c,g)&&!j.hasOwnProperty(g)&&(p[g]=c[g])}var u=arguments.length-2;if(1===u)p.children=d;else if(u>1){for(var v=Array(u),w=0;w<u;w++)v[w]=arguments[w+2];p.children=v}if(a&&a.defaultProps){var x=a.defaultProps;for(g in x)void 0===p[g]&&(p[g]=x[g])}if("production"!==b.env.NODE_ENV){var y="function"==typeof a?a.displayName||a.name||"Unknown":a,z=function(){k||(k=!0,"production"!==b.env.NODE_ENV?f(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",y):void 0)};z.isReactWarning=!0;var A=function(){l||(l=!0,"production"!==b.env.NODE_ENV?f(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",y):void 0)};A.isReactWarning=!0,"undefined"!=typeof p.$$typeof&&p.$$typeof===i||(p.hasOwnProperty("key")||Object.defineProperty(p,"key",{get:z,configurable:!0}),p.hasOwnProperty("ref")||Object.defineProperty(p,"ref",{get:A,configurable:!0}))}return o(a,q,r,s,t,e.current,p)},o.createFactory=function(a){var b=o.createElement.bind(null,a);return b.type=a,b},o.cloneAndReplaceKey=function(a,b){var c=o(a.type,b,a.ref,a._self,a._source,a._owner,a.props);return c},o.cloneElement=function(a,c,g){var i,k=d({},a.props),l=a.key,p=a.ref,q=a._self,r=a._source,s=a._owner;if(null!=c){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?f(null==c.__proto__||c.__proto__===Object.prototype,"React.cloneElement(...): Expected props argument to be a plain object. Properties defined in its prototype chain will be ignored."):void 0),m(c)&&(p=c.ref,s=e.current),n(c)&&(l=""+c.key);var t;a.type&&a.type.defaultProps&&(t=a.type.defaultProps);for(i in c)h.call(c,i)&&!j.hasOwnProperty(i)&&(void 0===c[i]&&void 0!==t?k[i]=t[i]:k[i]=c[i])}var u=arguments.length-2;if(1===u)k.children=g;else if(u>1){for(var v=Array(u),w=0;w<u;w++)v[w]=arguments[w+2];k.children=v}return o(a.type,l,p,q,r,s,k)},o.isValidElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===i},o.REACT_ELEMENT_TYPE=i,a.exports=o}).call(b,c(4))},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(121),e=m(d),f=c(0),g=m(f),h=c(2),i=m(h),j=c(1),k=m(j),l=c(3),n=function(a){function b(c,d,e){var f=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];(0,g.default)(this,b);var h=(0,i.default)(this,a.call(this));return h.type=c,h.title=d,h.text=e,h.overlay=f,h.data=null,h}return(0,k.default)(b,a),b.prototype.setData=function(b){this.data=b,this.emit("update")},b.prototype.close=function(){this.emit("close")},b}(l.EventEmitter),o=function(a){function b(){(0,g.default)(this,b);var c=(0,i.default)(this,a.call(this));return c._modals=[],c}return(0,k.default)(b,a),b.prototype.displayLoading=function(b){var c=new n("loading",null,b);return this.addModal(c),c},b.prototype.displayProgress=function(b){var c=arguments.length<=1||void 0===arguments[1]?0:arguments[1],d=new n("progress",null,b);return d.setData({progress:c}),this.addModal(d),d},b.prototype.displayWarning=function(b,c){var d=new n("warning",b,c);return this.addModal(d),d},b.prototype.displayError=function(b,c){var d=arguments.length<=2||void 0===arguments[2]||arguments[2],e=new n("error",b,c,d);return this.addModal(e),e},b.prototype.addModal=function(b){var c=this;this._modals.push(b),b.on("close",function(){c.removeModal(b)}),b.on("update",function(){c.emit("update")}),this.emit("update")},b.prototype.removeModal=function(b){var c=this._modals.indexOf(b);this._modals.splice(c,1),this.emit("update")},b.prototype.getModals=function(){return this._modals},(0,e.default)(b,null,[{key:"instance",get:function(){return this._instance||(this._instance=new b),this._instance}}]),b}(l.EventEmitter);b.default=o},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onDragStart","_onDragMove","_onDragEnd"),h}return(0,i.default)(b,a),b.prototype._onDragStart=function(b){if(!this.props.disabled){b.preventDefault(),b.stopPropagation(),this._initialMousePosition=j.Utils.getEventPosition(b),document.addEventListener("mousemove",this._onDragMove),document.addEventListener("touchmove",this._onDragMove),document.addEventListener("mouseup",this._onDragEnd),document.addEventListener("touchend",this._onDragEnd);var c=this.refs.element,d=c.getBoundingClientRect(),e=new j.Vector2(d.left,d.top),f=this._initialMousePosition.clone().subtract(e);this.props.onStart&&this.props.onStart(f,b)}},b.prototype._onDragMove=function(b){b.preventDefault(),b.stopPropagation();var c=j.Utils.getEventPosition(b),d=c.clone().subtract(this._initialMousePosition);this.props.onDrag&&this.props.onDrag(d,b)},b.prototype._onDragEnd=function(b){b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),document.removeEventListener("mousemove",this._onDragMove),document.removeEventListener("touchmove",this._onDragMove),document.removeEventListener("mouseup",this._onDragEnd),document.removeEventListener("touchend",this._onDragEnd),this.props.onStop&&this.props.onStop(b)},b.prototype.render=function(){if(!this.props.children||this.props.children instanceof Array)throw new Error("DraggableComponent expects exactly one child.");return j.React.cloneElement(this.props.children,{onMouseDown:this._onDragStart,onTouchStart:this._onDragStart,ref:"element"})},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";(function(b){function r(){D.ReactReconcileTransaction&&q?void 0:"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):d("123")}function v(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=D.ReactReconcileTransaction.getPooled(!0)}function w(a,b,c,d,e,f){r(),q.batchedUpdates(a,b,c,d,e,f)}function x(a,b){return a._mountOrder-b._mountOrder}function y(a){var c=a.dirtyComponentsLength;c!==m.length?"production"!==b.env.NODE_ENV?l(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",c,m.length):d("124",c,m.length):void 0,m.sort(x),n++;for(var e=0;e<c;e++){var f=m[e],g=f._pendingCallbacks;f._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var k=f;f._currentElement.props===f._renderedComponent._currentElement&&(k=f._renderedComponent),i="React update: "+k.getName(),console.time(i)}if(j.performUpdateIfNecessary(f,a.reconcileTransaction,n),i&&console.timeEnd(i),g)for(var o=0;o<g.length;o++)a.callbackQueue.enqueue(g[o],f.getPublicInstance())}}function A(a){return r(),q.isBatchingUpdates?(m.push(a),void(null==a._updateBatchNumber&&(a._updateBatchNumber=n+1))):void q.batchedUpdates(A,a)}function B(a,c){q.isBatchingUpdates?void 0:"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):d("125"),o.enqueue(a,c),p=!0}var d=c(6),e=c(8),f=c(140),g=c(29),h=c(151),i=c(13),j=c(40),k=c(64),l=c(5),m=[],n=0,o=f.getPooled(),p=!1,q=null,s={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),z()):m.length=0}},t={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},u=[s,t];e(v.prototype,k.Mixin,{getTransactionWrappers:function(){return u},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,D.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return k.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),g.addPoolingTo(v);var z=function(){for("production"!==b.env.NODE_ENV&&i.debugTool.onBeginFlush();m.length||p;){if(m.length){var a=v.getPooled();a.perform(y,null,a),v.release(a)}if(p){p=!1;var c=o;o=f.getPooled(),c.notifyAll(),f.release(c)}}"production"!==b.env.NODE_ENV&&i.debugTool.onEndFlush()},C={injectReconcileTransaction:function(a){a?void 0:"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates: must provide a reconcile transaction class"):d("126"),D.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates: must provide a batching strategy"):d("127"),"function"!=typeof a.batchedUpdates?"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates: must provide a batchedUpdates() function"):d("128"):void 0,"boolean"!=typeof a.isBatchingUpdates?"production"!==b.env.NODE_ENV?l(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):d("129"):void 0,q=a}},D={ReactReconcileTransaction:null,batchedUpdates:w,enqueueUpdate:A,flushBatchedUpdates:z,injection:C,asap:B};a.exports=D}).call(b,c(4))},function(a,b,c){"use strict";var d=c(57),e=d({bubbled:null,captured:null}),f=d({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};a.exports=g},function(a,b){"use strict";var c={current:null};a.exports=c},function(a,b,c){"use strict";(function(b){function l(a,c,d,e){"production"!==b.env.NODE_ENV&&(delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation),this.dispatchConfig=a,this._targetInst=c,this.nativeEvent=d;var g=this.constructor.Interface;for(var h in g)if(g.hasOwnProperty(h)){"production"!==b.env.NODE_ENV&&delete this[h];var i=g[h];i?this[h]=i(d):"target"===h?this.target=e:this[h]=d[h]}var j=null!=d.defaultPrevented?d.defaultPrevented:d.returnValue===!1;return j?this.isDefaultPrevented=f.thatReturnsTrue:this.isDefaultPrevented=f.thatReturnsFalse,this.isPropagationStopped=f.thatReturnsFalse,this}function m(a,c){function e(a){var b=d?"setting the method":"setting the property";return h(b,"This is effectively a no-op"),a}function f(){var a=d?"accessing the method":"accessing the property",b=d?"This is a no-op function":"This is set to null";return h(a,b),c}function h(c,d){var e=!1;"production"!==b.env.NODE_ENV?g(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",c,a,d):void 0}var d="function"==typeof c;return{configurable:!0,set:e,get:f}}var d=c(8),e=c(29),f=c(18),g=c(7),h=!1,i="function"==typeof Proxy,j=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],k={type:null,target:null,currentTarget:f.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};d(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=f.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=f.thatReturnsTrue)},persist:function(){this.isPersistent=f.thatReturnsTrue},isPersistent:f.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var c in a)"production"!==b.env.NODE_ENV?Object.defineProperty(this,c,m(c,a[c])):this[c]=null;for(var d=0;d<j.length;d++)this[j[d]]=null;"production"!==b.env.NODE_ENV&&(Object.defineProperty(this,"nativeEvent",m("nativeEvent",null)),Object.defineProperty(this,"preventDefault",m("preventDefault",f)),Object.defineProperty(this,"stopPropagation",m("stopPropagation",f)))}}),l.Interface=k,"production"!==b.env.NODE_ENV&&i&&(l=new Proxy(l,{construct:function(a,b){return this.apply(a,Object.create(a.prototype),b)},apply:function(a,c,d){return new Proxy(a.apply(c,d),{set:function(a,c,d){return"isPersistent"===c||a.constructor.Interface.hasOwnProperty(c)||j.indexOf(c)!==-1||("production"!==b.env.NODE_ENV?g(h||a.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."):void 0,
h=!0),a[c]=d,!0}})}})),l.augmentClass=function(a,b){var c=this,f=function(){};f.prototype=c.prototype;var g=new f;d(g,a.prototype),a.prototype=g,a.prototype.constructor=a,a.Interface=d({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.fourArgumentPooler)},e.addPoolingTo(l,e.fourArgumentPooler),a.exports=l}).call(b,c(4))},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b,c){var d=c(30),e=c(125),f=c(88),g=Object.defineProperty;b.f=c(31)?Object.defineProperty:function(b,c,h){if(d(b),c=f(c,!0),d(h),e)try{return g(b,c,h)}catch(a){}if("get"in h||"set"in h)throw TypeError("Accessors not supported!");return"value"in h&&(b[c]=h.value),b}},function(a,b){"use strict";var c=function(b){var c;for(c in b)if(b.hasOwnProperty(c))return c;return null};a.exports=c},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(5),f=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},g=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},h=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},i=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();return e.call(f,a,b,c,d),f}return new e(a,b,c,d)},j=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},k=function(a){var c=this;a instanceof c?void 0:"production"!==b.env.NODE_ENV?e(!1,"Trying to release an instance into a pool of a different type."):d("25"),a.destructor(),c.instancePool.length<c.poolSize&&c.instancePool.push(a)},l=10,m=f,n=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||m,c.poolSize||(c.poolSize=l),c.release=k,c},o={addPoolingTo:n,oneArgumentPooler:f,twoArgumentPooler:g,threeArgumentPooler:h,fourArgumentPooler:i,fiveArgumentPooler:j};a.exports=o}).call(b,c(4))},function(a,b,c){var d=c(46);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){a.exports=!c(45)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(26),e=c(16),f=c(77),g=c(36),h="prototype",i=function(a,b,c){var s,t,u,j=a&i.F,k=a&i.G,l=a&i.S,m=a&i.P,n=a&i.B,o=a&i.W,p=k?e:e[b]||(e[b]={}),q=p[h],r=k?d:l?d[b]:(d[b]||{})[h];k&&(c=b);for(s in c)t=!j&&r&&void 0!==r[s],t&&s in p||(u=t?r[s]:c[s],p[s]=k&&"function"!=typeof r[s]?c[s]:n&&t?f(u,d):o&&r[s]==u?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b[h]=a[h],b}(u):m&&"function"==typeof u?f(Function.call,u):u,m&&((p.virtual||(p.virtual={}))[s]=u,a&i.R&&q&&!q[s]&&g(q,s,u)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,a.exports=i},function(a,b){var c={}.hasOwnProperty;a.exports=function(a,b){return c.call(a,b)}},function(a,b,c){var d=c(126),e=c(78);a.exports=function(a){return d(e(a))}},function(a,b,c){"use strict";(function(b){function f(a,b){return(a&b)===b}var d=c(6),e=c(5),g={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(a){var c=g,h=a.Properties||{},j=a.DOMAttributeNamespaces||{},k=a.DOMAttributeNames||{},l=a.DOMPropertyNames||{},m=a.DOMMutationMethods||{};a.isCustomAttribute&&i._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var n in h){i.properties.hasOwnProperty(n)?"production"!==b.env.NODE_ENV?e(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",n):d("48",n):void 0;var o=n.toLowerCase(),p=h[n],q={attributeName:o,attributeNamespace:null,propertyName:n,mutationMethod:null,mustUseProperty:f(p,c.MUST_USE_PROPERTY),hasSideEffects:f(p,c.HAS_SIDE_EFFECTS),hasBooleanValue:f(p,c.HAS_BOOLEAN_VALUE),hasNumericValue:f(p,c.HAS_NUMERIC_VALUE),hasPositiveNumericValue:f(p,c.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:f(p,c.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!q.mustUseProperty&&q.hasSideEffects?"production"!==b.env.NODE_ENV?e(!1,"DOMProperty: Properties that have side effects must use property: %s",n):d("49",n):void 0,q.hasBooleanValue+q.hasNumericValue+q.hasOverloadedBooleanValue<=1?void 0:"production"!==b.env.NODE_ENV?e(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",n):d("50",n),"production"!==b.env.NODE_ENV&&(i.getPossibleStandardName[o]=n),k.hasOwnProperty(n)){var r=k[n];q.attributeName=r,"production"!==b.env.NODE_ENV&&(i.getPossibleStandardName[r]=n)}j.hasOwnProperty(n)&&(q.attributeNamespace=j[n]),l.hasOwnProperty(n)&&(q.propertyName=l[n]),m.hasOwnProperty(n)&&(q.mutationMethod=m[n]),i.properties[n]=q}}},h=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:h,ATTRIBUTE_NAME_CHAR:h+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:"production"!==b.env.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<i._isCustomAttributeFunctions.length;b++){var c=i._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},injection:g};a.exports=i}).call(b,c(4))},function(a,b,c){var d=c(27),e=c(48);a.exports=c(31)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b){a.exports={}},function(a,b,c){"use strict";function k(a){if(j){var b=a.node,c=a.children;if(c.length)for(var d=0;d<c.length;d++)l(b,c[d],null);else null!=a.html?e(b,a.html):null!=a.text&&g(b,a.text)}}function m(a,b){a.parentNode.replaceChild(b.node,a),k(b)}function n(a,b){j?a.children.push(b):a.node.appendChild(b.node)}function o(a,b){j?a.html=b:e(a.node,b)}function p(a,b){j?a.text=b:g(a.node,b)}function q(){return this.node.nodeName}function r(a){return{node:a,children:[],html:null,text:null,toString:q}}var d=c(93),e=c(66),f=c(101),g=c(169),h=1,i=11,j="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),l=f(function(a,b,c){b.node.nodeType===i||b.node.nodeType===h&&"object"===b.node.nodeName.toLowerCase()&&(null==b.node.namespaceURI||b.node.namespaceURI===d.html)?(k(b),a.insertBefore(b.node,c)):(a.insertBefore(b.node,c),k(b))});r.insertTreeBefore=l,r.replaceChildWithTree=m,r.queueChild=n,r.queueHTML=o,r.queueText=p,a.exports=r},function(a,b,c){"use strict";(function(b){function k(a,b){h[a]||(h[a]={element:null,parentID:null,ownerID:null,text:null,childIDs:[],displayName:"Unknown",isMounted:!1,updateCount:0},i[a]=!0),b(h[a])}function l(a){var b=h[a];if(b){var c=b.childIDs;delete h[a],c.forEach(l)}}function m(a,b,c){return"\n    in "+a+(b?" (at "+b.fileName.replace(/^.*[\\\/]/,"")+":"+b.lineNumber+")":c?" (created by "+c+")":"")}function n(a){var f,c=o.getDisplayName(a),d=o.getElement(a),e=o.getOwnerID(a);return e&&(f=o.getDisplayName(e)),"production"!==b.env.NODE_ENV?g(d,"ReactComponentTreeDevtool: Missing React element for debugID %s when building stack",a):void 0,m(c,d&&d._source,f)}var d=c(6),e=c(24),f=c(5),g=c(7),h={},i={},j={},o={onSetDisplayName:function(a,b){k(a,function(a){return a.displayName=b})},onSetChildren:function(a,c){k(a,function(e){e.childIDs=c,c.forEach(function(c){var e=h[c];e?void 0:"production"!==b.env.NODE_ENV?f(!1,"Expected devtool events to fire for the child before its parent includes it in onSetChildren()."):d("68"),null==e.displayName?"production"!==b.env.NODE_ENV?f(!1,"Expected onSetDisplayName() to fire for the child before its parent includes it in onSetChildren()."):d("69"):void 0,null==e.childIDs&&null==e.text?"production"!==b.env.NODE_ENV?f(!1,"Expected onSetChildren() or onSetText() to fire for the child before its parent includes it in onSetChildren()."):d("70"):void 0,e.isMounted?void 0:"production"!==b.env.NODE_ENV?f(!1,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):d("71"),null==e.parentID&&(e.parentID=a),e.parentID!==a?"production"!==b.env.NODE_ENV?f(!1,"Expected onSetParent() and onSetChildren() to be consistent (%s has parents %s and %s).",c,e.parentID,a):d("72",c,e.parentID,a):void 0})})},onSetOwner:function(a,b){k(a,function(a){return a.ownerID=b})},onSetParent:function(a,b){k(a,function(a){return a.parentID=b})},onSetText:function(a,b){k(a,function(a){return a.text=b})},onBeforeMountComponent:function(a,b){k(a,function(a){return a.element=b})},onBeforeUpdateComponent:function(a,b){k(a,function(a){return a.element=b})},onMountComponent:function(a){k(a,function(a){return a.isMounted=!0}),delete i[a]},onMountRootComponent:function(a){j[a]=!0},onUpdateComponent:function(a){k(a,function(a){return a.updateCount++})},onUnmountComponent:function(a){k(a,function(a){return a.isMounted=!1}),i[a]=!0,delete j[a]},purgeUnmountedComponents:function(){if(!o._preventPurging){for(var a in i)l(a);i={}}},isMounted:function(a){var b=h[a];return!!b&&b.isMounted},getCurrentStackAddendum:function(a){var b="";if(a){var c=a.type,d="function"==typeof c?c.displayName||c.name:c,f=a._owner;b+=m(d||"Unknown",a._source,f&&f.getName())}var g=e.current,h=g&&g._debugID;return b+=o.getStackAddendumByID(h)},getStackAddendumByID:function(a){for(var b="";a;)b+=n(a),a=o.getParentID(a);return b},getChildIDs:function(a){var b=h[a];return b?b.childIDs:[]},getDisplayName:function(a){var b=h[a];return b?b.displayName:"Unknown"},getElement:function(a){var b=h[a];return b?b.element:null},getOwnerID:function(a){var b=h[a];return b?b.ownerID:null},getParentID:function(a){var b=h[a];return b?b.parentID:null},getSource:function(a){var b=h[a],c=b?b.element:null,d=null!=c?c._source:null;return d},getText:function(a){var b=h[a];return b?b.text:null},getUpdateCount:function(a){var b=h[a];return b?b.updateCount:0},getRootIDs:function(){return Object.keys(j)},getRegisteredIDs:function(){return Object.keys(h)}};a.exports=o}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function h(){e.attachRefs(this,this._currentElement)}var d=c(6),e=c(378),f=c(13),g=c(5),i={mountComponent:function(a,c,d,e,g){"production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onBeforeMountComponent(a._debugID,a._currentElement),f.debugTool.onBeginReconcilerTimer(a._debugID,"mountComponent"));var i=a.mountComponent(c,d,e,g);return a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(h,a),"production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onEndReconcilerTimer(a._debugID,"mountComponent"),f.debugTool.onMountComponent(a._debugID)),i},getHostNode:function(a){return a.getHostNode()},unmountComponent:function(a,c){"production"!==b.env.NODE_ENV&&0!==a._debugID&&f.debugTool.onBeginReconcilerTimer(a._debugID,"unmountComponent"),e.detachRefs(a,a._currentElement),a.unmountComponent(c),"production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onEndReconcilerTimer(a._debugID,"unmountComponent"),f.debugTool.onUnmountComponent(a._debugID))},receiveComponent:function(a,c,d,g){var i=a._currentElement;if(c!==i||g!==a._context){"production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onBeforeUpdateComponent(a._debugID,c),f.debugTool.onBeginReconcilerTimer(a._debugID,"receiveComponent"));var j=e.shouldUpdateRefs(i,c);j&&e.detachRefs(a,i),a.receiveComponent(c,d,g),j&&a._currentElement&&null!=a._currentElement.ref&&d.getReactMountReady().enqueue(h,a),"production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onEndReconcilerTimer(a._debugID,"receiveComponent"),f.debugTool.onUpdateComponent(a._debugID))}},performUpdateIfNecessary:function(a,c,e){return a._updateBatchNumber!==e?void(null!=a._updateBatchNumber&&a._updateBatchNumber!==e+1?"production"!==b.env.NODE_ENV?g(!1,"performUpdateIfNecessary: Unexpected batch number (current %s, pending %s)",e,a._updateBatchNumber):d("121",e,a._updateBatchNumber):void 0):("production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onBeginReconcilerTimer(a._debugID,"performUpdateIfNecessary"),f.debugTool.onBeforeUpdateComponent(a._debugID,a._currentElement)),a.performUpdateIfNecessary(c),void("production"!==b.env.NODE_ENV&&0!==a._debugID&&(f.debugTool.onEndReconcilerTimer(a._debugID,"performUpdateIfNecessary"),f.debugTool.onUpdateComponent(a._debugID))))}};a.exports=i}).call(b,c(4))},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onCanvasZoomDone"),h}return(0,i.default)(b,a),b.prototype._performHitTest=function(b){var c=this.refs.container,d=c.getBoundingClientRect(),e=new j.Vector2(d.left,d.top),f=b.subtract(e),g=this.context.editor,h=g.getAvailableControls();for(var i in h){var k=h[i],l=k.clickAtPosition&&k.clickAtPosition(f,g);if(l)return l.selectedSprite===this.getSharedState("selectedSprite")||(this.props.onSwitchControls(k,l),!0)}return!1},b.prototype._onCanvasZoomDone=function(){this.forceUpdate()},b.prototype._bindEvents=function(){a.prototype._bindEvents.call(this),this.context.mediator.on(j.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)},b.prototype._unbindEvents=function(){a.prototype._unbindEvents.call(this),this.context.mediator.off(j.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(227),l=m(k),n=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._renderHeader=function(){return this.context.options.showHeader?j.ReactBEM.createElement(l.default,null):null},b.prototype._renderScreen=function(){return j.ReactBEM.createElement("div",null)},b.prototype.renderWithBEM=function(){var b="b:screen";return this.context.options.showHeader||(b+=" m:noHeader"),j.ReactBEM.createElement("div",{bem:b,className:this.props.visible?null:"is-hidden"},this._renderHeader(),this._renderScreen())},b}(j.BaseComponent);b.default=n,n.propTypes={editor:j.React.PropTypes.any},n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(44),e=o(d),f=c(0),g=o(f),h=c(2),i=o(h),j=c(1),k=o(j),l=c(3),m=c(21),n=o(m),p=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return f._bindAll("_onKnobDragStart","_onKnobDrag","_onBarDragStart","_onBarDrag","_onMiddleDotDragStart"),f.state={value:f.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},f}return(0,k.default)(b,a),b.prototype.componentDidMount=function(){this._setValue(this.state.value,!1)},b.prototype.componentWillReceiveProps=function(b){b.value!==this.state.value&&this._setValue(b.value,!1)},b.prototype._onMiddleDotDragStart=function(){var b=this.props.minValue+(this.props.maxValue-this.props.minValue)/2;this._setValue(b)},b.prototype._onKnobDragStart=function(b){this._initialSliderPosition=this.state.sliderPosition,this._initialPosition=b},b.prototype._onKnobDrag=function(b){var c=this.refs.bar,d=c.offsetWidth,e=this._initialSliderPosition+b.x;e=Math.max(0,Math.min(e,d));var f=e/d,g=this.props.minValue+(this.props.maxValue-this.props.minValue)*f;this._setValue(g)},b.prototype._onBarDragStart=function(b){this._initialPosition=b.clone();var c=this.refs.bar,d=c.offsetWidth,e=b.x/d,f=this.props.minValue+(this.props.maxValue-this.props.minValue)*e;this._setValue(f)},b.prototype._onBarDrag=function(b){var c=this._initialPosition.clone().add(b),d=this.refs.bar,e=d.offsetWidth,f=c.x/e,g=this.props.minValue+(this.props.maxValue-this.props.minValue)*f;g=Math.max(this.props.minValue,Math.min(this.props.maxValue,g)),this._setValue(g)},b.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},b.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},b.prototype._displayMiddleDot=function(){return this.props.middleDot!==!1},b.prototype._setValue=function(b){var c=arguments.length<=1||void 0===arguments[1]||arguments[1];b=Math.round(b);var d=this.props,e=d.minValue,f=d.maxValue,g=(b-e)/(f-e),h=this.refs.bar,i=h.offsetWidth,j=i*g,k=g*i,l=0;this._displayMiddleDot()&&(k=Math.abs(g-.5)*i,l=g<.5?.5*i-k:"50%"),this.setState({value:b,sliderPosition:j,foregroundWidth:k,foregroundLeft:l}),c&&this.props.onChange&&this.props.onChange(b)},b.prototype._buildValue=function(b){return b%1!==0&&(b=b.toFixed(2)),this.props.positiveValuePrefix&&b>=0&&(b=""+this.props.positiveValuePrefix+b),this.props.valueUnit&&(b+=this.props.valueUnit),b},b.prototype.renderWithBEM=function(){var b=null;this._displayMiddleDot()&&(b=l.ReactBEM.createElement(n.default,{onStart:this._onMiddleDotDragStart},l.ReactBEM.createElement("div",{bem:"e:middleDot"})));var c={style:this._getForegroundStyle()},d="$b:slider"+(this.props.style?" m:"+this.props.style:"");return l.ReactBEM.createElement("div",{bem:d},l.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},l.ReactBEM.createElement(n.default,{onStart:this._onBarDragStart,onDrag:this._onBarDrag},l.ReactBEM.createElement("div",null,l.ReactBEM.createElement("div",{bem:"$e:background"}),l.ReactBEM.createElement("div",(0,e.default)({bem:"$e:foreground"},c)),l.ReactBEM.createElement(n.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},l.ReactBEM.createElement("div",{bem:"e:knob b:knob m:slider",style:this._getKnobStyle()})))),b),l.ReactBEM.createElement("div",{bem:"$e:labels"},l.ReactBEM.createElement("div",{bem:"e:label m:lowerBoundary"},this._buildValue(this.props.minValue)),l.ReactBEM.createElement("div",{bem:"e:label m:value"},this.props.label," ",this._buildValue(this.state.value)),l.ReactBEM.createElement("div",{bem:"e:label m:upperBoundary"},this._buildValue(this.props.maxValue))))},b}(l.BaseComponent);b.default=p,p.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(269),e=f(d);b.default=e.default||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}},function(a,b){a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(130),e=c(79);a.exports=Object.keys||function(b){return d(b,e)}},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(59),f=c(94),g=c(98),h=c(162),i=c(164),j=c(5),k={},l=null,m=function(a,b){a&&(f.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a))},n=function(a){return m(a,!0)},o=function(a){return m(a,!1)},p={injection:{injectEventPluginOrder:e.injectEventPluginOrder,injectEventPluginsByName:e.injectEventPluginsByName},putListener:function(a,c,f){"function"!=typeof f?"production"!==b.env.NODE_ENV?j(!1,"Expected %s listener to be a function, instead got type %s",c,typeof f):d("94",c,typeof f):void 0;var g=k[c]||(k[c]={});g[a._rootNodeID]=f;var h=e.registrationNameModules[c];h&&h.didPutListener&&h.didPutListener(a,c,f)},getListener:function(a,b){var c=k[b];return c&&c[a._rootNodeID]},deleteListener:function(a,b){var c=e.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b);var d=k[b];d&&delete d[a._rootNodeID]},deleteAllListeners:function(a){for(var b in k)if(k.hasOwnProperty(b)&&k[b][a._rootNodeID]){var c=e.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b),delete k[b][a._rootNodeID]}},extractEvents:function(a,b,c,d){for(var f,g=e.plugins,i=0;i<g.length;i++){var j=g[i];if(j){var k=j.extractEvents(a,b,c,d);k&&(f=h(f,k))}}return f},enqueueEvents:function(a){a&&(l=h(l,a))},processEventQueue:function(a){var c=l;l=null,a?i(c,n):i(c,o),l?"production"!==b.env.NODE_ENV?j(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):d("95"):void 0,g.rethrowCaughtError()},__purge:function(){k={}},__getListenerBank:function(){return k}};a.exports=p}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function l(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return k(a,d)}function m(a,c,d){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?i(a,"Dispatching inst must not be null"):void 0);var e=c?j.bubbled:j.captured,f=l(a,d,e);f&&(d._dispatchListeners=g(d._dispatchListeners,f),d._dispatchInstances=g(d._dispatchInstances,a))}function n(a){a&&a.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(a._targetInst,m,a)}function o(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst,c=b?f.getParentInstance(b):null;f.traverseTwoPhase(c,m,a)}}function p(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=k(a,d);e&&(c._dispatchListeners=g(c._dispatchListeners,e),c._dispatchInstances=g(c._dispatchInstances,a))}}function q(a){a&&a.dispatchConfig.registrationName&&p(a._targetInst,null,a)}function r(a){h(a,n)}function s(a){h(a,o)}function t(a,b,c,d){f.traverseEnterLeave(c,d,p,a,b)}function u(a){h(a,q)}var d=c(23),e=c(49),f=c(94),g=c(162),h=c(164),i=c(7),j=d.PropagationPhases,k=e.getListener,v={accumulateTwoPhaseDispatches:r,accumulateTwoPhaseDispatchesSkipTarget:s,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:t};a.exports=v}).call(b,c(4))},function(a,b,c){"use strict";function g(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e=c(104),f={view:function(a){if(a.view)return a.view;var b=e(a);if(b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};d.augmentClass(g,f),a.exports=g},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(273),e=i(d),f=c(272),g=i(f),h="function"==typeof g.default&&"symbol"==typeof e.default?function(a){return typeof a}:function(a){return a&&"function"==typeof g.default&&a.constructor===g.default?"symbol":typeof a};b.default="function"==typeof g.default&&"symbol"===h(e.default)?function(a){return"undefined"==typeof a?"undefined":h(a)}:function(a){return a&&"function"==typeof g.default&&a.constructor===g.default?"symbol":"undefined"==typeof a?"undefined":h(a)}},function(a,b){b.f={}.propertyIsEnumerable},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b,c){"use strict";var d=c(304)(!0);c(127)(String,"String",function(a){this._t=String(a),this._i=0},function(){var c,a=this._t,b=this._i;return b>=a.length?{value:void 0,done:!0}:(c=d(a,b),this._i+=c.length,{value:c,done:!1})})},function(a,b,c){"use strict";(function(b){var c={};"production"!==b.env.NODE_ENV&&Object.freeze(c),a.exports=c}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var d=c(5),e=function(c){var f,e={};c instanceof Object&&!Array.isArray(c)?void 0:"production"!==b.env.NODE_ENV?d(!1,"keyMirror(...): Argument must be an object."):d(!1);for(f in c)c.hasOwnProperty(f)&&(e[f]=f);return e};a.exports=e}).call(b,c(4))},function(a,b){"use strict";var c={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},d={getHostProps:function(a,b){if(!b.disabled)return b;var d={};for(var e in b)!c[e]&&b.hasOwnProperty(e)&&(d[e]=b[e]);return d}};a.exports=d},function(a,b,c){"use strict";(function(b){function h(){if(f)for(var a in g){var c=g[a],h=f.indexOf(a);if(h>-1?void 0:"production"!==b.env.NODE_ENV?e(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",a):d("96",a),!k.plugins[h]){c.extractEvents?void 0:"production"!==b.env.NODE_ENV?e(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a):d("97",a),k.plugins[h]=c;var j=c.eventTypes;for(var l in j)i(j[l],c,l)?void 0:"production"!==b.env.NODE_ENV?e(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,a):d("98",l,a)}}}function i(a,c,f){k.eventNameDispatchConfigs.hasOwnProperty(f)?"production"!==b.env.NODE_ENV?e(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",f):d("99",f):void 0,k.eventNameDispatchConfigs[f]=a;var g=a.phasedRegistrationNames;if(g){for(var h in g)if(g.hasOwnProperty(h)){var i=g[h];j(i,c,f)}return!0}return!!a.registrationName&&(j(a.registrationName,c,f),!0)}function j(a,c,f){if(k.registrationNameModules[a]?"production"!==b.env.NODE_ENV?e(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a):d("100",a):void 0,k.registrationNameModules[a]=c,k.registrationNameDependencies[a]=c.eventTypes[f].dependencies,"production"!==b.env.NODE_ENV){var g=a.toLowerCase();k.possibleRegistrationNames[g]=a,"onDoubleClick"===a&&(k.possibleRegistrationNames.ondblclick=a)}}var d=c(6),e=c(5),f=null,g={},k={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:"production"!==b.env.NODE_ENV?{}:null,injectEventPluginOrder:function(a){f?"production"!==b.env.NODE_ENV?e(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):d("101"):void 0,f=Array.prototype.slice.call(a),h()},injectEventPluginsByName:function(a){var c=!1;for(var f in a)if(a.hasOwnProperty(f)){var i=a[f];g.hasOwnProperty(f)&&g[f]===i||(g[f]?"production"!==b.env.NODE_ENV?e(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",f):d("102",f):void 0,g[f]=i,c=!0)}c&&h()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return k.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=k.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){f=null;for(var a in g)g.hasOwnProperty(a)&&delete g[a];k.plugins.length=0;var c=k.eventNameDispatchConfigs;for(var d in c)c.hasOwnProperty(d)&&delete c[d];var e=k.registrationNameModules;for(var h in e)e.hasOwnProperty(h)&&delete e[h];if("production"!==b.env.NODE_ENV){var i=k.possibleRegistrationNames;for(var j in i)i.hasOwnProperty(j)&&delete i[j]}}};a.exports=k}).call(b,c(4))},function(a,b,c){"use strict";function q(a){return Object.prototype.hasOwnProperty.call(a,p)||(a[p]=n++,l[a[p]]={}),l[a[p]]}var k,d=c(8),e=c(23),f=c(59),g=c(369),h=c(161),i=c(399),j=c(106),l={},m=!1,n=0,o={topAbort:"abort",topAnimationEnd:i("animationend")||"animationend",topAnimationIteration:i("animationiteration")||"animationiteration",topAnimationStart:i("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:i("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},p="_reactListenersID"+String(Math.random()).slice(2),r=d({},g,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(r.handleTopLevel),r.ReactEventListener=a}},setEnabled:function(a){r.ReactEventListener&&r.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!r.ReactEventListener||!r.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,d=q(c),g=f.registrationNameDependencies[a],h=e.topLevelTypes,i=0;i<g.length;i++){var k=g[i];d.hasOwnProperty(k)&&d[k]||(k===h.topWheel?j("wheel")?r.ReactEventListener.trapBubbledEvent(h.topWheel,"wheel",c):j("mousewheel")?r.ReactEventListener.trapBubbledEvent(h.topWheel,"mousewheel",c):r.ReactEventListener.trapBubbledEvent(h.topWheel,"DOMMouseScroll",c):k===h.topScroll?j("scroll",!0)?r.ReactEventListener.trapCapturedEvent(h.topScroll,"scroll",c):r.ReactEventListener.trapBubbledEvent(h.topScroll,"scroll",r.ReactEventListener.WINDOW_HANDLE):k===h.topFocus||k===h.topBlur?(j("focus",!0)?(r.ReactEventListener.trapCapturedEvent(h.topFocus,"focus",c),r.ReactEventListener.trapCapturedEvent(h.topBlur,"blur",c)):j("focusin")&&(r.ReactEventListener.trapBubbledEvent(h.topFocus,"focusin",c),r.ReactEventListener.trapBubbledEvent(h.topBlur,"focusout",c)),d[h.topBlur]=!0,d[h.topFocus]=!0):o.hasOwnProperty(k)&&r.ReactEventListener.trapBubbledEvent(k,o[k],c),d[k]=!0)}},trapBubbledEvent:function(a,b,c){return r.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return r.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(void 0===k&&(k=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!k&&!m){var a=h.refreshScrollValues;r.ReactEventListener.monitorScrollValue(a),m=!0}}});a.exports=r},function(a,b){"use strict";var c={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};a.exports=c},function(a,b,c){"use strict";var d=c(57),e=d({prop:null,context:null,childContext:null});a.exports=e},function(a,b,c){"use strict";function h(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(51),e=c(161),f=c(103),g={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:f,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+e.currentScrollLeft;
},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+e.currentScrollTop}};d.augmentClass(h,g),a.exports=h},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(5),f={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,c,f,g,h,i,j,k){this.isInTransaction()?"production"!==b.env.NODE_ENV?e(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):d("27"):void 0;var l,m;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),m=a.call(c,f,g,h,i,j,k),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(a){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return m},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=g.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===g.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(a){}}}},closeAll:function(a){this.isInTransaction()?void 0:"production"!==b.env.NODE_ENV?e(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):d("28");for(var c=this.transactionWrappers,f=a;f<c.length;f++){var j,h=c[f],i=this.wrapperInitData[f];try{j=!0,i!==g.OBSERVED_ERROR&&h.close&&h.close.call(this,i),j=!1}finally{if(j)try{this.closeAll(f+1)}catch(a){}}}this.wrapperInitData.length=0}},g={Mixin:f,OBSERVED_ERROR:{}};a.exports=g}).call(b,c(4))},function(a,b){"use strict";function d(a){var b=""+a,d=c.exec(b);if(!d)return b;var e,f="",g=0,h=0;for(g=d.index;g<b.length;g++){switch(b.charCodeAt(g)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}h!==g&&(f+=b.substring(h,g)),h=g+1,f+=e}return h!==g?f+b.substring(h,g):f}function e(a){return"boolean"==typeof a||"number"==typeof a?""+a:d(a)}var c=/["'&<>]/;a.exports=e},function(a,b,c){"use strict";var i,d=c(10),e=c(93),f=/^[ \r\n\t\f]/,g=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,h=c(101),j=h(function(a,b){if(a.namespaceURI!==e.svg||"innerHTML"in a)a.innerHTML=b;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+b+"</svg>";for(var c=i.firstChild.childNodes,d=0;d<c.length;d++)a.appendChild(c[d])}});if(d.canUseDOM){var k=document.createElement("div");k.innerHTML=" ",""===k.innerHTML&&(j=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),f.test(b)||"<"===b[0]&&g.test(b)){a.innerHTML=String.fromCharCode(65279)+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b}),k=null}a.exports=j},function(b,c){b.exports=a},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=o(d),f=c(0),g=o(f),h=c(2),i=o(h),j=c(1),k=o(j),l=c(3),m=c(181),n=o(m),p=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return h._value=h.props.initialValue.clone(),h._bindAll("_onButtonClick","_onValueChange","_onColorPickerOpen","_onColorPickerClose"),h._events=(0,e.default)({},l.Constants.EVENTS.COLORPICKER_OPEN,h._onColorPickerOpen),h.state={overlayVisible:!1},h._transparentPatternCanvas=l.Utils.createTransparentPatternCanvas(),h}return(0,k.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderColor()},b.prototype.componentDidUpdate=function(){this._renderColor()},b.prototype._onColorPickerOpen=function(b){b!==this&&this.setState({overlayVisible:!1})},b.prototype._onColorPickerClose=function(){this.setState({overlayVisible:!1})},b.prototype._onButtonClick=function(b){b.preventDefault(),b.stopPropagation(),this.state.overlayVisible||this._emitEvent(l.Constants.EVENTS.COLORPICKER_OPEN,this),this.setState({overlayVisible:!this.state.overlayVisible})},b.prototype._onValueChange=function(b){this._value=b,this._renderColor(),this.forceUpdate(),this.props.onChange&&this.props.onChange(b)},b.prototype._renderColor=function(){var b=this.refs.canvas,c=b.getContext("2d");b.width=b.offsetWidth,b.height=b.offsetHeight;var d=c.createPattern(this._transparentPatternCanvas,"repeat");c.fillStyle=d,c.fillRect(0,0,b.width,b.height),c.fillStyle=this._value.toRGBA(),c.fillRect(0,0,b.width,b.height)},b.prototype.renderWithBEM=function(){var b=null;this.state.overlayVisible&&(b=l.ReactBEM.createElement(n.default,{initialValue:this._value,onChange:this._onValueChange,onClose:this._onColorPickerClose,alpha:this.props.alpha}));var c=this.state.overlayVisible?"is-active":null;return l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$b:colorPicker",className:c,onClick:this._onButtonClick},l.ReactBEM.createElement("canvas",{bem:"e:preview",ref:"canvas"}),l.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||this._t("generic.color")),b))},b}(l.BaseComponent);b.default=p,p.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(43),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onSliderValueChange"),h.state={value:h.props.value},h}return(0,i.default)(b,a),b.prototype.componentWillReceiveProps=function(b){b.value!==this.state.value&&(this.state.value=b.value)},b.prototype._onSliderValueChange=function(b){this.props.onChange&&this.props.onChange(b),this.setState({value:b})},b.prototype.renderWithBEM=function(){var b=j.SDKUtils.defaults(this.props,{style:"",middleDot:!1,minValue:1,maxValue:100,label:"Label",onChange:this._onSliderValueChange,value:this.state.value});return j.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:large m:dark"},j.ReactBEM.createElement(l.default,b))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onRemoveClick","_onItemDragStart","_onItemDragStop","_onItemDrag","_onSpriteUpdate"),h}return(0,i.default)(b,a),b.prototype._getAbsoluteSpritePosition=function(){var b=this.context.editor,c=b.getZoom();return this.props.sprite.getPosition().clone().multiply(c)},b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this.props.sprite.on("update",this._onSpriteUpdate)},b.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this),this.props.sprite.off("update",this._onSpriteUpdate)},b.prototype.componentWillReceiveProps=function(b){this.props.sprite.off("update",this._onSpriteUpdate),b.sprite.on("update",this._onSpriteUpdate)},b.prototype._onSpriteUpdate=function(){this.forceUpdate()},b.prototype._onItemDragStart=function(){var b=this.props.sprite;this._initialPosition=b.getPosition(),this.props.onDragStart&&this.props.onDragStart()},b.prototype._onItemDrag=function(b){var c=this.props.sprite,d=this.context.editor,e=d.getZoom(),f=this._initialPosition.clone().add(b.divide(e));c.setPosition(f)},b.prototype._onItemDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},b.prototype._onRemoveClick=function(b){b.stopPropagation();var c=this.props,d=c.operation,e=c.sprite,f=c.onRemove;d.removeSprite(e),f&&f()},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(44),e=w(d),f=c(15),g=w(f),h=c(0),i=w(h),j=c(2),k=w(j),l=c(1),m=w(l),n=c(3),o=c(217),p=w(o),q=c(216),r=w(q),s=c(215),t=w(s),u=c(41),v=w(u),x=n.SDK.Operations.SpriteOperation,y=x.Sticker,z=x.Text,A=x.Brush,B=function(a){function b(){var c;(0,i.default)(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var h=(0,k.default)(this,a.call.apply(a,[this].concat(e)));return h._bindAll("_onCanvasClick","_onSpriteDragStart","_onSpriteDragStop","_onOperationUpdated","_onOperationRemoved","_onSpriteFlip","_onSpriteTakeToFront","_onSpriteRemove"),h._canvasClickDisabled=!1,h._events=(c={},(0,g.default)(c,n.Constants.EVENTS.OPERATION_UPDATED,h._onOperationUpdated),(0,g.default)(c,n.Constants.EVENTS.OPERATION_REMOVED,h._onOperationRemoved),c),h}return(0,m.default)(b,a),b.prototype._onOperationRemoved=function(b){var c=this.getSharedState("selectedSprite");if(b===this.getSharedState("operation")&&c){var d=this.context.editor,e=d.getOrCreateOperation("sprite",{sprites:[c],enabled:!1});this.setSharedState({operation:e,operationExistedBefore:!1,initialOptions:{}})}},b.prototype._onOperationUpdated=function(b){var c=this.getSharedState("selectedSprite");if(b===this.getSharedState("operation")&&c){var d=b.getSprites();d.indexOf(c)===-1&&d.push(c),this.forceUpdate()}},b.prototype._onItemBlur=function(){},b.prototype._onCanvasClick=function(b){if(!this._canvasClickDisabled){var c=this._performHitTest(n.Utils.getEventPosition(b));c||(this.getSharedState("selectedSprite")&&this._onItemBlur(),this.props.onSwitchControls("home"))}},b.prototype._onSpriteFlip=function(b){var c=this.getSharedState("selectedSprite");switch(b){case"h":c.setFlipHorizontally(!c.getFlipHorizontally());break;case"v":c.setFlipVertically(!c.getFlipVertically())}},b.prototype._onSpriteTakeToFront=function(b){var c=this.getSharedState("operation");c.takeSpriteToFront(this.getSharedState("selectedSprite")),this.forceSharedUpdate()},b.prototype._onSpriteRemove=function(){var b=this.getSharedState("operation"),c=this.getSharedState("selectedSprite");b.removeSprite(c),this.setSharedState({selectedSprite:null})},b.prototype._onSpriteDragStart=function(){this._canvasClickDisabled=!0},b.prototype._onSpriteDragStop=function(){var b=this;setTimeout(function(){b._canvasClickDisabled=!1},100)},b.prototype._getContainerStyle=function(){var b=this.context.editor.getSDK().getSprite().getBounds(),c=b.x,d=b.y,e=b.width,f=b.height;return{left:c,top:d,width:e,height:f}},b.prototype._getContainerProps=function(){return{}},b.prototype._getInnerContainerProps=function(){return{style:this._getContainerStyle(),onClick:this._onCanvasClick}},b.prototype._renderSpriteItems=function(){var b=this,c=this.getSharedState("operation"),d=c.getSprites(),e=this.getSharedState("selectedSprite");return d.map(function(a){var d=a===e,f=null;return a instanceof z?f=p.default:a instanceof y?f=r.default:a instanceof A&&(f=t.default),n.ReactBEM.createElement(f,{operation:c,sharedState:b.props.sharedState,sprite:a,selected:d,onDragStart:b._onSpriteDragStart,onDragStop:b._onSpriteDragStop,onRemove:b._onSpriteRemove.bind(b,a)})})},b.prototype._renderOverlayControls=function(){return null},b.prototype.renderWithBEM=function(){return n.ReactBEM.createElement("div",(0,e.default)({bem:"$b:canvasControls e:container m:full",ref:"container"},this._getContainerProps()),n.ReactBEM.createElement("div",(0,e.default)({bem:"b:canvasControls e:innerContainer",ref:"root"},this._getInnerContainerProps()),n.ReactBEM.createElement("div",{bem:"$b:spritesCanvasControls",ref:"container"},this._renderSpriteItems(),this._renderOverlayControls())))},b}(v.default);b.default=B,B.contextTypes=v.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onClick"),h}return(0,i.default)(b,a),b.prototype._onClick=function(b){this.props.onClick&&this.props.onClick()},b.prototype._renderContent=function(){return null},b.prototype.renderWithBEM=function(){var b="$e:row m:"+this._modifier;return this.props.totalRows&&(b+=" m:row-"+this.props.totalRows),j.ReactBEM.createElement("bem",{specifier:"b:splashScreen"},j.ReactBEM.createElement("div",{bem:b},this._renderContent()))},b}(j.BaseComponent);b.default=l,l.propTypes={onClick:j.React.PropTypes.func},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(255),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onNewFile"),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){this._fileLoader=new l.default(this.refs.fileInput),this._fileLoader.on("file",this._onNewFile)},b.prototype.componentWillUnmount=function(){this._fileLoader.off("file",this._onNewFile),this._fileLoader.dispose(),this._fileLoader=null},b.prototype._onNewFile=function(b){this.props.onNewFile&&this.props.onNewFile(b)},b.prototype.open=function(){this._fileLoader.open()},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("input",{type:"file",bem:"b:hiddenFileInput",ref:"fileInput"})},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b="$e:button";this.props.style&&(b+=" m:"+this.props.style),this.props.icon&&(b+=" m:withIcon");var c=null;return this.props.icon&&(c=j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath(this.props.icon,!0)})),j.ReactBEM.createElement("bem",{specifier:"$b:topBar"},j.ReactBEM.createElement("div",{bem:b,onClick:this.props.onClick},c,j.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||"Button")))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderContent=function(){return this.props.children},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:topBar e:row"},j.ReactBEM.createElement("div",{bem:"e:cell"},this.renderContent()))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b,c){var d=c(285);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b){a.exports=!0},function(a,b,c){var d=c(30),e=c(300),f=c(79),g=c(84)("IE_PROTO"),h=function(){},i="prototype",j=function(){var e,a=c(124)("iframe"),b=f.length,d=">";for(a.style.display="none",c(290).appendChild(a),a.src="javascript:",e=a.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+d),e.close(),j=e.F;b--;)delete j[i][f[b]];return j()};a.exports=Object.create||function(b,c){var f;return null!==b?(h[i]=d(b),f=new h,h[i]=null,f[g]=b):f=j(),void 0===c?f:e(f,c)}},function(a,b){b.f=Object.getOwnPropertySymbols},function(a,b,c){var d=c(27).f,e=c(33),f=c(17)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){var d=c(85)("keys"),e=c(54);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){var d=c(26),e="__core-js_shared__",f=d[e]||(d[e]={});a.exports=function(a){return f[a]||(f[a]={})}},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b,c){var d=c(78);a.exports=function(a){return Object(d(a))}},function(a,b,c){var d=c(46);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){var d=c(26),e=c(16),f=c(80),g=c(90),h=c(27).f;a.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},function(a,b,c){b.f=c(17)},function(a,b,c){c(309);for(var d=c(26),e=c(36),f=c(37),g=c(17)("toStringTag"),h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},function(a,b,c){"use strict";(function(b){function l(a,b){return Array.isArray(b)&&(b=b[1]),b?b.nextSibling:a.firstChild}function n(a,b,c){d.insertTreeBefore(a,b,c)}function o(a,b,c){Array.isArray(b)?q(a,b[0],b[1],c):m(a,b,c)}function p(a,b){if(Array.isArray(b)){var c=b[1];b=b[0],r(a,b,c),a.removeChild(c)}a.removeChild(b)}function q(a,b,c,d){for(var e=b;;){var f=e.nextSibling;if(m(a,e,d),e===c)break;e=f}}function r(a,b,c){for(;;){var d=b.nextSibling;if(d===c)break;a.removeChild(d)}}function s(a,c,d){var e=a.parentNode,f=a.nextSibling;f===c?d&&m(e,document.createTextNode(d),f):d?(k(f,d),r(e,f,c)):r(e,a,c),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(g.getInstanceFromNode(a)._debugID,"replace text",d)}var d=c(38),e=c(342),f=c(155),g=c(9),h=c(13),i=c(101),j=c(66),k=c(169),m=i(function(a,b,c){a.insertBefore(b,c)}),t=e.dangerouslyReplaceNodeWithMarkup;"production"!==b.env.NODE_ENV&&(t=function(a,b,c){if(e.dangerouslyReplaceNodeWithMarkup(a,b),0!==c._debugID)h.debugTool.onHostOperation(c._debugID,"replace with",b.toString());else{var d=g.getInstanceFromNode(b.node);0!==d._debugID&&h.debugTool.onHostOperation(d._debugID,"mount",b.toString())}});var u={dangerouslyReplaceNodeWithMarkup:t,replaceDelimitedText:s,processUpdates:function(a,c){if("production"!==b.env.NODE_ENV)var d=g.getInstanceFromNode(a)._debugID;for(var e=0;e<c.length;e++){var i=c[e];switch(i.type){case f.INSERT_MARKUP:n(a,i.content,l(a,i.afterNode)),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(d,"insert child",{toIndex:i.toIndex,content:i.content.toString()});break;case f.MOVE_EXISTING:o(a,i.fromNode,l(a,i.afterNode)),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(d,"move child",{fromIndex:i.fromIndex,toIndex:i.toIndex});break;case f.SET_MARKUP:j(a,i.content),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(d,"replace children",i.content.toString());break;case f.TEXT_CONTENT:k(a,i.content),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(d,"replace text",i.content.toString());break;case f.REMOVE_NODE:p(a,i.fromNode),"production"!==b.env.NODE_ENV&&h.debugTool.onHostOperation(d,"remove child",{fromIndex:i.fromIndex})}}}};a.exports=u}).call(b,c(4))},function(a,b){"use strict";var c={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};a.exports=c},function(a,b,c){"use strict";(function(b){function m(a){return a===l.topMouseUp||a===l.topTouchEnd||a===l.topTouchCancel}function n(a){return a===l.topMouseMove||a===l.topTouchMove}function o(a){return a===l.topMouseDown||a===l.topTouchStart}function q(a,b,c,d){var e=a.type||"unknown-event";a.currentTarget=w.getNodeFromInstance(d),b?f.invokeGuardedCallbackWithCatch(e,c,a):f.invokeGuardedCallback(e,c,a),a.currentTarget=null}function r(a,c){var d=a._dispatchListeners,e=a._dispatchInstances;if("production"!==b.env.NODE_ENV&&p(a),Array.isArray(d))for(var f=0;f<d.length&&!a.isPropagationStopped();f++)q(a,c,d[f],e[f]);else d&&q(a,c,d,e);a._dispatchListeners=null,a._dispatchInstances=null}function s(a){var c=a._dispatchListeners,d=a._dispatchInstances;if("production"!==b.env.NODE_ENV&&p(a),Array.isArray(c)){for(var e=0;e<c.length&&!a.isPropagationStopped();e++)if(c[e](a,d[e]))return d[e]}else if(c&&c(a,d))return d;return null}function t(a){var b=s(a);return a._dispatchInstances=null,a._dispatchListeners=null,b}function u(a){"production"!==b.env.NODE_ENV&&p(a);var c=a._dispatchListeners,e=a._dispatchInstances;Array.isArray(c)?"production"!==b.env.NODE_ENV?g(!1,"executeDirectDispatch(...): Invalid `event`."):d("103"):void 0,a.currentTarget=c?w.getNodeFromInstance(e):null;var f=c?c(a):null;return a.currentTarget=null,a._dispatchListeners=null,a._dispatchInstances=null,f}function v(a){return!!a._dispatchListeners}var i,j,p,d=c(6),e=c(23),f=c(98),g=c(5),h=c(7),k={injectComponentTree:function(a){i=a,"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?h(a&&a.getNodeFromInstance&&a.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode."):void 0)},injectTreeTraversal:function(a){j=a,"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?h(a&&a.isAncestor&&a.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected module is missing isAncestor or getLowestCommonAncestor."):void 0)}},l=e.topLevelTypes;"production"!==b.env.NODE_ENV&&(p=function(a){var c=a._dispatchListeners,d=a._dispatchInstances,e=Array.isArray(c),f=e?c.length:c?1:0,g=Array.isArray(d),i=g?d.length:d?1:0;"production"!==b.env.NODE_ENV?h(g===e&&i===f,"EventPluginUtils: Invalid `event`."):void 0});var w={isEndish:m,isMoveish:n,isStartish:o,executeDirectDispatch:u,executeDispatchesInOrder:r,executeDispatchesInOrderStopAtTrue:t,hasDispatches:v,getInstanceFromNode:function(a){return i.getInstanceFromNode(a)},getNodeFromInstance:function(a){return i.getNodeFromInstance(a)},isAncestor:function(a,b){return j.isAncestor(a,b)},getLowestCommonAncestor:function(a,b){return j.getLowestCommonAncestor(a,b)},getParentInstance:function(a){return j.getParentInstance(a)},traverseTwoPhase:function(a,b,c){return j.traverseTwoPhase(a,b,c)},traverseEnterLeave:function(a,b,c,d,e){return j.traverseEnterLeave(a,b,c,d,e)},injection:k};a.exports=w}).call(b,c(4))},function(a,b){"use strict";function c(a){var b=/[=:]/g,c={"=":"=0",":":"=2"},d=(""+a).replace(b,function(a){return c[a]});return"$"+d}function d(a){var b=/(=0|=2)/g,c={"=0":"=","=2":":"},d="."===a[0]&&"$"===a[1]?a.substring(2):a.substring(1);return(""+d).replace(b,function(a){return c[a]})}var e={escape:c,unescape:d};a.exports=e},function(a,b,c){"use strict";(function(b){function j(a){null!=a.checkedLink&&null!=a.valueLink?"production"!==b.env.NODE_ENV?g(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):d("87"):void 0}function k(a){j(a),null!=a.value||null!=a.onChange?"production"!==b.env.NODE_ENV?g(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):d("88"):void 0}function l(a){j(a),null!=a.checked||null!=a.onChange?"production"!==b.env.NODE_ENV?g(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):d("89"):void 0}function o(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}var d=c(6),e=c(158),f=c(62),g=c(5),h=c(7),i={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},m={value:function(a,b,c){return!a[b]||i[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:e.func},n={},p={checkPropTypes:function(a,c,d){for(var e in m){if(m.hasOwnProperty(e))var g=m[e](c,e,a,f.prop);if(g instanceof Error&&!(g.message in n)){n[g.message]=!0;var i=o(d);"production"!==b.env.NODE_ENV?h(!1,"Failed form propType: %s%s",g.message,i):void 0}}},getValue:function(a){return a.valueLink?(k(a),a.valueLink.value):a.value},getChecked:function(a){return a.checkedLink?(l(a),a.checkedLink.value):a.checked},executeOnChange:function(a,b){return a.valueLink?(k(a),a.valueLink.requestChange(b.target.value)):a.checkedLink?(l(a),a.checkedLink.requestChange(b.target.checked)):a.onChange?a.onChange.call(void 0,b):void 0}};a.exports=p}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(5),f=!1,g={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){f?"production"!==b.env.NODE_ENV?e(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):d("104"):void 0,g.unmountIDFromEnvironment=a.unmountIDFromEnvironment,g.replaceNodeWithMarkup=a.replaceNodeWithMarkup,g.processChildrenUpdates=a.processChildrenUpdates,f=!0}}};a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function d(a,b,d,e){try{return b(d,e)}catch(a){return void(null===c&&(c=a))}}var c=null,e={invokeGuardedCallback:d,invokeGuardedCallbackWithCatch:d,rethrowCaughtError:function(){if(c){var a=c;throw c=null,a}}};if("production"!==b.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var f=document.createElement("react");e.invokeGuardedCallback=function(a,b,c,d){var e=b.bind(null,c,d),g="react-"+a;f.addEventListener(g,e,!1);var h=document.createEvent("Event");h.initEvent(g,!1,!1),f.dispatchEvent(h),f.removeEventListener(g,e,!1)}}a.exports=e}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var c={};"production"!==b.env.NODE_ENV&&(c={prop:"prop",context:"context",childContext:"child context"}),a.exports=c}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var c=!1;if("production"!==b.env.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){}}),c=!0}catch(a){}a.exports=c}).call(b,c(4))},function(a,b){"use strict";var c=function(a){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a};a.exports=c},function(a,b){"use strict";function c(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}a.exports=c},function(a,b){"use strict";function d(a){var b=this,d=b.nativeEvent;if(d.getModifierState)return d.getModifierState(a);var e=c[a];return!!e&&!!d[e]}function e(a){return d}var c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};a.exports=e},function(a,b){"use strict";function c(a){var b=a.target||a.srcElement||window;return b.correspondingUseElement&&(b=b.correspondingUseElement),3===b.nodeType?b.parentNode:b}a.exports=c},function(a,b){"use strict";function e(a){var b=a&&(c&&a[c]||a[d]);if("function"==typeof b)return b}var c="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";a.exports=e},function(a,b,c){"use strict";function f(a,b){if(!d.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,f=c in document;if(!f){var g=document.createElement("div");g.setAttribute(c,"return;"),f="function"==typeof g[c]}return!f&&e&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0")),f}var e,d=c(10);d.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),a.exports=f},function(a,b){"use strict";function c(a,b){var c=null===a||a===!1,d=null===b||b===!1;if(c||d)return c===d;var e=typeof a,f=typeof b;return"string"===e||"number"===e?"string"===f||"number"===f:"object"===f&&a.type===b.type&&a.key===b.key}a.exports=c},function(a,b,c){"use strict";(function(b){function n(a,b){return a&&"object"==typeof a&&null!=a.key?i.escape(a.key):b.toString(36)}function o(a,c,p,q){var r=typeof a;if("undefined"!==r&&"boolean"!==r||(a=null),null===a||"string"===r||"number"===r||f.isValidElement(a))return p(q,a,""===c?k+n(a,0):c),1;var s,t,u=0,v=""===c?k:c+l;if(Array.isArray(a))for(var w=0;w<a.length;w++)s=a[w],t=v+n(s,w),u+=o(s,t,p,q);else{var x=g(a);if(x){var z,y=x.call(a);if(x!==a.entries)for(var A=0;!(z=y.next()).done;)s=z.value,t=v+n(s,A++),u+=o(s,t,p,q);else for("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?j(m,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,m=!0);!(z=y.next()).done;){var B=z.value;B&&(s=B[1],t=v+i.escape(B[0])+l+n(s,0),u+=o(s,t,p,q))}}else if("object"===r){var C="";if("production"!==b.env.NODE_ENV&&(C=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",a._isReactElement&&(C=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),e.current)){var D=e.current.getName();D&&(C+=" Check the render method of `"+D+"`.")}var E=String(a);"production"!==b.env.NODE_ENV?h(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===E?"object with keys {"+Object.keys(a).join(", ")+"}":E,C):d("31","[object Object]"===E?"object with keys {"+Object.keys(a).join(", ")+"}":E,C)}}return u}function p(a,b,c){return null==a?0:o(a,"",b,c)}var d=c(6),e=c(24),f=c(19),g=c(105),h=c(5),i=c(95),j=c(7),k=".",l=":",m=!1;a.exports=p}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var d=c(8),e=c(18),f=c(7),g=e;if("production"!==b.env.NODE_ENV){var h=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],i=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],j=i.concat(["button"]),k=["dd","dt","li","option","optgroup","p","rp","rt"],l={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},m=function(a,b,c){var e=d({},a||l),f={tag:b,instance:c};return i.indexOf(b)!==-1&&(e.aTagInScope=null,
e.buttonTagInScope=null,e.nobrTagInScope=null),j.indexOf(b)!==-1&&(e.pTagInButtonScope=null),h.indexOf(b)!==-1&&"address"!==b&&"div"!==b&&"p"!==b&&(e.listItemTagAutoclosing=null,e.dlItemTagAutoclosing=null),e.current=f,"form"===b&&(e.formTag=f),"a"===b&&(e.aTagInScope=f),"button"===b&&(e.buttonTagInScope=f),"nobr"===b&&(e.nobrTagInScope=f),"p"===b&&(e.pTagInButtonScope=f),"li"===b&&(e.listItemTagAutoclosing=f),"dd"!==b&&"dt"!==b||(e.dlItemTagAutoclosing=f),e},n=function(a,b){switch(b){case"select":return"option"===a||"optgroup"===a||"#text"===a;case"optgroup":return"option"===a||"#text"===a;case"option":return"#text"===a;case"tr":return"th"===a||"td"===a||"style"===a||"script"===a||"template"===a;case"tbody":case"thead":case"tfoot":return"tr"===a||"style"===a||"script"===a||"template"===a;case"colgroup":return"col"===a||"template"===a;case"table":return"caption"===a||"colgroup"===a||"tbody"===a||"tfoot"===a||"thead"===a||"style"===a||"script"===a||"template"===a;case"head":return"base"===a||"basefont"===a||"bgsound"===a||"link"===a||"meta"===a||"title"===a||"noscript"===a||"noframes"===a||"style"===a||"script"===a||"template"===a;case"html":return"head"===a||"body"===a;case"#document":return"html"===a}switch(a){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b;case"rp":case"rt":return k.indexOf(b)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==b}return!0},o=function(a,b){switch(a){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return b.pTagInButtonScope;case"form":return b.formTag||b.pTagInButtonScope;case"li":return b.listItemTagAutoclosing;case"dd":case"dt":return b.dlItemTagAutoclosing;case"button":return b.buttonTagInScope;case"a":return b.aTagInScope;case"nobr":return b.nobrTagInScope}return null},p=function(a){if(!a)return[];var b=[];do b.push(a);while(a=a._currentElement._owner);return b.reverse(),b},q={};g=function(a,c,d){d=d||l;var e=d.current,g=e&&e.tag,h=n(a,g)?null:e,i=h?null:o(a,d),j=h||i;if(j){var w,k=j.tag,m=j.instance,r=c&&c._currentElement._owner,s=m&&m._currentElement._owner,t=p(r),u=p(s),v=Math.min(t.length,u.length),x=-1;for(w=0;w<v&&t[w]===u[w];w++)x=w;var y="(unknown)",z=t.slice(x+1).map(function(a){return a.getName()||y}),A=u.slice(x+1).map(function(a){return a.getName()||y}),B=[].concat(x!==-1?t[x].getName()||y:[],A,k,i?["..."]:[],z,a).join(" > "),C=!!h+"|"+a+"|"+k+"|"+B;if(q[C])return;q[C]=!0;var D=a;if("#text"!==a&&(D="<"+a+">"),h){var E="";"table"===k&&"tr"===a&&(E+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==b.env.NODE_ENV?f(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>. See %s.%s",D,k,B,E):void 0}else"production"!==b.env.NODE_ENV?f(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>. See %s.",D,k,B):void 0}},g.updatedAncestorInfo=m,g.isTagValidInContext=function(a,b){b=b||l;var c=b.current,d=c&&c.tag;return n(a,d)&&!o(a,b)}}a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";a.exports=c(347)},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=j(d),f=c(67),g=j(f),h=c(403),i=j(h),k=5e3,l=g.default.Promise,m=function(){function a(b){(0,e.default)(this,a),this._url=b,this._parsedUrl=i.default.parse(this._url,!0)}return a.prototype._isJSONPRequest=function(){var b=this._parsedUrl.query;for(var c in b){var d=b[c];if("?"===d)return!0}return!1},a.prototype.load=function(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()},a.prototype._loadJSON=function(){var b=this;return new l(function(a,c){var d=void 0;window.XDomainRequest?(d=new window.XDomainRequest,d.onload=function(){var b=JSON.parse(d.responseText);a(b)},d.onerror=function(a){c(a)}):window.XMLHttpRequest&&(d=new XMLHttpRequest,d.onreadystatechange=function(b){if(4===d.readyState)if(200===d.status){var e=JSON.parse(d.responseText);a(e)}else c(new Error(d.statusText))}),d.open("GET",b._url,!0),d.send()})},a.prototype._loadJSONP=function(){var b=this,c=!1,d=!1,e="pesdk"+Math.round(99999999999999*Math.random());return new l(function(a,f){var g=b._createJSONPNode(e);window[e]=function(e){b._removeJSONPNode(g),c||(d=!0,a(e))},window.setTimeout(function(){d||(b._removeJSONPNode(g),c=!0,f(new Error("Timeout of 5 seconds exceeded.")))},k)})},a.prototype._createJSONPNode=function(b){var c=this._buildJSONPUrl(b),d=document.querySelector("head"),e=document.createElement("script");return e.src=c,d.appendChild(e),e},a.prototype._removeJSONPNode=function(b){b.parentNode.removeChild(b)},a.prototype._buildJSONPUrl=function(b){var c=this._parsedUrl.query,d=null;for(var e in c)if("?"===c[e]){d=e;break}return delete this._parsedUrl.search,c[d]=b,i.default.format(this._parsedUrl)},a}();b.default=m},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(178),l=m(k),n=function(a){function b(){(0,e.default)(this,b);var c=(0,g.default)(this,a.call(this));return c._bindAll("_onButtonClick"),c.state={overlayVisible:!1},c}return(0,i.default)(b,a),b.prototype._onButtonClick=function(b){b.preventDefault(),b.stopPropagation(),this.setState({overlayVisible:!this.state.overlayVisible})},b.prototype.renderWithBEM=function(){var b=null;this.state.overlayVisible&&(b=j.ReactBEM.createElement(l.default,{items:this.props.items,selectedItem:this.props.selectedItem,onChange:this.props.onChange}));var c=this.state.overlayVisible?"is-active":null;return j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:categoryDropdown",className:c,onClick:this._onButtonClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.selectedItem.icon}),j.ReactBEM.createElement("div",{bem:"e:label"},this.props.selectedItem.label),b))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(11),l=o(k),m=c(14),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._hasBackButton=!1,h}return(0,i.default)(b,a),b.prototype._onItemClick=function(b){this.props.onSwitchControls(b)},b.prototype._renderListItems=function(){var b=this,c=this.context.editor,d=[],e=function(d){var e=c.getControl(d);return j.ReactBEM.createElement("li",{bem:"e:item",key:e.identifier,onClick:b._onItemClick.bind(b,e)},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel"},j.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath(e.iconPath,!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},b._t(e.languageKey)))))},f=this.context.options.editor.controlsOrder;f.forEach(function(a){if(Array.isArray(a))!function(){var b=a,f=[];b.forEach(function(a){c.isControlEnabled(a)&&f.push(e(a))}),f.length&&d.push(f)}();else{var b=a;if(!c.isControlEnabled(b))return;d.push(e(b))}});var g=[];return d.forEach(function(a){g=g.concat(a),a!==d[d.length-1]&&g.push(j.ReactBEM.createElement("li",{bem:"e:separator"}))}),g},b.prototype.renderControls=function(){var b=this._renderListItems();return j.ReactBEM.createElement("div",{bem:"e:cell m:list"},j.ReactBEM.createElement(n.default,null,j.ReactBEM.createElement("ul",{bem:"$e:list"},b)))},b}(l.default);b.default=p,p.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderCanvas()},b.prototype.componentDidUpdate=function(){this._renderCanvas()},b.prototype._renderCanvas=function(){var b=this.refs.canvas,c=this.context.editor,d=c.getSDK(),e=d.getPixelRatio();b.width=b.offsetWidth*e,b.height=b.offsetHeight*e,b.style.width=b.offsetWidth+"px",b.style.height=b.offsetHeight+"px";var f=b.getContext("2d");f.fillStyle="red",f.clearRect(0,0,b.width,b.height),f.font=this.props.fontWeight+" "+24*e+"px "+this.props.fontFamily,f.textBaseline="middle",f.textAlign="center",f.fillStyle="white",f.fillText("Abc",b.width/2,b.height/2)},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("canvas",{bem:"b:fontFamily e:canvas",ref:"canvas"})},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onClick"),h}return(0,i.default)(b,a),b.prototype._onClick=function(){this.props.onClick&&this.props.onClick(this.props.searchSuggestion)},b.prototype.renderWithBEM=function(){var b=this.props.searchSuggestion,c={backgroundImage:"url("+b.coverImage+")"};return j.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:libraryList"},j.ReactBEM.createElement("li",{bem:"e:item",style:c,onClick:this._onClick},j.ReactBEM.createElement("div",{bem:"e:overlay"}),j.ReactBEM.createElement("div",{bem:"e:name"},b.query)))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(20),l=q(k),m=c(236),n=q(m),o=c(14),p=q(o),r=240,s=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._needsStyleFixes=!0,h._totalPhotosHeight=0,h.state={loading:!1,photos:[]},h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._loadPhotos()},b.prototype.componentDidUpdate=function(){this.refs.scrollbar&&this.refs.scrollbar.update()},b.prototype._onPhotoClicked=function(b){this.props.onPhotoClicked&&this.props.onPhotoClicked(b)},b.prototype._getHeadline=function(){return this.props.library.name},b.prototype.fixStyles=function(){if(j.Utils.Browser.isIElte(11)){var b=this.refs.cell,c=this.refs.scrollbar.getList();if(!b||!c)return;var d=b.offsetHeight;c.style.height=d+"px"}this.refs.scrollbar&&this.refs.scrollbar.update()},b.prototype._renderColumns=function(){for(var b=this,c=this.state.photos,d=3,e=[],f=[],g=0;g<d;g++)f.push([]),e.push(0);return c.forEach(function(a){for(var c=a.dimensions,g=null,h=1/0,i=0;i<d;i++)e[i]<h&&(g=i,h=e[i]);f[g].push(j.ReactBEM.createElement(n.default,{photo:a.obj,onClick:b._onPhotoClicked.bind(b,a.obj)})),e[g]+=c.y}),f},b.prototype._renderPhotos=function(){var b=this._renderColumns();return j.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},j.ReactBEM.createElement("div",{bem:"e:cell",ref:"cell"},j.ReactBEM.createElement(p.default,{direction:"vertical",ref:"scrollbar"},j.ReactBEM.createElement("div",{bem:"e:container",ref:"container"},j.ReactBEM.createElement("div",{bem:"e:innerContainer"},j.ReactBEM.createElement("div",{bem:"e:headline"},this._getHeadline()),j.ReactBEM.createElement("bem",{specifier:"e:photoList"},b.map(function(a){return j.ReactBEM.createElement("ul",{bem:"$e:list"},a)})))))))},b.prototype._loadPhotos=function(){var b=this;this._totalPhotosHeight=0;var c=l.default.instance.displayProgress(this._t("loading.loading")),d=this.context.options.photoRoll.provider,e=new d;e.getPhotosForLibrary(this.props.library).then(function(a){return b._preloadPhotos(a,c)}).then(function(a){b.setState({photos:a,loading:!1}),c.close()})},b.prototype._preloadPhotos=function(b,c){var d=this,e=b.length,f=0;return Promise.all(b.map(function(a){return d._preloadPhoto(a).then(function(b){var g=new j.Vector2(b.width,b.height);return g.multiply(r/b.width),d._totalPhotosHeight+=g.y,f++,c.setData({progress:f/e}),{obj:a,dimensions:g}})}))},b.prototype._preloadPhoto=function(b){return new Promise(function(a,c){var d=new window.Image;d.addEventListener("load",function(){a(d)}),d.addEventListener("error",function(){a(d)}),d.src=b.urls.thumb})},b.prototype.renderWithBEM=function(){return this.state.loading?j.ReactBEM.createElement("div",null):this._renderPhotos()},b}(j.BaseComponent);b.default=s,s.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=h(d),f=c(121),g=h(f),i="__",j="--",k="pesdk-react-",l=function(){function a(b,c,d){(0,e.default)(this,a),this._parent=b,this._type=c,this._name=d}return a.prototype.element=function(c){return new a(this,"element",c)},a.prototype.modifier=function(c){return new a(this,"modifier",c)},(0,g.default)(a,[{key:"str",get:function(){var b=this._parent?this._parent.str:"";switch(this._type){case"block":b+=""+k+this._name;break;case"element":b+=""+i+this._name;break;case"modifier":b+=""+j+this._name}return b}}]),a}();b.default={block:function(b){return new l(null,"block",b)}}},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}function o(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof Array?b=b.concat(o(a[c])):b.push(a[c]);return b}Object.defineProperty(b,"__esModule",{value:!0});var d=c(275),e=n(d),f=c(52),g=n(f),h=c(110),i=n(h),j=c(122),k=n(j),l=c(117),m=n(l),p={b:"block",e:"element",m:"modifier"},q={_parseBemSpecifier:function(b){if(!b)return[];var c=b.split(" "),d=c.map(function(a){var b=a.match(/^(\$)?([bem])\:(.*)$/i);if(!b)throw new Error("Invalid BEM specifier: "+a);var c="undefined"!=typeof b[1],d=p[b[2]],e=b[3];return{type:d,name:e,pass:c}});return d},_getBemInfoForNode:function(b){var c="bem"===b.type,d=c?b.props.specifier:b.props.bem;if(c&&!d)throw new Error("<bem> elements should always have a `specifier` property");var e=this._parseBemSpecifier(d);return c&&e.forEach(function(a){a.pass=!0}),{data:e,isBemNode:c}},createElement:function(b,c){for(var d=arguments.length,e=Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return c=c||{},e=e.filter(function(a){return null!==a&&"undefined"!=typeof a}),{type:b,props:c,children:e}},_isNodeBEMable:function(b){return null!==b&&"object"===("undefined"==typeof b?"undefined":(0,g.default)(b))&&!i.default.isValidElement(b)},_applyBEMClasses:function(b){var c=this;if(!this._isNodeBEMable(b))return b;var d=b.props.className?[b.props.className]:[],e=this._getBemInfoForNode(b),f=b.props.__bemObject,g=b.props.__bemObject;e.data.forEach(function(a){if("block"===a.type)f=m.default.block(a.name),a.pass&&(g=m.default.block(a.name)),d.push(f.str);else if("element"===a.type){if(!f)throw new Error("Tried to create an element, but no parent block has been found.");f=f.element(a.name),a.pass&&(g=g.element(a.name)),d.push(f.str)}else if("modifier"===a.type){if(!f)throw new Error("Tried to create a modifier, but no parent block has been found.");a.pass&&(g=g.modifier(a.name)),d.push(f.modifier(a.name).str)}});var h=(0,k.default)(d);return h&&(b.props.className=h),b.children=o(b.children),b.children.forEach(function(a){c._isNodeBEMable(a)&&(a.props.__bemObject=g)}),b.children=b.children.map(function(a){return c._applyBEMClasses(a)}),b.children=o(b.children),delete b.props.__bemObject,delete b.props.bem,e.isBemNode&&(b=b.children instanceof Array&&1===b.children.length?b.children[0]:b.children),b},_transformToReact:function(b){var c=this;return this._isNodeBEMable(b)?(b.children=b.children.map(function(a){return c._transformToReact(a)}),i.default.createElement.apply(i.default,[b.type,b.props].concat((0,e.default)(b.children)))):b},transform:function(b){return b=this._applyBEMClasses(b),b instanceof Array?b:b=this._transformToReact(b)}};b.default=q},function(a,b,c){"use strict";(function(a){Object.defineProperty(b,"__esModule",{value:!0});var c="warn",d=[{type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{type:"info",background:"#BDE5F8",color:"#00529B"},{type:"warn",background:"#FEEFB3",color:"#9F6000"},{type:"error",background:"#FFBABA",color:"#D8000C"},{type:"log",background:"#EEEEEE",color:"#1f4f6b"}],e=d.map(function(a){return a.type}),f={};f.setLevel=function(a){c=a},f.canLog=function(a){if(null===c)return!1;var b=e.indexOf(a),d=e.indexOf(c);return!(b<d)},f.hasColorfulOutput=function(){return(!a||a&&a.browser)&&"undefined"!=typeof navigator&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)},f.printError=function(a){var b=a.stack.split("\n");b.forEach(function(a){f.error("Error",a)})},d.forEach(function(a){var b=a.type,c=a.background,d=a.color;f[b]=function(a){if(f.canLog(b)){for(var e=arguments.length,g=Array(e>1?e-1:0),h=1;h<e;h++)g[h-1]=arguments[h];var i=g.map(function(a){return"string"==typeof a?a:a.toString()}).join(" ");return f.hasColorfulOutput()?void console.log("%c  %c PhotoEditorSDK %c  %c "+a+" %c  "+i+"  %c  ","background: #43ADEB; padding: 5px 0","background: #2B2B2B; color: white; padding: 5px 0","background: #43ADEB; padding: 5px 0","background: "+c+"; color: "+d+"; padding: 5px 0; font-weight: bold","background: #2B2B2B; color: white; padding: 5px 0","background: #43ADEB; padding: 5px 0"):console.log("PhotoEditorSDK | "+a+" | "+i)}}}),b.default=f}).call(b,c(4))},function(a,b,c){a.exports={default:c(281),__esModule:!0}},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(120),e=f(d);b.default=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,e.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()},function(a,b,c){var d,e;!function(){"use strict";function f(){for(var a=[],b=0;b<arguments.length;b++){var d=arguments[b];if(d){var e=typeof d;if("string"===e||"number"===e)a.push(d);else if(Array.isArray(d))a.push(f.apply(null,d));else if("object"===e)for(var g in d)c.call(d,g)&&d[g]&&a.push(g)}}return a.join(" ")}var c={}.hasOwnProperty;"undefined"!=typeof a&&a.exports?a.exports=f:(d=[],e=function(){return f}.apply(b,d),!(void 0!==e&&(a.exports=e)))}()},function(a,b,c){var d=c(76),e=c(17)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){var d=c(46),e=c(26).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){a.exports=!c(31)&&!c(45)(function(){return 7!=Object.defineProperty(c(124)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(76);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){"use strict";var d=c(80),e=c(32),f=c(131),g=c(36),h=c(33),i=c(37),j=c(294),k=c(83),l=c(302),m=c(17)("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};a.exports=function(a,b,c,s,t,u,v){j(c,b,s);var F,G,H,w=function(a){if(!n&&a in A)return A[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){return new c(this,a)}},x=b+" Iterator",y=t==q,z=!1,A=a.prototype,B=A[m]||A[o]||t&&A[t],C=B||w(t),D=t?y?w("entries"):C:void 0,E="Array"==b?A.entries||B:B;if(E&&(H=l(E.call(new a)),H!==Object.prototype&&(k(H,x,!0),d||h(H,m)||g(H,m,r))),y&&B&&B.name!==q&&(z=!0,C=function(){return B.call(this)}),d&&!v||!n&&!z&&A[m]||g(A,m,C),i[b]=C,i[x]=r,t)if(F={values:y?C:w(q),keys:u?C:w(p),entries:D},v)for(G in F)G in A||f(A,G,F[G]);else e(e.P+e.F*(n||z),b,F);return F}},function(a,b,c){var d=c(53),e=c(48),f=c(34),g=c(88),h=c(33),i=c(125),j=Object.getOwnPropertyDescriptor;b.f=c(31)?j:function(b,c){if(b=f(b),c=g(c,!0),i)try{return j(b,c)}catch(a){}if(h(b,c))return e(!d.f.call(b,c),b[c])}},function(a,b,c){var d=c(130),e=c(79).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(b){return d(b,e)}},function(a,b,c){var d=c(33),e=c(34),f=c(287)(!1),g=c(84)("IE_PROTO");a.exports=function(a,b){var j,c=e(a),h=0,i=[];for(j in c)j!=g&&d(c,j)&&i.push(j);for(;b.length>h;)d(c,j=b[h++])&&(~f(i,j)||i.push(j));return i}},function(a,b,c){a.exports=c(36)},function(a,b,c){var d=c(86),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){var d=c(123),e=c(17)("iterator"),f=c(37);a.exports=c(16).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},function(a,b,c){"use strict";(function(b){var d=c(18),e={listen:function(b,c,d){return b.addEventListener?(b.addEventListener(c,d,!1),{remove:function(){b.removeEventListener(c,d,!1)}}):b.attachEvent?(b.attachEvent("on"+c,d),{remove:function(){b.detachEvent("on"+c,d)}}):void 0},capture:function(c,e,f){return c.addEventListener?(c.addEventListener(e,f,!0),{remove:function(){c.removeEventListener(e,f,!0)}}):("production"!==b.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:d})},registerDefault:function(){}};a.exports=e}).call(b,c(4))},function(a,b){"use strict";function c(a){try{a.focus()}catch(a){}}a.exports=c},function(a,b){"use strict";function c(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(a){return document.body}}a.exports=c},function(a,b,c){"use strict";(function(b){function n(a){return f?void 0:"production"!==b.env.NODE_ENV?e(!1,"Markup wrapping node not initialized"):e(!1),l.hasOwnProperty(a)||(a="*"),g.hasOwnProperty(a)||("*"===a?f.innerHTML="<link />":f.innerHTML="<"+a+"></"+a+">",g[a]=!f.firstChild),g[a]?l[a]:null}var d=c(10),e=c(5),f=d.canUseDOM?document.createElement("div"):null,g={},h=[1,'<select multiple="true">',"</select>"],i=[1,"<table>","</table>"],j=[3,"<table><tbody><tr>","</tr></tbody></table>"],k=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],l={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:h,option:h,caption:i,colgroup:i,tbody:i,tfoot:i,thead:i,td:j,th:j},m=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];m.forEach(function(a){l[a]=k,g[a]=!0}),a.exports=n}).call(b,c(4))},function(a,b){"use strict";function d(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function e(a,b){if(d(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var e=Object.keys(a),f=Object.keys(b);if(e.length!==f.length)return!1;for(var g=0;g<e.length;g++)if(!c.call(b,e[g])||!d(a[e[g]],b[e[g]]))return!1;return!0}var c=Object.prototype.hasOwnProperty;a.exports=e},function(a,b){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var c={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e=["Webkit","ms","Moz","O"];Object.keys(c).forEach(function(a){e.forEach(function(b){c[d(b,a)]=c[a]})});var f={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},g={isUnitlessNumber:c,shorthandPropertyExpansions:f};a.exports=g},function(a,b,c){"use strict";(function(b){function h(){this._callbacks=null,this._contexts=null}var d=c(6),e=c(8),f=c(29),g=c(5);e(h.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,c=this._contexts;if(a){a.length!==c.length?"production"!==b.env.NODE_ENV?g(!1,"Mismatched list of contexts in callback queue"):d("24"):void 0,this._callbacks=null,this._contexts=null;for(var e=0;e<a.length;e++)a[e].call(c[e]);a.length=0,c.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(a){this._callbacks&&(this._callbacks.length=a,this._contexts.length=a)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),f.addPoolingTo(h),a.exports=h}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function m(a){return!!l.hasOwnProperty(a)||!k.hasOwnProperty(a)&&(j.test(a)?(l[a]=!0,!0):(k[a]=!0,"production"!==b.env.NODE_ENV?i(!1,"Invalid attribute name: `%s`",a):void 0,!1))}function n(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&b<1||a.hasOverloadedBooleanValue&&b===!1}var d=c(35),e=c(9),f=c(360),g=c(13),h=c(401),i=c(7),j=new RegExp("^["+d.ATTRIBUTE_NAME_START_CHAR+"]["+d.ATTRIBUTE_NAME_CHAR+"]*$"),k={},l={},o={createMarkupForID:function(a){return d.ID_ATTRIBUTE_NAME+"="+h(a)},setAttributeForID:function(a,b){a.setAttribute(d.ID_ATTRIBUTE_NAME,b)},createMarkupForRoot:function(){return d.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(a){a.setAttribute(d.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(a,c){"production"!==b.env.NODE_ENV&&f.debugTool.onCreateMarkupForProperty(a,c);var e=d.properties.hasOwnProperty(a)?d.properties[a]:null;if(e){if(n(e,c))return"";var g=e.attributeName;return e.hasBooleanValue||e.hasOverloadedBooleanValue&&c===!0?g+'=""':g+"="+h(c)}return d.isCustomAttribute(a)?null==c?"":a+"="+h(c):null},createMarkupForCustomAttribute:function(a,b){return m(a)&&null!=b?a+"="+h(b):""},setValueForProperty:function(a,c,h){var i=d.properties.hasOwnProperty(c)?d.properties[c]:null;if(i){var j=i.mutationMethod;if(j)j(a,h);else{if(n(i,h))return void this.deleteValueForProperty(a,c);if(i.mustUseProperty){var k=i.propertyName;i.hasSideEffects&&""+a[k]==""+h||(a[k]=h)}else{var l=i.attributeName,m=i.attributeNamespace;m?a.setAttributeNS(m,l,""+h):i.hasBooleanValue||i.hasOverloadedBooleanValue&&h===!0?a.setAttribute(l,""):a.setAttribute(l,""+h)}}}else if(d.isCustomAttribute(c))return void o.setValueForAttribute(a,c,h);if("production"!==b.env.NODE_ENV){f.debugTool.onSetValueForProperty(a,c,h);var p={};p[c]=h,g.debugTool.onHostOperation(e.getInstanceFromNode(a)._debugID,"update attribute",p)}},setValueForAttribute:function(a,c,d){if(m(c)&&(null==d?a.removeAttribute(c):a.setAttribute(c,""+d),"production"!==b.env.NODE_ENV)){var f={};f[c]=d,g.debugTool.onHostOperation(e.getInstanceFromNode(a)._debugID,"update attribute",f)}},deleteValueForAttribute:function(a,c){a.removeAttribute(c),"production"!==b.env.NODE_ENV&&(f.debugTool.onDeleteValueForProperty(a,c),g.debugTool.onHostOperation(e.getInstanceFromNode(a)._debugID,"remove attribute",c))},deleteValueForProperty:function(a,c){var h=d.properties.hasOwnProperty(c)?d.properties[c]:null;if(h){var i=h.mutationMethod;if(i)i(a,void 0);else if(h.mustUseProperty){var j=h.propertyName;h.hasBooleanValue?a[j]=!1:h.hasSideEffects&&""+a[j]==""||(a[j]="")}else a.removeAttribute(h.attributeName)}else d.isCustomAttribute(c)&&a.removeAttribute(c);"production"!==b.env.NODE_ENV&&(f.debugTool.onDeleteValueForProperty(a,c),g.debugTool.onHostOperation(e.getInstanceFromNode(a)._debugID,"remove attribute",c))}};a.exports=o}).call(b,c(4))},function(a,b,c){"use strict";function k(a){return(""+a).replace(j,"$&/")}function l(a,b){this.func=a,this.context=b,this.count=0}function m(a,b,c){var d=a.func,e=a.context;d.call(e,b,a.count++)}function n(a,b,c){if(null==a)return a;var d=l.getPooled(b,c);g(a,m,d),l.release(d)}function o(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}function p(a,b,c){var d=a.result,g=a.keyPrefix,h=a.func,i=a.context,j=h.call(i,b,a.count++);Array.isArray(j)?q(j,d,c,f.thatReturnsArgument):null!=j&&(e.isValidElement(j)&&(j=e.cloneAndReplaceKey(j,g+(!j.key||b&&b.key===j.key?"":k(j.key)+"/")+c)),d.push(j))}function q(a,b,c,d,e){var f="";null!=c&&(f=k(c)+"/");var h=o.getPooled(b,f,d,e);g(a,p,h),o.release(h)}function r(a,b,c){if(null==a)return a;var d=[];return q(a,d,null,b,c),d}function s(a,b,c){return null}function t(a,b){return g(a,s,null)}function u(a){var b=[];return q(a,b,null,f.thatReturnsArgument),b}var d=c(29),e=c(19),f=c(18),g=c(108),h=d.twoArgumentPooler,i=d.fourArgumentPooler,j=/\/+/g;l.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(l,h),o.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(o,i);var v={forEach:n,map:r,mapIntoWithKeyPrefixInternal:q,count:t,toArray:u};a.exports=v},function(a,b,c){"use strict";(function(b){function u(a,c,d){for(var e in c)c.hasOwnProperty(e)&&("production"!==b.env.NODE_ENV?o("function"==typeof c[e],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactClass",i[d],e):void 0)}function v(a,c){var e=s.hasOwnProperty(c)?s[c]:null;D.hasOwnProperty(c)&&(e!==q.OVERRIDE_BASE?"production"!==b.env.NODE_ENV?l(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",c):d("73",c):void 0),a&&(e!==q.DEFINE_MANY&&e!==q.DEFINE_MANY_MERGED?"production"!==b.env.NODE_ENV?l(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c):d("74",c):void 0)}function w(a,c){if(c){"function"==typeof c?"production"!==b.env.NODE_ENV?l(!1,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):d("75"):void 0,g.isValidElement(c)?"production"!==b.env.NODE_ENV?l(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):d("76"):void 0;var e=a.prototype,f=e.__reactAutoBindPairs;c.hasOwnProperty(p)&&t.mixins(a,c.mixins);for(var h in c)if(c.hasOwnProperty(h)&&h!==p){
var i=c[h],j=e.hasOwnProperty(h);if(v(j,h),t.hasOwnProperty(h))t[h](a,i);else{var k=s.hasOwnProperty(h),m="function"==typeof i,n=m&&!k&&!j&&c.autobind!==!1;if(n)f.push(h,i),e[h]=i;else if(j){var o=s[h];!k||o!==q.DEFINE_MANY_MERGED&&o!==q.DEFINE_MANY?"production"!==b.env.NODE_ENV?l(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",o,h):d("77",o,h):void 0,o===q.DEFINE_MANY_MERGED?e[h]=z(e[h],i):o===q.DEFINE_MANY&&(e[h]=A(e[h],i))}else e[h]=i,"production"!==b.env.NODE_ENV&&"function"==typeof i&&c.displayName&&(e[h].displayName=c.displayName+"_"+h)}}}}function x(a,c){if(c)for(var e in c){var f=c[e];if(c.hasOwnProperty(e)){var g=e in t;g?"production"!==b.env.NODE_ENV?l(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',e):d("78",e):void 0;var h=e in a;h?"production"!==b.env.NODE_ENV?l(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e):d("79",e):void 0,a[e]=f}}}function y(a,c){a&&c&&"object"==typeof a&&"object"==typeof c?void 0:"production"!==b.env.NODE_ENV?l(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):d("80");for(var e in c)c.hasOwnProperty(e)&&(void 0!==a[e]?"production"!==b.env.NODE_ENV?l(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",e):d("81",e):void 0,a[e]=c[e]);return a}function z(a,b){return function(){var d=a.apply(this,arguments),e=b.apply(this,arguments);if(null==d)return e;if(null==e)return d;var f={};return y(f,d),y(f,e),f}}function A(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function B(a,c){var d=c.bind(a);if("production"!==b.env.NODE_ENV){d.__reactBoundContext=a,d.__reactBoundMethod=c,d.__reactBoundArguments=null;var e=a.constructor.displayName,f=d.bind;d.bind=function(g){for(var h=arguments.length,i=Array(h>1?h-1:0),j=1;j<h;j++)i[j-1]=arguments[j];if(g!==a&&null!==g)"production"!==b.env.NODE_ENV?o(!1,"bind(): React component methods may only be bound to the component instance. See %s",e):void 0;else if(!i.length)return"production"!==b.env.NODE_ENV?o(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",e):void 0,d;var k=f.apply(d,arguments);return k.__reactBoundContext=a,k.__reactBoundMethod=c,k.__reactBoundArguments=i,k}}return d}function C(a){for(var b=a.__reactAutoBindPairs,c=0;c<b.length;c+=2){var d=b[c],e=b[c+1];a[d]=B(a,e)}}var d=c(6),e=c(8),f=c(144),g=c(19),h=c(62),i=c(99),j=c(157),k=c(56),l=c(5),m=c(57),n=c(28),o=c(7),p=n({mixins:null}),q=m({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),r=[],s={mixins:q.DEFINE_MANY,statics:q.DEFINE_MANY,propTypes:q.DEFINE_MANY,contextTypes:q.DEFINE_MANY,childContextTypes:q.DEFINE_MANY,getDefaultProps:q.DEFINE_MANY_MERGED,getInitialState:q.DEFINE_MANY_MERGED,getChildContext:q.DEFINE_MANY_MERGED,render:q.DEFINE_ONCE,componentWillMount:q.DEFINE_MANY,componentDidMount:q.DEFINE_MANY,componentWillReceiveProps:q.DEFINE_MANY,shouldComponentUpdate:q.DEFINE_ONCE,componentWillUpdate:q.DEFINE_MANY,componentDidUpdate:q.DEFINE_MANY,componentWillUnmount:q.DEFINE_MANY,updateComponent:q.OVERRIDE_BASE},t={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)w(a,b[c])},childContextTypes:function(a,c){"production"!==b.env.NODE_ENV&&u(a,c,h.childContext),a.childContextTypes=e({},a.childContextTypes,c)},contextTypes:function(a,c){"production"!==b.env.NODE_ENV&&u(a,c,h.context),a.contextTypes=e({},a.contextTypes,c)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=z(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,c){"production"!==b.env.NODE_ENV&&u(a,c,h.prop),a.propTypes=e({},a.propTypes,c)},statics:function(a,b){x(a,b)},autobind:function(){}},D={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a),b&&this.updater.enqueueCallback(this,b,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},E=function(){};e(E.prototype,f.prototype,D);var F={createClass:function(a){var c=function(a,e,f){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?o(this instanceof c,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0),this.__reactAutoBindPairs.length&&C(this),this.props=a,this.context=e,this.refs=k,this.updater=f||j,this.state=null;var g=this.getInitialState?this.getInitialState():null;"production"!==b.env.NODE_ENV&&void 0===g&&this.getInitialState._isMockFunction&&(g=null),"object"!=typeof g||Array.isArray(g)?"production"!==b.env.NODE_ENV?l(!1,"%s.getInitialState(): must return an object or null",c.displayName||"ReactCompositeComponent"):d("82",c.displayName||"ReactCompositeComponent"):void 0,this.state=g};c.prototype=new E,c.prototype.constructor=c,c.prototype.__reactAutoBindPairs=[],r.forEach(w.bind(null,c)),w(c,a),c.getDefaultProps&&(c.defaultProps=c.getDefaultProps()),"production"!==b.env.NODE_ENV&&(c.getDefaultProps&&(c.getDefaultProps.isReactClassApproved={}),c.prototype.getInitialState&&(c.prototype.getInitialState.isReactClassApproved={})),c.prototype.render?void 0:"production"!==b.env.NODE_ENV?l(!1,"createClass(...): Class specification must implement a `render` method."):d("83"),"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?o(!c.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",a.displayName||"A component"):void 0,"production"!==b.env.NODE_ENV?o(!c.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",a.displayName||"A component"):void 0);for(var e in s)c.prototype[e]||(c.prototype[e]=null);return c},injection:{injectMixin:function(a){r.push(a)}}};a.exports=F}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function j(a,b,c){this.props=a,this.context=b,this.refs=g,this.updater=c||e}var d=c(6),e=c(157),f=c(100),g=c(56),h=c(5),i=c(7);if(j.prototype.isReactComponent={},j.prototype.setState=function(a,c){"object"!=typeof a&&"function"!=typeof a&&null!=a?"production"!==b.env.NODE_ENV?h(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):d("85"):void 0,this.updater.enqueueSetState(this,a),c&&this.updater.enqueueCallback(this,c,"setState")},j.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this),a&&this.updater.enqueueCallback(this,a,"forceUpdate")},"production"!==b.env.NODE_ENV){var k={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},l=function(a,c){f&&Object.defineProperty(j.prototype,a,{get:function(){"production"!==b.env.NODE_ENV?i(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",c[0],c[1]):void 0}})};for(var m in k)k.hasOwnProperty(m)&&l(m,k[m])}a.exports=j}).call(b,c(4))},function(a,b,c){"use strict";var d=c(92),e=c(358),f={processChildrenUpdates:e.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:d.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(a){}};a.exports=f},function(a,b){"use strict";var c={hasCachedChildNodes:1};a.exports=c},function(a,b,c){"use strict";(function(b){function m(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,b=f.getValue(a);null!=b&&r(this,Boolean(a.multiple),b)}}function n(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}function o(a){null==a||null!==a.value||k||("production"!==b.env.NODE_ENV?i(!1,"`value` prop on `select` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,k=!0)}function q(a,c){var d=a._currentElement._owner;f.checkPropTypes("select",c,d),void 0===c.valueLink||j||("production"!==b.env.NODE_ENV?i(!1,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0,j=!0);for(var e=0;e<p.length;e++){var g=p[e];null!=c[g]&&(c.multiple?"production"!==b.env.NODE_ENV?i(Array.isArray(c[g]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",g,n(d)):void 0:"production"!==b.env.NODE_ENV?i(!Array.isArray(c[g]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",g,n(d)):void 0)}}function r(a,b,c){var d,e,f=g.getNodeFromInstance(a).options;if(b){for(d={},e=0;e<c.length;e++)d[""+c[e]]=!0;for(e=0;e<f.length;e++){var h=d.hasOwnProperty(f[e].value);f[e].selected!==h&&(f[e].selected=h)}}else{for(d=""+c,e=0;e<f.length;e++)if(f[e].value===d)return void(f[e].selected=!0);f.length&&(f[0].selected=!0)}}function t(a){var b=this._currentElement.props,c=f.executeOnChange(b,a);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),h.asap(m,this),c}var d=c(8),e=c(58),f=c(96),g=c(9),h=c(22),i=c(7),j=!1,k=!1,l=!1,p=["value","defaultValue"],s={getHostProps:function(a,b){return d({},e.getHostProps(a,b),{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,c){"production"!==b.env.NODE_ENV&&(q(a,c),o(c));var d=f.getValue(c);a._wrapperState={pendingUpdate:!1,initialValue:null!=d?d:c.defaultValue,listeners:null,onChange:t.bind(a),wasMultiple:Boolean(c.multiple)},void 0===c.value||void 0===c.defaultValue||l||("production"!==b.env.NODE_ENV?i(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,l=!0)},getSelectValueContext:function(a){return a._wrapperState.initialValue},postUpdateWrapper:function(a){var c=a._currentElement.props;"production"!==b.env.NODE_ENV&&o(c),a._wrapperState.initialValue=void 0;var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=Boolean(c.multiple);var e=f.getValue(c);null!=e?(a._wrapperState.pendingUpdate=!1,r(a,Boolean(c.multiple),e)):d!==Boolean(c.multiple)&&(null!=c.defaultValue?r(a,Boolean(c.multiple),c.defaultValue):r(a,Boolean(c.multiple),c.multiple?[]:""))}};a.exports=s}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function i(a,c,d,e,i,j){"production"!==b.env.NODE_ENV&&g.forEach(function(g){try{g[a]&&g[a](c,d,e,i,j)}catch(c){"production"!==b.env.NODE_ENV?f(h[a],"exception thrown by devtool while handling %s: %s",a,c+"\n"+c.stack):void 0,h[a]=!0}})}function t(){E.purgeUnmountedComponents(),D.clearHistory()}function u(a){return a.reduce(function(a,b){var c=E.getOwnerID(b),d=E.getParentID(b);return a[b]={displayName:E.getDisplayName(b),text:E.getText(b),updateCount:E.getUpdateCount(b),childIDs:E.getChildIDs(b),ownerID:c||E.getOwnerID(d),parentID:d},a},{})}function v(){if("production"!==b.env.NODE_ENV){var a=o,c=n||[],d=D.getHistory();if(!j||0===m)return o=null,n=null,void t();if(c.length||d.length){var f=E.getRegisteredIDs();k.push({duration:e()-a,measurements:c||[],operations:d||[],treeSnapshot:u(f)})}t(),o=e(),n=[]}}function w(a){"production"!==b.env.NODE_ENV?f(a,"ReactDebugTool: debugID may not be empty."):void 0}function x(a,c){j&&0!==m&&("production"!==b.env.NODE_ENV?f(!s,"There is an internal error in the React performance measurement code. Did not expect %s timer to start while %s timer is still in progress for %s instance.",c,s||"no",a===p?"the same":"another"):void 0,q=e(),r=0,p=a,s=c)}function y(a,c){j&&0!==m&&("production"!==b.env.NODE_ENV?f(s===c,"There is an internal error in the React performance measurement code. We did not expect %s timer to stop while %s timer is still in progress for %s instance. Please report this as a bug in React.",c,s||"no",a===p?"the same":"another"):void 0,n.push({timerType:c,instanceID:a,duration:e()-q-r}),q=null,r=null,p=null,s=null)}function z(){var a={startTime:q,nestedFlushStartTime:e(),debugID:p,timerType:s};l.push(a),q=null,r=null,p=null,s=null}function A(){var a=l.pop(),b=a.startTime,c=a.nestedFlushStartTime,d=a.debugID,f=a.timerType,g=e()-c;q=b,r+=g,p=d,s=f}var d=c(10),e=c(331),f=c(7),g=[],h={},j=!1,k=[],l=[],m=0,n=null,o=null,p=null,q=null,r=null,s=null,B={addDevtool:function(a){g.push(a)},removeDevtool:function(a){for(var b=0;b<g.length;b++)g[b]===a&&(g.splice(b,1),b--)},isProfiling:function(){return j},beginProfiling:function(){if("production"!==b.env.NODE_ENV){if(j)return;j=!0,k.length=0,v()}},endProfiling:function(){if("production"!==b.env.NODE_ENV){if(!j)return;j=!1,v()}},getFlushHistory:function(){return k},onBeginFlush:function(){"production"!==b.env.NODE_ENV&&(m++,v(),z()),i("onBeginFlush")},onEndFlush:function(){"production"!==b.env.NODE_ENV&&(v(),m--,A()),i("onEndFlush")},onBeginLifeCycleTimer:function(a,c){w(a),i("onBeginLifeCycleTimer",a,c),"production"!==b.env.NODE_ENV&&x(a,c)},onEndLifeCycleTimer:function(a,c){w(a),"production"!==b.env.NODE_ENV&&y(a,c),i("onEndLifeCycleTimer",a,c)},onBeginReconcilerTimer:function(a,b){w(a),i("onBeginReconcilerTimer",a,b)},onEndReconcilerTimer:function(a,b){w(a),i("onEndReconcilerTimer",a,b)},onBeginProcessingChildContext:function(){i("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){i("onEndProcessingChildContext")},onHostOperation:function(a,b,c){w(a),i("onHostOperation",a,b,c)},onSetState:function(){i("onSetState")},onSetDisplayName:function(a,b){w(a),i("onSetDisplayName",a,b)},onSetChildren:function(a,b){w(a),i("onSetChildren",a,b)},onSetOwner:function(a,b){w(a),i("onSetOwner",a,b)},onSetParent:function(a,b){w(a),i("onSetParent",a,b)},onSetText:function(a,b){w(a),i("onSetText",a,b)},onMountRootComponent:function(a){w(a),i("onMountRootComponent",a)},onBeforeMountComponent:function(a,b){w(a),i("onBeforeMountComponent",a,b)},onMountComponent:function(a){w(a),i("onMountComponent",a)},onBeforeUpdateComponent:function(a,b){w(a),i("onBeforeUpdateComponent",a,b)},onUpdateComponent:function(a){w(a),i("onUpdateComponent",a)},onUnmountComponent:function(a){w(a),i("onUnmountComponent",a)},onTestEvent:function(){i("onTestEvent")}};if("production"!==b.env.NODE_ENV){var C=c(373),D=c(371),E=c(39);B.addDevtool(C),B.addDevtool(E),B.addDevtool(D);var F=d.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(F)&&B.beginProfiling()}a.exports=B}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function l(){if(d.current){var a=d.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function n(a){var b=l();if(!b){var c="string"==typeof a?a:a.displayName||a.name;c&&(b=" Check the top-level render call using <"+c+">.")}return b}function o(a,c){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;var f=m.uniqueKey||(m.uniqueKey={}),g=n(c);if(!f[g]){f[g]=!0;var h="";a&&a._owner&&a._owner!==d.current&&(h=" It was passed a child from "+a._owner.getName()+"."),"production"!==b.env.NODE_ENV?k(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',g,h,e.getCurrentStackAddendum(a)):void 0}}}function p(a,b){if("object"==typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];f.isValidElement(d)&&o(d,b)}else if(f.isValidElement(a))a._store&&(a._store.validated=!0);else if(a){var e=j(a);if(e&&e!==a.entries)for(var h,g=e.call(a);!(h=g.next()).done;)f.isValidElement(h.value)&&o(h.value,b)}}function q(a){var c=a.type;if("function"==typeof c){var d=c.displayName||c.name;c.propTypes&&h(c.propTypes,a.props,g.prop,d,a,null),"function"==typeof c.getDefaultProps&&("production"!==b.env.NODE_ENV?k(c.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var d=c(24),e=c(39),f=c(19),g=c(62),h=c(163),i=c(100),j=c(105),k=c(7),m={},r={createElement:function(a,c,d){var e="string"==typeof a||"function"==typeof a;"production"!==b.env.NODE_ENV?k(e,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",l()):void 0;var g=f.createElement.apply(this,arguments);if(null==g)return g;if(e)for(var h=2;h<arguments.length;h++)p(arguments[h],a);return q(g),g},createFactory:function(a){var c=r.createElement.bind(null,a);return c.type=a,"production"!==b.env.NODE_ENV&&i&&Object.defineProperty(c,"type",{enumerable:!1,get:function(){return"production"!==b.env.NODE_ENV?k(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:a}),a}}),c},cloneElement:function(a,b,c){for(var d=f.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)p(arguments[e],d.type);return q(d),d}};a.exports=r}).call(b,c(4))},function(a,b){"use strict";var c,d={injectEmptyComponentFactory:function(a){c=a}},e={create:function(a){return c(a)}};e.injection=d,a.exports=e},function(a,b){"use strict";var c={logTopLevelRenders:!1};a.exports=c},function(a,b,c){"use strict";(function(b){function k(a){return g?void 0:"production"!==b.env.NODE_ENV?f(!1,"There is no registered component for the tag %s",a.type):d("111",a.type),new g(a)}function l(a){return new i(a)}function m(a){return a instanceof i}var d=c(6),e=c(8),f=c(5),g=null,h={},i=null,j={injectGenericComponentClass:function(a){g=a},injectTextComponentClass:function(a){i=a},injectComponentClasses:function(a){e(h,a)}},n={createInternalComponent:k,createInstanceForText:l,isTextComponent:m,injection:j};a.exports=n}).call(b,c(4))},function(a,b,c){"use strict";function h(a){return e(document.documentElement,a)}var d=c(362),e=c(320),f=c(135),g=c(136),i={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=g();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=g(),c=a.focusedElem,d=a.selectionRange;b!==c&&h(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,d),f(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=d.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,e=b.end;if(void 0===e&&(e=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",e-c),f.select()}else d.setOffsets(a,b)}};a.exports=i},function(a,b,c){"use strict";(function(b){function E(a,b){for(var c=Math.min(a.length,b.length),d=0;d<c;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function F(a){return a?a.nodeType===B?a.documentElement:a.firstChild:null}function G(a){return a.getAttribute&&a.getAttribute(y)||""}function H(a,b,c,d,e){var f;if(m.logTopLevelRenders){var g=a._currentElement.props,h=g.type;f="React mount: "+("string"==typeof h?h:h.displayName||h.name),console.time(f)}var i=p.mountComponent(a,c,null,j(a,b),e);f&&console.timeEnd(f),a._renderedComponent._topLevelWrapper=a,P._mountImageIntoNode(i,b,a,d,c)}function I(a,b,c,d){var e=r.ReactReconcileTransaction.getPooled(!c&&k.useCreateElement);e.perform(H,null,a,b,e,c,d),r.ReactReconcileTransaction.release(e)}function J(a,c,d){for("production"!==b.env.NODE_ENV&&n.debugTool.onBeginFlush(),p.unmountComponent(a,d),"production"!==b.env.NODE_ENV&&n.debugTool.onEndFlush(),c.nodeType===B&&(c=c.documentElement);c.lastChild;)c.removeChild(c.lastChild)}function K(a){var b=F(a);if(b){var c=i.getInstanceFromNode(b);return!(!c||!c._hostParent)}}function L(a){var b=F(a),c=b&&i.getInstanceFromNode(b);return c&&!c._hostParent?c:null}function M(a){var b=L(a);return b?b._hostContainerInfo._topLevelWrapper:null}var d=c(6),e=c(38),f=c(35),g=c(60),h=c(24),i=c(9),j=c(353),k=c(357),l=c(19),m=c(151),n=c(13),o=c(374),p=c(40),q=c(159),r=c(22),s=c(56),t=c(167),u=c(5),v=c(66),w=c(107),x=c(7),y=f.ID_ATTRIBUTE_NAME,z=f.ROOT_ATTRIBUTE_NAME,A=1,B=9,C=11,D={},N=1,O=function(){this.rootID=N++};O.prototype.isReactComponent={},"production"!==b.env.NODE_ENV&&(O.displayName="TopLevelWrapper"),O.prototype.render=function(){return this.props};var P={TopLevelWrapper:O,_instancesByReactRootID:D,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return P.scrollMonitor(c,function(){q.enqueueElementInternal(a,b),d&&q.enqueueCallbackInternal(a,d)}),a},_renderNewRootComponent:function(a,c,e,f){"production"!==b.env.NODE_ENV&&n.debugTool.onBeginFlush(),"production"!==b.env.NODE_ENV?x(null==h.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",h.current&&h.current.getName()||"ReactCompositeComponent"):void 0,!c||c.nodeType!==A&&c.nodeType!==B&&c.nodeType!==C?"production"!==b.env.NODE_ENV?u(!1,"_registerComponent(...): Target container is not a DOM element."):d("37"):void 0,g.ensureScrollValueMonitoring();var i=t(a);"production"!==b.env.NODE_ENV&&(i._debugID=0),r.batchedUpdates(I,i,c,e,f);var j=i._instance.rootID;return D[j]=i,"production"!==b.env.NODE_ENV&&(n.debugTool.onMountRootComponent(i._renderedComponent._debugID),n.debugTool.onEndFlush()),i},renderSubtreeIntoContainer:function(a,c,e,f){return null==a||null==a._reactInternalInstance?"production"!==b.env.NODE_ENV?u(!1,"parentComponent must be a valid React Component"):d("38"):void 0,P._renderSubtreeIntoContainer(a,c,e,f)},_renderSubtreeIntoContainer:function(a,c,e,f){q.validateCallback(f,"ReactDOM.render"),l.isValidElement(c)?void 0:"production"!==b.env.NODE_ENV?u(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof c?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof c?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=c&&void 0!==c.props?" This may be caused by unintentionally loading two independent copies of React.":""):d("39","string"==typeof c?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof c?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=c&&void 0!==c.props?" This may be caused by unintentionally loading two independent copies of React.":""),"production"!==b.env.NODE_ENV?x(!e||!e.tagName||"BODY"!==e.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var g=l(O,null,null,null,null,null,c),h=M(e);if(h){var i=h._currentElement,j=i.props;if(w(j,c)){var k=h._renderedComponent.getPublicInstance(),m=f&&function(){f.call(k)};return P._updateRootComponent(h,g,e,m),k}P.unmountComponentAtNode(e)}var n=F(e),o=n&&!!G(n),p=K(e);if("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?x(!p,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!o||n.nextSibling))for(var r=n;r;){if(G(r)){"production"!==b.env.NODE_ENV?x(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}r=r.nextSibling}var t=o&&!h&&!p,v=P._renderNewRootComponent(g,e,t,null!=a?a._reactInternalInstance._processChildContext(a._reactInternalInstance._context):s)._renderedComponent.getPublicInstance();return f&&f.call(v),v},render:function(a,b,c){return P._renderSubtreeIntoContainer(null,a,b,c)},unmountComponentAtNode:function(a){"production"!==b.env.NODE_ENV?x(null==h.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",h.current&&h.current.getName()||"ReactCompositeComponent"):void 0,!a||a.nodeType!==A&&a.nodeType!==B&&a.nodeType!==C?"production"!==b.env.NODE_ENV?u(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):d("40"):void 0;var c=M(a);if(!c){var e=K(a),f=1===a.nodeType&&a.hasAttribute(z);return"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?x(!e,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",f?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return delete D[c._instance.rootID],r.batchedUpdates(J,c,a,!1),!0},_mountImageIntoNode:function(a,c,f,g,h){if(!c||c.nodeType!==A&&c.nodeType!==B&&c.nodeType!==C?"production"!==b.env.NODE_ENV?u(!1,"mountComponentIntoNode(...): Target container is not valid."):d("41"):void 0,g){var j=F(c);if(o.canReuseMarkup(a,j))return void i.precacheNode(f,j);var k=j.getAttribute(o.CHECKSUM_ATTR_NAME);j.removeAttribute(o.CHECKSUM_ATTR_NAME);var l=j.outerHTML;j.setAttribute(o.CHECKSUM_ATTR_NAME,k);var m=a;if("production"!==b.env.NODE_ENV){var p;c.nodeType===A?(p=document.createElement("div"),p.innerHTML=a,m=p.innerHTML):(p=document.createElement("iframe"),document.body.appendChild(p),p.contentDocument.write(a),m=p.contentDocument.documentElement.outerHTML,document.body.removeChild(p))}var q=E(m,l),r=" (client) "+m.substring(q-20,q+20)+"\n (server) "+l.substring(q-20,q+20);c.nodeType===B?"production"!==b.env.NODE_ENV?u(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",r):d("42",r):void 0,"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?x(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",r):void 0)}if(c.nodeType===B?"production"!==b.env.NODE_ENV?u(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):d("43"):void 0,h.useCreateElement){for(;c.lastChild;)c.removeChild(c.lastChild);e.insertTreeBefore(c,a,null)}else v(c,a),i.precacheNode(f,c.firstChild);if("production"!==b.env.NODE_ENV){var s=i.getInstanceFromNode(c.firstChild);0!==s._debugID&&n.debugTool.onHostOperation(s._debugID,"mount",a.toString())}}};a.exports=P}).call(b,c(4))},function(a,b,c){"use strict";var d=c(57),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});a.exports=e},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(19),f=c(5),g={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(a){return null===a||a===!1?g.EMPTY:e.isValidElement(a)?"function"==typeof a.type?g.COMPOSITE:g.HOST:void("production"!==b.env.NODE_ENV?f(!1,"Unexpected node: %s",a):d("26",a))}};a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function e(a,c){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?d(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",c,c,a.constructor&&a.constructor.displayName||""):void 0)}var d=c(7),f={isMounted:function(a){return!1},enqueueCallback:function(a,b){},enqueueForceUpdate:function(a){e(a,"forceUpdate")},enqueueReplaceState:function(a,b){e(a,"replaceState")},enqueueSetState:function(a,b){e(a,"setState")}};a.exports=f}).call(b,c(4))},function(a,b,c){"use strict";function j(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function k(a){function b(b,c,d,f,g,i){if(f=f||h,i=i||d,null==c[d]){var j=e[g];return b?new Error("Required "+j+" `"+i+"` was not specified in "+("`"+f+"`.")):null}return a(c,d,f,g,i)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function l(a){function b(b,c,d,f,g){var h=b[c],i=x(h);if(i!==a){var j=e[f],k=y(h);return new Error("Invalid "+j+" `"+g+"` of type "+("`"+k+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null}return k(b)}function m(){return k(f.thatReturns(null))}function n(a){function b(b,c,d,f,g){if("function"!=typeof a)return new Error("Property `"+g+"` of component `"+d+"` has invalid PropType notation inside arrayOf.");var h=b[c];if(!Array.isArray(h)){var i=e[f],j=x(h);return new Error("Invalid "+i+" `"+g+"` of type "+("`"+j+"` supplied to `"+d+"`, expected an array."))}for(var k=0;k<h.length;k++){var l=a(h,k,d,f,g+"["+k+"]");if(l instanceof Error)return l}return null}return k(b)}function o(){function a(a,b,c,f,g){if(!d.isValidElement(a[b])){var h=e[f];return new Error("Invalid "+h+" `"+g+"` supplied to "+("`"+c+"`, expected a single ReactElement."))}return null}return k(a)}function p(a){function b(b,c,d,f,g){if(!(b[c]instanceof a)){var i=e[f],j=a.name||h,k=z(b[c]);return new Error("Invalid "+i+" `"+g+"` of type "+("`"+k+"` supplied to `"+d+"`, expected ")+("instance of `"+j+"`."))}return null}return k(b)}function q(a){function b(b,c,d,f,g){for(var h=b[c],i=0;i<a.length;i++)if(j(h,a[i]))return null;var k=e[f],l=JSON.stringify(a);return new Error("Invalid "+k+" `"+g+"` of value `"+h+"` "+("supplied to `"+d+"`, expected one of "+l+"."))}return k(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function r(a){function b(b,c,d,f,g){if("function"!=typeof a)return new Error("Property `"+g+"` of component `"+d+"` has invalid PropType notation inside objectOf.");var h=b[c],i=x(h);if("object"!==i){var j=e[f];return new Error("Invalid "+j+" `"+g+"` of type "+("`"+i+"` supplied to `"+d+"`, expected an object."))}for(var k in h)if(h.hasOwnProperty(k)){var l=a(h,k,d,f,g+"."+k);if(l instanceof Error)return l}return null}return k(b)}function s(a){function b(b,c,d,f,g){for(var h=0;h<a.length;h++){var i=a[h];if(null==i(b,c,d,f,g))return null}var j=e[f];return new Error("Invalid "+j+" `"+g+"` supplied to "+("`"+d+"`."));
}return k(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function t(){function a(a,b,c,d,f){if(!v(a[b])){var g=e[d];return new Error("Invalid "+g+" `"+f+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return k(a)}function u(a){function b(b,c,d,f,g){var h=b[c],i=x(h);if("object"!==i){var j=e[f];return new Error("Invalid "+j+" `"+g+"` of type `"+i+"` "+("supplied to `"+d+"`, expected `object`."))}for(var k in a){var l=a[k];if(l){var m=l(h,k,d,f,g+"."+k);if(m)return m}}return null}return k(b)}function v(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(v);if(null===a||d.isValidElement(a))return!0;var b=g(a);if(!b)return!1;var e,c=b.call(a);if(b!==a.entries){for(;!(e=c.next()).done;)if(!v(e.value))return!1}else for(;!(e=c.next()).done;){var f=e.value;if(f&&!v(f[1]))return!1}return!0;default:return!1}}function w(a,b){return"symbol"===a||("Symbol"===b["@@toStringTag"]||"function"==typeof Symbol&&b instanceof Symbol)}function x(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":w(b,a)?"symbol":b}function y(a){var b=x(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function z(a){return a.constructor&&a.constructor.name?a.constructor.name:h}var d=c(19),e=c(99),f=c(18),g=c(105),h="<<anonymous>>",i={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:m(),arrayOf:n,element:o(),instanceOf:p,node:t(),objectOf:r,oneOf:q,oneOfType:s,shape:u};a.exports=i},function(a,b,c){"use strict";(function(b){function k(a){h.enqueueUpdate(a)}function l(a){var b=typeof a;if("object"!==b)return b;var c=a.constructor&&a.constructor.name||b,d=Object.keys(a);return d.length>0&&d.length<20?c+" (keys: "+d.join(", ")+")":c}function m(a,c){var d=f.get(a);return d?("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?j(null==e.current,"%s(...): Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.",c):void 0),d):("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?j(!c,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",c,c,a.constructor.displayName):void 0),null)}var d=c(6),e=c(24),f=c(61),g=c(13),h=c(22),i=c(5),j=c(7),n={isMounted:function(a){if("production"!==b.env.NODE_ENV){var c=e.current;null!==c&&("production"!==b.env.NODE_ENV?j(c._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",c.getName()||"A component"):void 0,c._warnedAboutRefsInRender=!0)}var d=f.get(a);return!!d&&!!d._renderedComponent},enqueueCallback:function(a,b,c){n.validateCallback(b,c);var d=m(a);return d?(d._pendingCallbacks?d._pendingCallbacks.push(b):d._pendingCallbacks=[b],void k(d)):null},enqueueCallbackInternal:function(a,b){a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],k(a)},enqueueForceUpdate:function(a){var b=m(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,k(b))},enqueueReplaceState:function(a,b){var c=m(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,k(c))},enqueueSetState:function(a,c){"production"!==b.env.NODE_ENV&&(g.debugTool.onSetState(),"production"!==b.env.NODE_ENV?j(null!=c,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0);var d=m(a,"setState");if(d){var e=d._pendingStateQueue||(d._pendingStateQueue=[]);e.push(c),k(d)}},enqueueElementInternal:function(a,b){a._pendingElement=b,k(a)},validateCallback:function(a,c){a&&"function"!=typeof a?"production"!==b.env.NODE_ENV?i(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",c,l(a)):d("122",c,l(a)):void 0}};a.exports=n}).call(b,c(4))},function(a,b){"use strict";a.exports="15.2.0"},function(a,b){"use strict";var c={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){c.currentScrollLeft=a.x,c.currentScrollTop=a.y}};a.exports=c},function(a,b,c){"use strict";(function(b){function f(a,c){if(null==c?"production"!==b.env.NODE_ENV?e(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):d("30"):void 0,null==a)return c;var f=Array.isArray(a),g=Array.isArray(c);return f&&g?(a.push.apply(a,c),a):f?(a.push(c),a):g?[a].concat(c):[a,c]}var d=c(6),e=c(5);a.exports=f}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function j(a,c,j,k,l,m){for(var n in a)if(a.hasOwnProperty(n)){var o;try{"function"!=typeof a[n]?"production"!==b.env.NODE_ENV?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",k||"React class",f[j],n):d("84",k||"React class",f[j],n):void 0,o=a[n](c,n,k,j)}catch(a){o=a}if("production"!==b.env.NODE_ENV?h(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",k||"React class",f[j],n,typeof o):void 0,o instanceof Error&&!(o.message in i)){i[o.message]=!0;var p="";null!==m?p=e.getStackAddendumByID(m):null!==l&&(p=e.getCurrentStackAddendum(l)),"production"!==b.env.NODE_ENV?h(!1,"Failed %s type: %s%s",j,o.message,p):void 0}}}var d=c(6),e=c(39),f=c(99),g=c(5),h=c(7),i={};a.exports=j}).call(b,c(4))},function(a,b){"use strict";var c=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};a.exports=c},function(a,b,c){"use strict";function e(a){for(var b;(b=a._renderedNodeType)===d.COMPOSITE;)a=a._renderedComponent;return b===d.HOST?a._renderedComponent:b===d.EMPTY?null:void 0}var d=c(156);a.exports=e},function(a,b,c){"use strict";function f(){return!e&&d.canUseDOM&&(e="textContent"in document.documentElement?"textContent":"innerText"),e}var d=c(10),e=null;a.exports=f},function(a,b,c){"use strict";(function(b){function m(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}function n(a){var b=a._currentElement;return null==b?"#empty":"string"==typeof b||"number"==typeof b?"#text":"string"==typeof b.type?b.type:a.getName?a.getName()||"Unknown":b.type.displayName||b.type.name||"Unknown"}function o(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function q(a){var c,e=null===a||a===!1;if(e)c=g.create(q);else if("object"==typeof a){var f=a;!f||"function"!=typeof f.type&&"string"!=typeof f.type?"production"!==b.env.NODE_ENV?j(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==f.type?f.type:typeof f.type,m(f._owner)):d("130",null==f.type?f.type:typeof f.type,m(f._owner)):void 0,"string"==typeof f.type?c=h.createInternalComponent(f):o(f.type)?(c=new f.type(f),c.getHostNode||(c.getHostNode=c.getNativeNode)):c=new l(f)}else"string"==typeof a||"number"==typeof a?c=h.createInstanceForText(a):"production"!==b.env.NODE_ENV?j(!1,"Encountered invalid React node of type %s",typeof a):d("131",typeof a);if("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?k("function"==typeof c.mountComponent&&"function"==typeof c.receiveComponent&&"function"==typeof c.getHostNode&&"function"==typeof c.unmountComponent,"Only React Components can be mounted."):void 0),c._mountIndex=0,c._mountImage=null,"production"!==b.env.NODE_ENV){var r=e?0:p++;if(c._debugID=r,0!==r){var s=n(c);i.debugTool.onSetDisplayName(r,s);var t=a&&a._owner;t&&i.debugTool.onSetOwner(r,t._debugID)}}return"production"!==b.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(c),c}var d=c(6),e=c(8),f=c(349),g=c(150),h=c(152),i=c(13),j=c(5),k=c(7),l=function(a){this.construct(a)};e(l.prototype,f.Mixin,{_instantiateReactComponent:q});var p=1;a.exports=q}).call(b,c(4))},function(a,b){"use strict";function d(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&c[a.type]||"textarea"===b)}var c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};a.exports=d},function(a,b,c){"use strict";var d=c(10),e=c(65),f=c(66),g=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b};d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),a.exports=g},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";function A(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=A(d),f=c(0),g=A(f),h=c(2),i=A(h),j=c(1),k=A(j),l=c(3),m=c(245),n=A(m),o=c(239),p=A(o),q=c(249),r=A(q),s=c(234),t=A(s),u=c(42),v=A(u),w=c(228),x=A(w),y=c(20),z=A(y),B=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,i.default)(this,a.call.apply(a,[this].concat(d)));h._screens={splash:n.default,photoRoll:p.default,webcam:r.default,editor:t.default,empty:v.default};var j=void 0;return j=h.props.options.editor.image?"editor":"splash",h._previousScreensStack=[],h.state={activeScreen:h._screens[j],activeScreenName:j,screens:(0,e.default)({},j,h._screens[j])},h}return(0,k.default)(b,a),b.prototype.hasPreviousScreen=function(){return!!this._previousScreensStack.length},b.prototype.getPreviousScreen=function(){var b=this._previousScreensStack;return b[b.length-1]},b.prototype.switchToScreen=function(b){var c=this,d=null;if("back"===b){if(d=this._previousScreensStack.pop(),!d)throw new Error("Unable to switch to previous screen - no previous screen found.")}else{if(d=this._screens[b],!d)throw new Error("Unknown screen `"+b+"`");this._previousScreensStack.push(this.state.activeScreen)}return this.state.screens[b]||(this.state.screens[b]=d),"editor"!==this.state.activeScreenName&&delete this.state.screens[this.state.activeScreenName],new l.Promise(function(a){c.setState({activeScreen:d,activeScreenName:b},function(){a()})})},b.prototype.setImage=function(b,c){var d=this,e=this.props.options;e.editor.image=b;var f=!this.refs.editorScreen;this.switchToScreen("editor").then(function(){f||d.refs.editorScreen.setImage(b,c)})},b.prototype.export=function(){if(this.state.activeScreen!==this._screens.editor)return l.Promise.reject(new Error("Unable to export: Active screen is not the editor screen."));if(this.state.screens.editor){var b;return(b=this.refs.editorScreen).export.apply(b,arguments)}},b.prototype.getChildContext=function(){return{ui:this.props.ui,options:this.props.options,mediator:this.props.mediator}},b.prototype._renderScreens=function(){var b=[];for(var c in this.state.screens){var d=this.state.screens[c],e=this.state.activeScreen===d;b.push(l.ReactBEM.createElement(d,{ref:c+"Screen",app:this,visible:e}))}return b},b.prototype.render=function(){return l.ReactBEM.transform(l.ReactBEM.createElement("div",{bem:"b:editor"},l.ReactBEM.createElement(x.default,{modalManager:z.default.instance}),this._renderScreens()))},b}(l.React.Component);b.default=B,B.childContextTypes={ui:l.React.PropTypes.object.isRequired,mediator:l.React.PropTypes.object.isRequired,options:l.React.PropTypes.object.isRequired},B.propTypes={ui:l.React.PropTypes.object.isRequired,mediator:l.React.PropTypes.object.isRequired,options:l.React.PropTypes.object.isRequired}},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(259);Object.defineProperty(b,"Provider",{enumerable:!0,get:function(){return h(d).default}});var e=c(257);Object.defineProperty(b,"Library",{enumerable:!0,get:function(){return h(e).default}});var f=c(260);Object.defineProperty(b,"SearchSuggestion",{enumerable:!0,get:function(){return h(f).default}});var g=c(258);Object.defineProperty(b,"Photo",{enumerable:!0,get:function(){return h(g).default}})},function(a,b){a.exports={controls:{overview:{filters:"Filter",orientation:"Ausrichtung",adjustments:"Korrekturen",crop:"Zuschneiden",blur:"Weichzeichnen",border:"Rahmen",sticker:"Sticker",text:"Text",brush:"Malen"},border:{color:"Farbe",thickness:"Dicke"},text:{foreground:"Vordergrund",background:"Hintergrund",size:"Größe",font:"Schriftart",alignment:"Ausrichtung",takeToFront:"Nach oben"},orientation:{"rotate-l":"Drehen -90°","rotate-r":"Drehen +90°","flip-h":"Spiegeln (H)","flip-v":"Spiegeln (V)"},adjustments:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sättigung",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",clarity:"Klarheit"},crop:{custom:"Manuell",square:"Quadratisch","4-3":"4:3","16-9":"16:9"},focus:{radial:"Kreisförmig",linear:"Linear",blurRadius:"Radius"},filters:{intensity:"Intensität",categories:{all:"Alle",retro:"Retro",bw:"Schwarz & Weiß",summer:"Sommer",winter:"Winter",special:"Spezial"}},sticker:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sättigung",blur:"Weichzeichnen",flip:"Spiegeln","flip-v":"Spiegeln (V)","flip-h":"Spiegeln (H)",takeToFront:"Nach oben",categories:{all:"Alle",glasses:"Brillen",hats:"Hüte",beards:"Bärte",misc:"Gemischt"}},brush:{thickness:"Dicke",color:"Farbe"}},webcam:{headline:"Mache ein Foto!"},editor:{headline:"Foto editieren",new:"Neu",backgroundImage:"Hintergrundbild",undo:"Rückgängig",export:"Speichern"},splash:{upload:{button:"Загрузить фото",description:"Klicke hier, um ein Foto von deinem Rechner hochzuladen oder lade es per Drag-and-Drop hoch"},webcam:{headline:"Webcam",description:"Klicke hier, um ein Foto mit deiner Webcam zu machen"},photoRoll:{headline:"Kostenloses Bildmaterial",description:"Suche dir eines von tausenden Stock Photos aus."}},photoRoll:{search:{placeholder:"Nach Fotos suchen",noSearchResults:'Entschuldigung, aber wir konnten für <strong>"${query}"</strong> leider keine Ergebnisse finden.',results:{headline:'Suchergebnisse für "${query}"'}}},generic:{back:"Zurück",cancel:"Abbrechen",color:"Farbe"},loading:{resizing:"Bild wird bearbeitet...",exporting:"Exportiere...",loading:"Lade..."},warnings:{imageResized_maxMegaPixels:{title:"Bild verkleinert",text:"Da dein Bild die maximale Größe von ${maxMegaPixels} Megapixeln überschreitet, wurde es auf ${width}x${height} Pixel verkleinert."},imageResized_maxDimensions:{title:"Bild verkleinert",text:"Aufgrund von Hardware-Beschränkungen wurde das Bild auf ${width}x${height} Pixel verkleinert."}},errors:{imageLoadFail:{title:"Bild konnte nicht geladen werden",text:"Beim Laden des Bildes unter ${path} ist ein Fehler aufgetreten."},webcamUnavailable:{title:"Webcam nicht verfügbar",text:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})"},webcamNotSupported:{title:"Webcam nicht unterstützt",text:"Dein Browser unterstützt das Webcam-Feature leider noch nicht."},renderingError:{title:"Rendering-Fehler",text:"Beim Rendern des Bildes ist ein Fehler aufgetreten."},context_lost:{title:"Es ist ein Fehler aufgetreten",text:"Dein Browser hat zu lange gebraucht, um das Bild zu generieren. Bitte versuche es noch einmal."},context_lost_limit:{title:"Es ist ein Fehler aufgetreten",text:"Bild-Generierung ist mehrmals fehlgeschlagen."},loadingStickersFailed:{title:"Laden der Sticker fehlgeschlagen"}}}},function(a,b){a.exports={controls:{overview:{filters:"Фильтр",orientation:"Поворот",adjustments:"Коррекция",crop:"Обрезка",focus:"Фокус",border:"Рамка",sticker:"Стикер",text:"Текст",brush:"Кисть"},border:{color:"Цвет",thickness:"Толщина"},text:{foreground:"Передний",background:"Задний",size:"Размер",font:"Шрифт",alignment:"Выравнивание",takeToFront:"Вперед"},orientation:{"rotate-l":"Поворот -90°","rotate-r":"Поворот +90°","flip-h":"Отразить (H)","flip-v":"Отразить (V)"},adjustments:{brightness:"Яркость",contrast:"Контраст",saturation:"Цветность",exposure:"Экспозиция",shadows:"Тени",highlights:"Света",clarity:"Четкость"},crop:{custom:"Произв",square:"Квадрат","4-3":"4:3","16-9":"16:9"},focus:{radial:"Круговая",linear:"Линейная",blurRadius:"Радиус"},filters:{intensity:"Сила",categories:{all:"Все",retro:"Ретро",bw:"ЧБ",summer:"Летние",winter:"Зимние",special:"Специальные"}},sticker:{brightness:"Яркость",contrast:"Контраст",saturation:"Цветность",blur:"Размытие",flip:"Отразить","flip-v":"Отразить (V)","flip-h":"Отразить (H)",takeToFront:"Вперед",categories:{all:"Все",glasses:"Очки",hats:"Шапки",beards:"Бороды",misc:"Прочее"}},brush:{thickness:"Толщина",color:"Цвет"}},webcam:{headline:"Разрешите доступ к камере, сфоткайтесь и добавьте эффекты!"},editor:{headline:"Редактировать",new:"Новая",backgroundImage:"Фоновая картинка",undo:"Отменить",export:"Скачать"},splash:{upload:{button:"Загрузить фото",description:"Сначала выберите фото"},webcam:{headline:"Вебка",description:"Сфоткайтесь на вебку и добавьте сотни эффектов!"},photoRoll:{headline:"Free stock footage",description:"Select from thousands of Free Stock Photos"}},photoRoll:{search:{placeholder:"Search for photos",noSearchResults:'Sorry, but we couldn\'t find any photos for <strong>"${query}"</strong>.',results:{headline:'Search results for "${query}"'}}},generic:{back:"Назад",cancel:"Отмена",color:"Цвет"},loading:{resizing:"Уменьшение фото...",exporting:"Экспорт...",loading:"Загрузка..."},warnings:{imageResized_maxMegaPixels:{title:"Фото уменьшено",text:"Максимальный размер ${maxMegaPixels} Мпикс, поэтому уменьшено до ${width}x${height} пикс."},imageResized_maxDimensions:{title:"Image resized",text:"Due to hardware limitations your image has been resized to ${width}x${height} pixels."}},errors:{imageLoadFail:{title:"Не удалось загрузить изображение",text:"Не удалось загрузить изображение по ${path}"},webcamUnavailable:{title:"Камера не поддерживается",text:"Не удалось получить фото (Error: ${error})"},webcamNotSupported:{title:"Камера не поддерживается",text:"Камера не поддерживается в вашем браузере."},renderingError:{title:"Error while rendering",text:"An error has occurred while rendering the image."},context_lost:{title:"An error has occurred",text:"Your browser took too long to render the image. Please try applying less operations."},context_lost_limit:{title:"An error has occurred",text:"Your browser failed multiple times while rendering the image."},loadingStickersFailed:{title:"Ошибка загрузки стикера"}}}},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},j.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/back.png",!0)}))))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(110),k=n(j),l=c(118),m=n(l),o=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._events={},h._needsStyleFixes=!1,h._bindAll("_onSharedStateUpdate","fixStyles"),h}return(0,i.default)(b,a),b.prototype.fixStyles=function(){},b.prototype.componentDidMount=function(){this._bindEvents(),this.props.sharedState&&this.props.sharedState.on("update",this._onSharedStateUpdate),this._needsStyleFixes&&(this.fixStyles(),this.context.options.responsive&&window.addEventListener("resize",this.fixStyles))},b.prototype.componentWillUnmount=function(){this._unbindEvents(),this.props.sharedState&&this.props.sharedState.off("update",this._onSharedStateUpdate),this.context.options.responsive&&this._needsStyleFixes&&window.removeEventListener("resize",this.fixStyles)},b.prototype.componentWillReceiveProps=function(b){b.sharedState&&(this.props.sharedState&&this.props.sharedState.off("update",this._onSharedStateUpdate),b.sharedState.on("update",this._onSharedStateUpdate))},b.prototype._bindAll=function(){for(var b=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(a){if("function"!=typeof b[a])throw new Error("_bindAll: "+b.constructor.name+"."+a+" is not a function.");b[a]=b[a].bind(b)})},b.prototype._t=function(b,c){return this.context.ui.translate(b,c)},b.prototype._getAssetPath=function(){var b;return(b=this.context.ui).getAssetPath.apply(b,arguments)},b.prototype._onSharedStateUpdate=function(b){this.sharedStateDidChange(b),this.forceUpdate()},b.prototype.sharedStateDidChange=function(b){},b.prototype.setSharedState=function(b,c){this.props.sharedState.set(b,c)},b.prototype.getSharedState=function(b){return this.props.sharedState.get(b)},b.prototype.forceSharedUpdate=function(){this.props.sharedState.broadcastUpdate()},b.prototype._bindEvents=function(){for(var b in this._events){var c=this._events[b];this.context.mediator.on(b,c)}},b.prototype._unbindEvents=function(){for(var b in this._events){var c=this._events[b];this.context.mediator.off(b,c)}},b.prototype._emitEvent=function(b){for(var c,d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=this.context.mediator).emit.apply(c,[b].concat(e))},b.prototype.renderWithBEM=function(){return m.default.createElement("div")},b.prototype.render=function(){return m.default.transform(this.renderWithBEM())},b}(k.default.Component);b.default=o,o.contextTypes={editor:k.default.PropTypes.object,ui:k.default.PropTypes.object,options:k.default.PropTypes.object,mediator:k.default.PropTypes.object,editorScreen:k.default.PropTypes.object},o.propTypes={sharedState:k.default.PropTypes.any}},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b="b:button";return this.props.uppercase&&(b+=" m:uppercase"),j.ReactBEM.createElement("button",{bem:b,className:this.props.className,onClick:this.props.onClick},this.props.children)},b}(j.BaseComponent);b.default=l,l.propTypes={onClick:j.React.PropTypes.func,children:j.React.PropTypes.any.isRequired,className:j.React.PropTypes.string},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._onItemClick=function(b){this.props.onChange&&this.props.onChange(b)},b.prototype._renderListItems=function(){var b=this;return this.props.items.map(function(a){var c=a.name===b.props.selectedItem.name;return j.ReactBEM.createElement("li",{bem:"$e:item",className:c?" is-active":"",onClick:b._onItemClick.bind(b,a)},j.ReactBEM.createElement("img",{bem:"e:icon",src:a.icon}),j.ReactBEM.createElement("div",{bem:"e:label"},a.label))})},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:categoryDropdown $e:overlay"},j.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderListItems()))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(21),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onKnobDrag","_onKnobDragStart"),h._value=h.props.initialValue.clone(),h._transparentPatternCanvas=j.Utils.createTransparentPatternCanvas(),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderCanvas()},b.prototype.shouldComponentUpdate=function(b){var c=b.initialValue;return c!==this._value&&(this._value=c.clone(),this._renderCanvas(),!0)},b.prototype._onKnobDragStart=function(b,c){c.target===this.refs.knob?this._initialAlpha=this._value.a:this._setAlphaFromPosition(b)},b.prototype._onKnobDrag=function(b,c){var d=this.refs.canvas,e=d.offsetWidth,f=b.x/e;this._setAlpha(this._initialAlpha+f)},b.prototype._getKnobStyle=function(){return{left:(100*this._value.a).toFixed(2)+"%",top:"50%"}},b.prototype._setAlpha=function(b){this._value.a=b,this._value.a=Math.min(1,Math.max(0,this._value.a)),this.forceUpdate(),this.props.onChange&&this.props.onChange(this._value)},b.prototype._setAlphaFromPosition=function(b){var c=this.refs.canvas;this._initialAlpha=b.x/c.offsetWidth,this._setAlpha(this._initialAlpha)},b.prototype._renderCanvas=function(){var b=this.refs.canvas,c=b.getContext("2d");b.width=b.offsetWidth,b.height=b.offsetHeight;var d=c.createPattern(this._transparentPatternCanvas,"repeat");c.fillStyle=d,c.fillRect(0,0,b.width,b.height);var e=c.createLinearGradient(0,0,b.width,b.height),f=this._value.clone();f.a=0,e.addColorStop(0,f.toRGBA()),e.addColorStop(1,this._value.toHex()),c.fillStyle=e,c.fillRect(0,0,b.width,b.height)},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:alpha"},j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},j.ReactBEM.createElement("div",null,j.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),j.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(21),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._bindAll("_onKnobDrag","_onKnobDragStart"),h._value=h.props.initialValue.clone();var i=h._value.toHSV(),j=i[0],k=i[1],l=i[2];return h._hsvColor={h:j,s:k,v:l},h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderCanvas()},b.prototype.shouldComponentUpdate=function(b){var c=b.initialValue;if(c!==this._value){this._value=c.clone();var d=this._value.toHSV(),e=d[0],f=d[1],g=d[2];return this._hsvColor={h:e,s:f,v:g},this._renderCanvas(),!0}return!1},b.prototype._onKnobDragStart=function(b,c){c.target===this.refs.knob?this._initialHue=this._hsvColor.h:this._setValueFromPosition(b)},b.prototype._onKnobDrag=function(b,c){var d=this.refs.canvas,e=d.offsetHeight,f=b.y/e;this._setHue(this._initialHue+f)},b.prototype._getKnobStyle=function(){return{left:"50%",top:(100*this._hsvColor.h).toFixed(2)+"%"}},b.prototype._setHue=function(b){var c=this._hsvColor,d=c.s,e=c.v;b=Math.min(1,Math.max(0,b)),d=Math.max(.01,Math.min(d,.99)),e=Math.max(.01,Math.min(e,.99)),this._value=j.Color.fromHSV(b,d,e,this._value.a),this._hsvColor={h:b,s:d,v:e},this.forceUpdate(),this.props.onChange&&this.props.onChange(this._value)},b.prototype._setValueFromPosition=function(b){var c=this.refs.canvas;this._initialHue=b.y/c.offsetHeight,this._setHue(this._initialHue)},b.prototype._renderCanvas=function(){var b=this.refs.canvas,c=b.getContext("2d");b.width=b.offsetWidth,b.height=b.offsetHeight;for(var d=0;d<b.height;d++){var e=d/b.height,f=j.Color.fromHSV(e,1,1);c.strokeStyle=f.toRGBA(),c.beginPath(),c.moveTo(0,d),c.lineTo(b.width,d),c.stroke()}},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:hue"},j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},j.ReactBEM.createElement("div",null,j.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),j.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(179),l=q(k),m=c(182),n=q(m),o=c(180),p=q(o),r=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._value=h.props.initialValue.clone();var i=h._value.toHSV(),j=i[0],k=i[1],l=i[2];return h._hsv={h:j,s:k,v:l},h._bindAll("_onElementClick","_onColorChange","_onDocumentClick"),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),document.addEventListener("click",this._onDocumentClick)},b.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this),document.removeEventListener("click",this._onDocumentClick)},b.prototype._onDocumentClick=function(b){for(var c=b.target;c;c=c.parentNode)if(c===this.refs.root)return;this.props.onClose&&this.props.onClose()},b.prototype._onElementClick=function(b){b.stopPropagation()},b.prototype._onColorChange=function(b){this._value=b,this.props.onChange&&this.props.onChange(b)},b.prototype.renderWithBEM=function(){var b=void 0;return this.props.alpha!==!1&&(b=j.ReactBEM.createElement(l.default,{initialValue:this._value,onChange:this._onColorChange})),j.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:overlay",onClick:this._onElementClick,ref:"root"},b,j.ReactBEM.createElement("div",{bem:"e:bottom"},j.ReactBEM.createElement(n.default,{initialValue:this._value,onChange:this._onColorChange}),j.ReactBEM.createElement(p.default,{initialValue:this._value,onChange:this._onColorChange})))},b}(j.BaseComponent);b.default=r,r.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(21),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._bindAll("_onKnobDrag","_onKnobDragStart"),h._value=h.props.initialValue.clone();var i=h._value.toHSV(),j=i[0],k=i[1],l=i[2];return h._hsvColor={h:j,s:k,v:l},h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderCanvas()},b.prototype.shouldComponentUpdate=function(b){var c=b.initialValue;if(c!==this._value){this._value=c.clone();var d=this._value.toHSV(),e=d[0],f=d[1],g=d[2];return this._hsvColor={h:e,s:f,v:g},this._renderCanvas(),!0}return!1},b.prototype._onKnobDragStart=function(b,c){c.target===this.refs.knob?(this._initialValue=this._hsvColor.v,
this._initialSaturation=this._hsvColor.s):this._setValuesFromPosition(b)},b.prototype._onKnobDrag=function(b,c){var d=this.refs.canvas,e=d.offsetWidth,f=d.offsetHeight,g=b.x/e,h=b.y/f*-1,i=this._hsvColor.h;this._setHSV(i,this._initialSaturation+g,this._initialValue+h)},b.prototype._getKnobStyle=function(){var b=this._hsvColor,c=b.s,d=b.v;return{left:(100*c).toFixed(2)+"%",top:(100*(1-d)).toFixed(2)+"%"}},b.prototype._setHSV=function(b,c,d){c=Math.max(.01,Math.min(c,.99)),d=Math.max(.01,Math.min(d,.99)),this._value=j.Color.fromHSV(b,c,d,this._value.a),this._hsvColor={h:b,s:c,v:d},this.forceUpdate(),this.props.onChange&&this.props.onChange(this._value)},b.prototype._setValuesFromPosition=function(b){var c=this.refs.canvas;this._initialSaturation=b.x/c.offsetWidth,this._initialValue=1-b.y/c.offsetHeight;var d=this._hsvColor.h;this._setHSV(d,this._initialSaturation,this._initialValue)},b.prototype._renderCanvas=function(){var b=this.refs.canvas,c=b.getContext("2d");b.width=b.offsetWidth,b.height=b.offsetHeight;for(var d=c.getImageData(0,0,b.width,b.height),e=0;e<b.height;e++)for(var f=(b.height-e)/b.height,g=0;g<b.width;g++){var h=g/b.width,i=j.Color.fromHSV(this._hsvColor.h,h,f),k=i.r,l=i.g,m=i.b,n=i.a,o=4*(e*b.width+g);d.data[o]=255*k,d.data[o+1]=255*l,d.data[o+2]=255*m,d.data[o+3]=255*n}c.putImageData(d,0,0)},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:saturation"},j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},j.ReactBEM.createElement("div",null,j.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),j.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=s(d),f=c(2),g=s(f),h=c(1),i=s(h),j=c(3),k=c(11),l=s(k),m=c(14),n=s(m),o=c(69),p=s(o),q=c(205),t=(s(q),[{identifier:"brightness",isAvailable:function(b){return b.isToolEnabled("brightness")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"saturation",isAvailable:function(b){return b.isToolEnabled("saturation")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"contrast",isAvailable:function(b){return b.isToolEnabled("contrast")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"clarity",isAvailable:function(b){return b.isToolEnabled("clarity")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"exposure",isAvailable:function(b){return b.isToolEnabled("exposure")},defaultValue:0,valueMultiplier:100,valueOffset:0},{identifier:"shadows",isAvailable:function(b){return b.isToolEnabled("shadows")},defaultValue:1,valueMultiplier:100,valueOffset:-100},{identifier:"highlights",isAvailable:function(b){return b.isToolEnabled("highlights")},defaultValue:1,valueMultiplier:100,valueOffset:0}]),u=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._bindAll("_onSliderValueChange");var i=h.context.editor;return h._operation=i.getOrCreateOperation("adjustments"),h.state={selectedControls:null},h}return(0,i.default)(b,a),b.prototype._onBackClick=function(c){var d=this.context.editor,e=this.getSharedState("operationExistedBefore"),f=this.getSharedState("initialOptions");this._operation.optionsEqual(f)||d.addHistory(this._operation,f,e);var g=this._operation.getDefaultOptions();this._operation.optionsEqual(g)&&d.removeOperation(this._operation),a.prototype._onBackClick.call(this,c)},b.prototype._onSliderValueChange=function(b){var c=this.state.selectedControls,d=c.identifier,e=c.valueMultiplier,f=c.valueOffset;b=(b-f)/e,this._operation.setOption(d,b);var g=this.context.editor;g.render()},b.prototype._onButtonClick=function(b,c){this.setState({selectedControls:b})},b.prototype._buildSliderProps=function(b){var c=b.identifier,d=b.defaultValue,e=b.valueMultiplier,f=b.valueOffset,g=-1*e,h=1*e,i=this._operation?this._operation.getOption(c):d;return i*=e,i+=f,{minValue:g,maxValue:h,value:i,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.adjustments."+c),middleDot:!0,onChange:this._onSliderValueChange}},b.prototype.renderOverlayControls=function(){var b=this.state.selectedControls;if(b){var c=this._buildSliderProps(b);return j.ReactBEM.createElement(p.default,c)}},b.prototype._renderListItems=function(){var b=this;return t.filter(function(a){return a.isAvailable(b.context.editor)}).map(function(a){var c=b.state.selectedControls===a,d=c?"is-active":null,e=void 0;return j.ReactBEM.createElement("li",{bem:"e:item",key:a.identifier},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:b._onButtonClick.bind(b,a),className:d},j.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath("controls/adjustments/"+a.identifier+".png",!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},b._t("controls.adjustments."+a.identifier)),e)))})},b.prototype.renderControls=function(){var b=this._renderListItems();return j.ReactBEM.createElement("div",{bem:"e:cell m:list"},j.ReactBEM.createElement(n.default,null,j.ReactBEM.createElement("ul",{bem:"$e:list"},b)))},b}(l.default);b.default=u,u.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(12),k=n(j),l=c(183),m=n(l),o=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.operationExists("adjustments"),e=c.getOrCreateOperation("adjustments"),f=e.serializeOptions();this.setSharedState({operation:e,operationExistedBefore:d,initialOptions:f})},b.isAvailable=function(b){return b.isToolEnabled("brightness")||b.isToolEnabled("saturation")||b.isToolEnabled("contrast")},b}(k.default);o.controlsComponent=m.default,o.identifier="adjustments",o.iconPath="controls/overview/adjustments.png",o.languageKey="controls.overview.adjustments",o.defaultOptions={},b.default=o},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(11),l=q(k),m=c(43),n=q(m),o=c(68),p=q(o),r=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._hasDoneButton=!0,h._operation=h.getSharedState("operation"),h._bindAll("_onThicknessUpdate","_onColorUpdate"),h}return(0,i.default)(b,a),b.prototype._onThicknessUpdate=function(b){this._operation.setThickness(b);var c=this.context.editor;c.render()},b.prototype._onBackClick=function(c){var d=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):d.removeOperation(this._operation),d.undoZoom(),d.enableFeatures("zoom","drag"),d.render(),a.prototype._onBackClick.call(this,c)},b.prototype._onColorUpdate=function(b){this._operation.setColor(b);var c=this.context.editor;c.render()},b.prototype.renderControls=function(){var b=this.context.editor,c=b.getFinalDimensions(),d=0,e=Math.round(Math.min(c.x,c.y)/2),f=this._operation.getThickness();return[j.ReactBEM.createElement("div",{bem:"e:cell m:slider"},j.ReactBEM.createElement(n.default,{style:"large",minValue:d,maxValue:e,valueUnit:"px",middleDot:!1,label:this._t("controls.border.thickness"),onChange:this._onThicknessUpdate,value:f})),j.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},j.ReactBEM.createElement(p.default,{initialValue:this._operation.getColor().clone(),onChange:this._onColorUpdate}))]},b}(l.default);b.default=r,r.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(12),k=n(j),l=c(185),m=n(l),o=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.getInputDimensions(),e=.05*Math.min(d.x,d.y),f=c.operationExists("border"),g=c.getOrCreateOperation("border",{thickness:e}),h={color:g.getColor().clone(),thickness:g.getThickness()};this.setSharedState({operation:g,operationExistedBefore:f,initialOptions:h}),c.setZoom("auto",function(){c.disableFeatures("zoom","drag")})},b.onExit=function(){var b=this.context.editor,c=this.getSharedState("operation");b.addHistory(c,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),c.setEnabled(!0),b.undoZoom(),b.enableFeatures("zoom","drag"),b.render()},b.isAvailable=function(b){return b.isToolEnabled("border")},b}(k.default);o.controlsComponent=m.default,o.identifier="border",o.iconPath="controls/overview/border.png",o.languageKey="controls.overview.border",o.defaultOptions={},b.default=o},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(71),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._drawing=!1,h._bindAll("_onMouseEnter","_onMouseLeave","_onMouseDown","_onMouseMove","_onMouseUp","_onMouseMoveOnCanvas"),h._lastDrawPosition=null,h.state={cursorVisible:!1,cursorPosition:new j.Vector2},h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._containerBoundingRect=this.refs.root.getBoundingClientRect()},b.prototype._onOperationRemoved=function(b){},b.prototype._onOperationUpdated=function(b){b===this.getSharedState("operation")&&this.forceUpdate()},b.prototype._onMouseDown=function(b){b.preventDefault(),this._optionsBeforeDraw=this.getSharedState("operation").serializeOptions(),delete this._optionsBeforeDraw.enabled,this._operationExistedBeforeDraw=this.getSharedState("operationExistedBefore"),this.setSharedState({operationExistedBefore:!0},!1);var c=this.context.editor.getZoom(),d=this._getCursorPosition(b),e=this.getSharedState("brush"),f=this.getSharedState("thickness"),g=this.getSharedState("color"),h=this.getSharedState("hardness");this._drawing=!0,this._currentPath=e.createPath(f,h,g),this._currentPath.addControlPoint(d.clone().divide(c)),document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("touchmove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("touchend",this._onMouseUp)},b.prototype._onMouseUp=function(){this._currentPath=null,this._drawing=!1;var b=this.context.editor;b.addHistory(this.getSharedState("operation"),this._optionsBeforeDraw,this._operationExistedBeforeDraw),document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("touchmove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("touchend",this._onMouseUp)},b.prototype._onMouseEnter=function(b){var c=this._getCursorPosition(b);this.setState({cursorVisible:!0,cursorPosition:c}),this._onMouseMove(b)},b.prototype._onMouseLeave=function(){this.setState({cursorVisible:!1})},b.prototype._onMouseMove=function(b){var c=this.context.editor.getZoom(),d=this._getCursorPosition(b);this.setState({cursorPosition:d});var e=void 0;if(this._lastDrawPosition){var f=this.getSharedState("thickness"),g=this._lastDrawPosition.clone().subtract(d).abs().len()/c;e=g>=f/3}else e=!0;if(this._drawing&&e){var h=this.context.editor.getZoom();this._currentPath.addControlPoint(d.clone().divide(h)),this.getSharedState("brush").render();var i=this.context.editor;i.render(),this._lastDrawPosition=d.clone()}},b.prototype._onMouseMoveOnCanvas=function(b){var c=this._getCursorPosition(b);this.setState({cursorPosition:c})},b.prototype._getCursorStyle=function(){var b=this.context.editor,c=b.getZoom(),d=this.getSharedState("thickness")*c,e=this.getSharedState("color"),f=this.state.cursorPosition;return{left:f.x,top:f.y,width:d,height:d,background:e.toRGBA(),marginLeft:d*-.5,marginTop:d*-.5}},b.prototype._getCursorPosition=function(b){var c=j.Utils.getEventPosition(b),d=this._containerBoundingRect;return c.subtract(d.left,d.top)},b.prototype._getContainerProps=function(){var c=a.prototype._getContainerProps.call(this);return c.onMouseDown=c.onTouchStart=this._onMouseDown,c},b.prototype._getInnerContainerProps=function(){var c=a.prototype._getInnerContainerProps.call(this);return delete c.onClick,c.onMouseEnter=this._onMouseEnter,c.onMouseLeave=this._onMouseLeave,c.onMouseMove=this._onMouseMoveOnCanvas,c},b.prototype._renderOverlayControls=function(){var b=this.state.cursorVisible?"is-visible":null;return j.ReactBEM.createElement("div",{bem:"$b:brushCanvasControls"},j.ReactBEM.createElement("div",{bem:"e:cursor",className:b,style:this._getCursorStyle()}))},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=w(d),f=c(0),g=w(f),h=c(2),i=w(h),j=c(1),k=w(j),l=c(3),m=c(11),n=w(m),o=c(43),p=w(o),q=c(14),r=w(q),s=c(68),t=w(s),u=c(190),v=w(u),x=function(a){function b(){var c;(0,g.default)(this,b);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];var j=(0,i.default)(this,a.call.apply(a,[this].concat(f)));return j._hasDoneButton=!1,j._brushOptions={thickness:j.getSharedState("thickness"),color:j.getSharedState("color").clone()},j._hasPresets=j.props.options.thicknessPresets&&j.props.options.thicknessPresets.length>0,j._hasSlider=!j._hasPresets,j._bindAll("_onThicknessUpdated","_onColorUpdated","_onOperationUpdated","_onOperationRemoved"),j.state={thicknessControlsEnabled:!1},j._events=(c={},(0,e.default)(c,l.Constants.EVENTS.OPERATION_UPDATED,j._onOperationUpdated),(0,e.default)(c,l.Constants.EVENTS.OPERATION_REMOVED,j._onOperationRemoved),c),j}return(0,k.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this);var c=this.context.editor;c.setZoom("auto"),c.disableFeatures("zoom","drag")},b.prototype._onThicknessClick=function(b){this._onThicknessUpdated(b),this.forceUpdate()},b.prototype._onOperationRemoved=function(b){if(b===this.getSharedState("operation")&&!this._backButtonClicked){var c=this.context.editor,d=c.getOrCreateOperation("sprite"),e=d.createBrush();d.addSprite(e),this.setSharedState({operation:d,brush:e,operationExistedBefore:!1,initialOptions:{}}),c.render()}},b.prototype._onOperationUpdated=function(b){var c=this;b===this.getSharedState("operation")&&!function(){var a=c.getSharedState("brush"),d=b.getSprites().filter(function(b){return b.getId()===a.getId()})[0];c.setSharedState({brush:d}),b.setEnabled(!0),c.context.editor.render(function(){b.setEnabled(!1),c.context.editor.render()})}()},b.prototype._onThicknessUpdated=function(b){this.setSharedState({thickness:b}),this._brushOptions.thickness=b},b.prototype._onColorUpdated=function(b){this.setSharedState({color:b}),this._brushOptions.color=b.clone()},b.prototype._renderThicknessItems=function(){var b=this,c=this.props.options.thicknessPresets,d=Math.max.apply(null,c);return c.map(function(a){var c=b.getSharedState("thickness")===a;return l.ReactBEM.createElement(v.default,{thickness:a,maxThickness:d,active:c,key:a,onClick:b._onThicknessClick.bind(b,a)})})},b.prototype.renderControls=function(){var b=this.context.editor,c=[];if(this._hasSlider){var d=b.getFinalDimensions(),e=1,f=Math.round(Math.min(d.x,d.y)/2),g=this._brushOptions.thickness;c.push(l.ReactBEM.createElement("div",{bem:"e:cell m:slider"},l.ReactBEM.createElement(p.default,{style:"large",minValue:e,maxValue:f,valueUnit:"px",middleDot:!1,label:this._t("controls.brush.thickness"),onChange:this._onThicknessUpdated,value:g})))}else this._hasPresets&&c.push(l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(r.default,null,l.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderThicknessItems()))));return c.push(l.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},l.ReactBEM.createElement(t.default,{initialValue:this._brushOptions.color.clone(),onChange:this._onColorUpdated,alpha:!1}))),c},b}(n.default);b.default=x,x.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(12),l=q(k),m=c(188),n=q(m),o=c(187),p=q(o),r=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onExit=function(){var b=this.context.editor,c=this.getSharedState("operation");c.setEnabled(!0),b.undoZoom(),b.enableFeatures("zoom","drag"),b.render()},b.onEnter=function(b,c){var d=this.context.editor,e=d.getSDK().getFinalDimensions(),f=d.operationExists("sprite"),g=d.getOrCreateOperation("sprite"),h=g.createBrush(),i=g.serializeOptions();g.addSprite(h),d.render(function(){g.setEnabled(!1),d.setZoom("auto")});var k=.05*Math.max(e.x,e.y);c.thicknessPresets&&c.thicknessPresets.length>0&&(k=c.thicknessPresets[0]);var l=new j.Color(1,0,0,1),m=1;this.setSharedState({operationExistedBefore:f,operation:g,brush:h,initialOptions:i,thickness:k,color:l,hardness:m})},b.isAvailable=function(b){return b.isToolEnabled("brush")},b}(l.default);r.controlsComponent=n.default,r.canvasControlsComponent=p.default,r.identifier="brush",r.iconPath="controls/overview/brush.png",r.languageKey="controls.overview.brush",r.defaultOptions={thicknessPresets:[]},b.default=r},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._renderCanvas()},b.prototype.componentDidUpdate=function(){this._renderCanvas()},b.prototype._renderCanvas=function(){var b=this.refs.canvas,c=b.getContext("2d");b.width=b.offsetWidth,b.height=b.offsetHeight;var d=this.props,e=d.maxThickness,f=d.thickness,g=b.width*(f/e),h=g/2;c.fillStyle="white",c.beginPath(),c.arc(b.width/2,b.height/2,h,0,2*Math.PI),c.fill()},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"$b:controls $e:list"},j.ReactBEM.createElement("li",{bem:"e:item",onClick:this.props.onClick},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:this.props.active?"is-active":null},j.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),j.ReactBEM.createElement("div",{bem:"e:label"},this.props.thickness)))))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(21),l=o(k),m=c(41),n=o(m),p=new j.Vector2(50,50),q=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onCenterDragStart","_onCenterDrag"),h._operation=h.getSharedState("operation"),h}return(0,i.default)(b,a),b.prototype._onCenterDragStart=function(){this._initialStart=this.getSharedState("start").clone(),this._initialEnd=this.getSharedState("end").clone(),this._initialCropSize=this._initialEnd.clone().subtract(this._initialStart)},b.prototype._onCenterDrag=function(b){var c=this.context.editor,d=c.getOutputDimensions(),e=b.clone().divide(d),f=new j.Vector2(0,0),g=new j.Vector2(1,1).subtract(this._initialCropSize),h=this._initialStart.clone().add(e).clamp(f,g),i=h.clone().add(this._initialCropSize);this.setSharedState({start:h,end:i})},b.prototype._onKnobDragStart=function(b){this._currentDragOption=b,this._initialValues={start:this.getSharedState("start").clone(),end:this.getSharedState("end").clone()}},b.prototype._onKnobDrag=function(b,c){var d=this.context.editor,e=d.getOutputDimensions(),f=this._operation._ratio||"*",g=this._initialValues.end.clone().subtract(this._initialValues.start).multiply(e),h=void 0;if("start"===b?(g.subtract(c),h=this._initialValues.end.clone().multiply(e)):"end"===b&&(g.add(c),h=new j.Vector2(1,1).subtract(this._initialValues.start).multiply(e)),g.x=Math.min(Math.max(p.x,g.x),h.x),"*"!==f&&(g.y=g.x/f),g.y=Math.min(Math.max(p.y,g.y),h.y),"*"!==f&&(g.x=g.y*f),"start"===b){var i=this._initialValues.end.clone().subtract(g.clone().divide(e));this.setSharedState({start:i})}else if("end"===b){var k=this._initialValues.start.clone().add(g.clone().divide(e));this.setSharedState({end:k})}},b.prototype._calculateDimensions=function(){var b=this.context.editor,c=this.getSharedState("start"),d=this.getSharedState("end");return d.clone().subtract(c).multiply(b.getInputDimensions()).round()},b.prototype._getContainerStyle=function(){var b=this.context.editor.getSDK().getSprite().getBounds(),c=b.x,d=b.y,e=b.width,f=b.height;return{left:c,top:d,width:Math.ceil(e),height:Math.ceil(f)}},b.prototype._getAreaStyles=function(){var b=this.context.editor,c=b.getOutputDimensions(),d=this.getSharedState("start").clone().multiply(c).floor(),e=this.getSharedState("end").clone().multiply(c).ceil(),f=e.clone().subtract(d);return{topLeft:this._getDimensionsStyles(d.x,d.y),topCenter:this._getDimensionsStyles(f.x,d.y),centerLeft:this._getDimensionsStyles(d.x,f.y),center:this._getDimensionsStyles(f.x,f.y)}},b.prototype._getDimensionsStyles=function(b,c){return{width:Math.max(1,b),height:Math.max(1,c)}},b.prototype.renderWithBEM=function(){var b=this._getAreaStyles(),c=this._calculateDimensions();return j.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},j.ReactBEM.createElement("div",{bem:"$b:cropCanvasControls"},j.ReactBEM.createElement("div",{bem:"e:row"},j.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:b.topLeft}," "),j.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:b.topCenter}," "),j.ReactBEM.createElement("div",{bem:"e:cell m:dark"})),j.ReactBEM.createElement("div",{bem:"e:row"},j.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:b.centerLeft}," "),j.ReactBEM.createElement(l.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},j.ReactBEM.createElement("div",{bem:"e:cell m:bordered",style:b.center},j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart.bind(this,"start"),onDrag:this._onKnobDrag.bind(this,"start")},j.ReactBEM.createElement("div",{bem:"e:knob m:topLeft $b:knob"},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))),j.ReactBEM.createElement("div",{bem:"e:dimensions"},c.x," x ",c.y),j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart.bind(this,"end"),onDrag:this._onKnobDrag.bind(this,"end")},j.ReactBEM.createElement("div",{bem:"e:knob m:bottomRight $b:knob"},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))))),j.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," ")),j.ReactBEM.createElement("div",{bem:"e:row"},j.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," "),j.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," "),j.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," "))))},b}(n.default);b.default=q,q.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(11),l=o(k),m=c(14),n=o(m),p=.1,q=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._hasDoneButton=!0,h._bindAll("_selectRatio"),h._operation=h.getSharedState("operation"),h.state={ratio:null},h._initRatios(),h}return(0,i.default)(b,a),b.prototype._initRatios=function(){var b=this.props.options,c=b.additionalRatios,d=b.replaceRatios,e=b.selectableRatios;c=c||[],this._ratios=j.Constants.DEFAULTS.CROP_RATIOS,d?this._ratios=c:this._ratios=this._ratios.concat(c),e&&e.length&&(this._ratios=j.Utils.select(this._ratios,e,function(a){return a.name}))},b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this.getSharedState("operationExistedBefore")||this._selectInitialRatio()},b.prototype._onBackClick=function(c){var d=this.context.editor;if(this.getSharedState("operationExistedBefore")){var e=this.getSharedState("initialOptions");this._operation.set(e)}else d.removeOperation(this._operation);d.undoZoom(),d.enableFeatures("zoom","drag"),a.prototype._onBackClick.call(this,c)},b.prototype._onDoneClick=function(c){var d=this.context.editor,e={start:this.getSharedState("start"),end:this.getSharedState("end")},f=this.getSharedState("initialOptions"),g=!e.start.equals(f.start)||!e.end.equals(f.end);this._operation.set(e),g&&d.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),d.enableFeatures("zoom","drag"),d.setZoom("auto"),a.prototype._onDoneClick.call(this,c)},b.prototype._selectInitialRatio=function(){var b=null,c=this._operation._ratio;if(c){var d=this._ratios.filter(function(a){return a.ratio===c});b=d[0]}if(!b){var e=this._ratios.filter(function(a){return a.selected});b=e.pop()}return b||(b=this._ratios[0]),this._selectRatio(b)},b.prototype._selectRatio=function(b){this._setDefaultOptionsForRatio(b),this._operation._ratio=b.ratio,this.setSharedState({ratio:b})},b.prototype._setDefaultOptionsForRatio=function(b){var c=b.ratio,e=(b.name,this.context.editor),f=new j.Vector2,g=new j.Vector2;if("*"===c)f=new j.Vector2(p,p),g=new j.Vector2(1,1).subtract(p);else{var h=e.getOutputDimensions(),i=h.x/h.y;if(i<=c){var k=1/h.y*(h.x/c*(1-2*p));f.set(p,(1-k)/2),g.set(1-p,1-f.y)}else{var l=1/h.x*(c*h.y*(1-2*p));f.set((1-l)/2,p),g.set(1-f.x,1-p)}}this.setSharedState({start:f,end:g})},b.prototype.renderControls=function(){var b=this,c=this._ratios.map(function(a){return j.ReactBEM.createElement("li",{bem:"e:item",key:a.name},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:b._operation._ratio===a.ratio?"is-active":null,onClick:b._selectRatio.bind(b,a)},j.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath("controls/crop/"+a.name+".png",!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},b._t("controls.crop."+a.name)))))});return j.ReactBEM.createElement("div",{bem:"e:cell m:list"},j.ReactBEM.createElement(n.default,null,j.ReactBEM.createElement("ul",{bem:"$e:list"},c)))},b}(l.default);b.default=q,q.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(12),l=q(k),m=c(192),n=q(m),o=c(191),p=q(o),r=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.operationExists("crop"),e=c.getOrCreateOperation("crop"),f={start:e.getStart().clone(),end:e.getEnd().clone()};this.setSharedState({start:f.start.clone(),end:f.end.clone(),operation:e,operationExistedBefore:d,initialOptions:f}),e.set({start:new j.Vector2(0,0),end:new j.Vector2(1,1)}),c.setZoom("auto",function(){c.disableFeatures("zoom","drag")})},b.isAvailable=function(b){return b.isToolEnabled("crop")},b}(l.default);r.controlsComponent=n.default,r.canvasControlsComponent=p.default,r.identifier="crop",r.iconPath="controls/overview/crop.png",r.languageKey="controls.overview.crop",r.defaultOptions={},b.default=r},function(a,b,c){"use strict";function u(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=u(d),f=c(0),g=u(f),h=c(2),i=u(h),j=c(1),k=u(j),l=c(3),m=c(11),n=u(m),o=c(14),p=u(o),q=c(112),r=u(q),s=c(69),t=u(s),v=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onItemClick","_onOperationUpdated","_onSliderValueChange","_onCategoryChange"),h._operation=h.getSharedState("operation"),h._events=(0,e.default)({},l.Constants.EVENTS.OPERATION_UPDATED,h._onOperationUpdated),h._initFilters(),h.state={category:"all"},h}return(0,k.default)(b,a),b.prototype._initFilters=function(){var b=this;this._categories=[{name:"retro",filters:[l.SDK.Filters.CelsiusFilter,l.SDK.Filters.ChestFilter,l.SDK.Filters.FixieFilter,l.SDK.Filters.LeninFilter,l.SDK.Filters.PolaFilter,l.SDK.Filters.Pola669Filter,l.SDK.Filters.K1Filter,l.SDK.Filters.K2Filter,l.SDK.Filters.K6Filter,l.SDK.Filters.KDynamicFilter]},{name:"bw",filters:[l.SDK.Filters.BWFilter,l.SDK.Filters.BWHardFilter,l.SDK.Filters.X400Filter]},{name:"summer",filters:[l.SDK.Filters.FrontFilter,l.SDK.Filters.MellowFilter,l.SDK.Filters.SemiredFilter,l.SDK.Filters.SunnyFilter,l.SDK.Filters.TexasFilter]},{name:"winter",filters:[l.SDK.Filters.MetalFilter,l.SDK.Filters.A15Filter,l.SDK.Filters.BreezeFilter,l.SDK.Filters.FridgeFilter,l.SDK.Filters.OrchidFilter,l.SDK.Filters.QuoziFilter]},{name:"special",filters:[l.SDK.Filters.FoodFilter,l.SDK.Filters.GlamFilter,l.SDK.Filters.LomoFilter,l.SDK.Filters.GobblinFilter]}];var c=this.props.options;c.categories&&(c.replaceCategories?this._categories=c.categories:this._categories=l.Utils.mergeCategories(this._categories,c.categories,"filters")),c.selectableFilters&&!function(){var a=[];b._categories.forEach(function(b){var d=b.filters.filter(function(a){return c.selectableFilters.indexOf(a.identifier)!==-1});d.length>0&&a.push({name:b.name,filters:d})}),b._categories=a}();var d={name:"all",filters:this._categories.map(function(a){return a.filters}).reduce(function(a,b){return a.concat(b)})};this._categories.unshift(d),this._categoriesById={},this._categories.forEach(function(a){b._categoriesById[a.name]=a})},b.prototype._onSliderValueChange=function(b){this._operation.setIntensity(b/100);var c=this.context.editor;c.render()},b.prototype._onCategoryChange=function(b){var c=this;this.setState({category:b.name},function(){c.refs.scrollbar.update()})},b.prototype._onOperationUpdated=function(b){b===this._operation&&this.forceUpdate()},b.prototype._onItemClick=function(b,c){this._operation.set({filter:new b({intensity:1}),intensity:1});var d=this.context.editor;d.render(),this.forceUpdate()},b.prototype._onBackClick=function(c){var d=this.getSharedState("initialOptions"),e=this._operation.getFilter(),f=this._operation.getIntensity();if(e!==d.filter||f!==d.intensity){var g=this.context.editor;g.addHistory(this._operation,d,this.getSharedState("operationExistedBefore"))}if(e.isIdentity){var h=this.context.editor;h.removeOperation(this._operation)}a.prototype._onBackClick.call(this,c)},b.prototype.renderOverlayControls=function(){var b=this._operation.getFilter();if(b.isIdentity)return null;var c=this._operation.getIntensity();return l.ReactBEM.createElement(t.default,{minValue:0,maxValue:100,value:100*c,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.filters.intensity"),
onChange:this._onSliderValueChange})},b.prototype._renderListItems=function(){var b=this,c=this._operation.getFilter(),d=this._categoriesById[this.state.category].filters;return[l.SDK.Filters.IdentityFilter].concat(d).map(function(a){var d=a.identifier;return l.ReactBEM.createElement("li",{bem:"e:item",key:d,onClick:b._onItemClick.bind(b,a)},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withInlineLabel"},l.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath("controls/filters/"+d+".png",!0)}),l.ReactBEM.createElement("div",{bem:"$e:inlineLabel",className:a===c?"is-active":null},l.ReactBEM.createElement("div",{bem:"e:label"},a.displayName)))))})},b.prototype._renderCategoryDropdown=function(){var b=this,c=!this.props.options.hideCategories&&this._categories.length>1;if(!c)return null;var d=this._categories.map(function(a){return{name:a.name,label:b._t("controls.filters.categories."+a.name),icon:b._getAssetPath("controls/filters/categories/"+a.name+".png",!0)}}),e={name:this.state.category,label:this._t("controls.filters.categories."+this.state.category),icon:this._getAssetPath("controls/filters/categories/"+this.state.category+".png",!0)};return l.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},l.ReactBEM.createElement(r.default,{items:d,selectedItem:e,onChange:this._onCategoryChange}))},b.prototype.renderControls=function(){var b=this._renderListItems(),c=this._renderCategoryDropdown();return[c,l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(p.default,{ref:"scrollbar"},l.ReactBEM.createElement("ul",{bem:"$e:list"},b)))]},b}(n.default);b.default=v,v.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(12),k=n(j),l=c(194),m=n(l),o=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.operationExists("filter"),e=c.getOrCreateOperation("filter"),f={filter:e.getFilter(),intensity:e.getIntensity()};this.setSharedState({operation:e,operationExistedBefore:d,initialOptions:f})},b.isAvailable=function(b){return b.isToolEnabled(this.identifier)},b}(k.default);o.controlsComponent=m.default,o.identifier="filter",o.iconPath="controls/overview/filters.png",o.languageKey="controls.overview.filters",o.defaultOptions={categories:[],replaceCategories:!1,selectableFilters:null,hideCategories:!1},b.default=o},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=s(d),f=c(2),g=s(f),h=c(1),i=s(h),j=c(3),k=c(11),l=s(k),m=c(14),n=s(m),o=c(201),p=s(o),q=c(198),r=s(q),t=[p.default,r.default],u=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._onButtonClick=function(b,c){this.context.editorScreen.switchToControls(b)},b.prototype._renderListItems=function(){var b=this;return t.filter(function(a){return a.isAvailable(b.context.editor)}).map(function(a){return j.ReactBEM.createElement("li",{bem:"e:item",key:a.identifier},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:b._onButtonClick.bind(b,a)},j.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath(a.iconPath,!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},b._t(a.languageKey)))))})},b.prototype.renderControls=function(){var b=this._renderListItems();return j.ReactBEM.createElement("div",{bem:"e:cell m:list"},j.ReactBEM.createElement(n.default,null,j.ReactBEM.createElement("ul",{bem:"$e:list"},b)))},b}(l.default);b.default=u,u.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(12),k=n(j),l=c(196),m=n(l),o=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.isAvailable=function(b){return b.isToolEnabled("radial-focus")||b.isToolEnabled("linear-focus")},b.onExit=function(){var b=this.context.editor;b.enableFeatures("zoom","drag")},b}(k.default);o.controlsComponent=m.default,o.identifier="focus",o.iconPath="controls/overview/focus.png",o.languageKey="controls.overview.focus",o.defaultOptions={},b.default=o},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(12),l=q(k),m=c(200),n=q(m),o=c(199),p=q(o),r=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.operationExists("linear-focus"),e=c.getOrCreateOperation("linear-focus",{start:new j.Vector2(.49,.5),end:new j.Vector2(.51,.5)}),f={start:e.getStart().clone(),end:e.getEnd().clone(),size:e.getSize(),gradientSize:e.getGradientSize(),blurRadius:e.getBlurRadius()};this.setSharedState({operation:e,operationExistedBefore:d,initialOptions:f})},b.isAvailable=function(b){return b.isToolEnabled("linear-focus")},b}(l.default);r.controlsComponent=n.default,r.canvasControlsComponent=p.default,r.identifier="linear-focus",r.iconPath="controls/focus/linear.png",r.languageKey="controls.focus.linear",r.defaultOptions={},b.default=r},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(21),l=o(k),m=c(41),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag"),h.state={areaPosition:new j.Vector2,areaDimensions:new j.Vector2,knobPosition:new j.Vector2},h._operation=h.getSharedState("operation"),h}return(0,i.default)(b,a),b.prototype._onCanvasZoomDone=function(){this._setStylesFromOptions()},b.prototype.sharedStateDidChange=function(b){b.operation&&(this._operation=b.operation),this._setStylesFromOptions()},b.prototype.componentDidMount=function(){var c=this;a.prototype.componentDidMount.call(this);var d=this.context.editor;d.setZoom("auto",function(){d.disableFeatures("zoom","drag"),c._setStylesFromOptions()})},b.prototype._onCenterDragStart=function(){this._initialStart=this._operation.getStart(),this._initialEnd=this._operation.getEnd(),this._initialDist=this._initialEnd.clone().subtract(this._initialStart)},b.prototype._onCenterDrag=function(b){var c=this.context.editor,d=c.getOutputDimensions(),e=b.clone().divide(d),f=this._initialStart.clone().add(e).clamp(new j.Vector2(0,0),new j.Vector2(1,1).subtract(this._initialDist)),g=f.clone().add(this._initialDist);this._operation.set({start:f,end:g}),c.render(),this._setStylesFromOptions(),this.forceUpdate()},b.prototype._onKnobDragStart=function(b){this._initialKnobPosition=this.state.knobPosition.clone()},b.prototype._onKnobDrag=function(b){var c=this.context.editor,d=c.getOutputDimensions(),e=this._initialKnobPosition.clone().add(b).clamp(new j.Vector2(0,0),d),f=e.clone().subtract(this.state.areaPosition),g=2*f.len(),h=this.state.areaPosition.clone().add(-f.y,f.x),i=this.state.areaPosition.clone().add(f.y,-f.x),k=i.clone().subtract(h).len(),l=k;h.divide(d),i.divide(d),this._operation.set({start:h,end:i,size:k,gradientSize:l}),this.setState({knobPosition:e,areaDimensions:new j.Vector2(this.state.areaDimensions.x,g)}),c.render()},b.prototype._getAreaStyle=function(){var b=this.state.knobPosition.clone().subtract(this.state.areaPosition),c=Math.atan2(b.x,b.y)*(180/Math.PI),d="rotate("+(-c).toFixed(2)+"deg)";return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5,transform:d,MozTransform:d,msTransform:d,WebkitTransform:d}},b.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},b.prototype._setStylesFromOptions=function(){var b=this.context.editor,c=b.getOutputDimensions(),d=this._operation.getStart().clone().multiply(c),e=this._operation.getEnd().clone().multiply(c),f=this._operation.getSize(),g=e.clone().subtract(d),h=d.clone().add(g.clone().divide(2)),i=new j.Vector2(2*c.len(),f),k=g.len(),l=g.clone().divide(k).divide(2);this.setState({areaDimensions:i,areaPosition:h.clone(),knobPosition:h.clone().add(-f*l.y,f*l.x)})},b.prototype._getContainerStyle=function(){var b=this.context.editor.getSDK().getSprite().getBounds(),c=b.x,d=b.y,e=b.width,f=b.height;return{left:c,top:d,width:e,height:f}},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},j.ReactBEM.createElement("div",{bem:"$b:linearFocusCanvasControls"},j.ReactBEM.createElement(l.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},j.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},j.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))},b}(n.default);b.default=p,p.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=q(d),f=c(0),g=q(f),h=c(2),i=q(h),j=c(1),k=q(j),l=c(3),m=c(11),n=q(m),o=c(43),p=q(o),r=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return h._hasDoneButton=!0,h._operation=h.getSharedState("operation"),h._bindAll("_onBackClick","_onDoneClick","_onSliderValueChange","_onOperationRemoved"),h._events=(0,e.default)({},l.Constants.EVENTS.OPERATION_REMOVED,h._onOperationRemoved),h}return(0,k.default)(b,a),b.prototype._onOperationRemoved=function(b){if(b===this._operation&&!this._backButtonClicked){var c=this.context.editor,d=c.getOrCreateOperation("linear-focus");this._operation=d,this.setSharedState({operation:d,operationExistedBefore:!1,initialOptions:{}})}},b.prototype._onBackClick=function(c){this._backButtonClicked=!0;var d=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):d.removeOperation(this._operation),d.undoZoom(),d.enableFeatures("zoom","drag"),a.prototype._onBackClick.call(this,c)},b.prototype._onDoneClick=function(c){var d=this.context.editor,e=this.getSharedState("operationExistedBefore"),f=this.getSharedState("initialOptions"),g=!this._operation.optionsEqual(f);!g&&e||d.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),d.undoZoom(),d.enableFeatures("zoom","drag"),a.prototype._onDoneClick.call(this,c)},b.prototype._onSliderValueChange=function(b){this._operation.setBlurRadius(b);var c=this.context.editor;c.render()},b.prototype.renderControls=function(){return l.ReactBEM.createElement("div",{bem:"e:cell m:slider"},l.ReactBEM.createElement(p.default,{style:"large",minValue:0,maxValue:40,valueUnit:"px",middleDot:!1,label:this._t("controls.focus.blurRadius"),onChange:this._onSliderValueChange,value:this._operation.getBlurRadius()}))},b}(n.default);b.default=r,r.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function p(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=p(d),f=c(2),g=p(f),h=c(1),i=p(h),j=c(12),k=p(j),l=c(203),m=p(l),n=c(202),o=p(n),q=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.getSDK(),e=d.getFinalDimensions(),f=.2*Math.max(e.x,e.y),g=f/2,h=c.operationExists("radial-focus"),i=c.getOrCreateOperation("radial-focus",{radius:f,gradientRadius:g}),j={position:i.getPosition().clone(),radius:f,gradientRadius:g,blurRadius:i.getBlurRadius()};this.setSharedState({operation:i,operationExistedBefore:h,initialOptions:j})},b.isAvailable=function(b){return b.isToolEnabled("radial-focus")},b}(k.default);q.controlsComponent=m.default,q.canvasControlsComponent=o.default,q.identifier="radial-focus",q.iconPath="controls/focus/radial.png",q.languageKey="controls.focus.radial",q.defaultOptions={},b.default=q},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(21),l=o(k),m=c(41),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag"),h.state={areaPosition:new j.Vector2,areaDimensions:new j.Vector2,knobPosition:new j.Vector2},h._knobChangedManually=!1,h._operation=h.getSharedState("operation"),h}return(0,i.default)(b,a),b.prototype._onCanvasZoomDone=function(){this._setStylesFromOptions()},b.prototype.sharedStateDidChange=function(b){b.operation&&(this._operation=b.operation),this._setStylesFromOptions()},b.prototype.componentDidMount=function(){var c=this;a.prototype.componentDidMount.call(this);var d=this.context.editor;d.setZoom("auto",function(){d.disableFeatures("zoom","drag"),c._setStylesFromOptions()})},b.prototype._onCenterDragStart=function(){this._initialPosition=this._operation.getPosition(),this._initialKnobPosition=this.state.knobPosition.clone()},b.prototype._onCenterDrag=function(b){var c=this.context.editor,d=b.clone().divide(c.getOutputDimensions()),e=this._initialPosition.clone().add(d),f=this._initialKnobPosition.clone().add(b);this._operation.set({position:e}),this.state.knobPosition=f,c.render(),this._setStylesFromOptions()},b.prototype._onKnobDragStart=function(b){this._knobChangedManually=!0,this._initialKnobPosition=this.state.knobPosition.clone()},b.prototype._onKnobDrag=function(b){var c=this.context.editor,d=c.getZoom(),e=c.getOutputDimensions(),f=this._initialKnobPosition.clone().add(b).clamp(new j.Vector2(0,0),e),g=this._operation.getPosition().clone().multiply(e),h=f.clone().subtract(g).abs().len(),i=h/2;this.setState({knobPosition:f,areaDimensions:new j.Vector2(2*h,2*h)}),this._operation.set({radius:h/d,gradientRadius:i/d}),c.render()},b.prototype._getAreaStyle=function(){return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5}},b.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},b.prototype._setStylesFromOptions=function(){var b=this.context.editor,c=b.getZoom(),d=this.context.editor.getOutputDimensions(),e=this._operation.getPosition().clone().multiply(d),f=this._operation.getRadius(),g=new j.Vector2(2*f*c,2*f*c),h={areaDimensions:g,areaPosition:e};this._knobChangedManually||(h.knobPosition=e.clone().add(f*c,0)),this.setState(h)},b.prototype._getContainerStyle=function(){var b=this.context.editor,c=b.getSDK().getSprite().getBounds(),d=c.x,e=c.y,f=c.width,g=c.height;return{left:d,top:e,width:f,height:g}},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},j.ReactBEM.createElement("div",{bem:"$b:radialFocusCanvasControls"},j.ReactBEM.createElement(l.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},j.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},j.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))},b}(n.default);b.default=p,p.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=q(d),f=c(0),g=q(f),h=c(2),i=q(h),j=c(1),k=q(j),l=c(3),m=c(11),n=q(m),o=c(43),p=q(o),r=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return h._hasDoneButton=!0,h._operation=h.getSharedState("operation"),h._bindAll("_onBackClick","_onDoneClick","_onSliderValueChange","_onOperationRemoved"),h._events=(0,e.default)({},l.Constants.EVENTS.OPERATION_REMOVED,h._onOperationRemoved),h}return(0,k.default)(b,a),b.prototype._onOperationRemoved=function(b){if(b===this._operation&&!this._backButtonClicked){var c=this.context.editor,d=c.getOrCreateOperation("radial-focus");this._operation=d,this.setSharedState({operation:d,operationExistedBefore:!1,initialOptions:{}})}},b.prototype._onBackClick=function(c){this._backButtonClicked=!0;var d=this.context.editor;this.getSharedState("operationExistedBefore")?this._operation.set(this.getSharedState("initialOptions")):d.removeOperation(this._operation),d.render(),d.undoZoom(),d.enableFeatures("zoom","drag"),a.prototype._onBackClick.call(this,c)},b.prototype._onDoneClick=function(c){var d=this.context.editor,e=this.getSharedState("operationExistedBefore"),f=this.getSharedState("initialOptions"),g=!this._operation.optionsEqual(f);!g&&e||d.addHistory(this._operation,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),d.undoZoom(),d.enableFeatures("zoom","drag"),a.prototype._onDoneClick.call(this,c)},b.prototype._onSliderValueChange=function(b){this._operation.setBlurRadius(b);var c=this.context.editor;c.render()},b.prototype.renderControls=function(){return l.ReactBEM.createElement("div",{bem:"e:cell m:slider"},l.ReactBEM.createElement(p.default,{style:"large",minValue:0,maxValue:40,valueUnit:"px",middleDot:!1,label:this._t("controls.focus.blurRadius"),onChange:this._onSliderValueChange,value:this._operation.getBlurRadius()}))},b}(n.default);b.default=r,r.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(184);Object.defineProperty(b,"adjustments",{enumerable:!0,get:function(){return m(d).default}});var e=c(193);Object.defineProperty(b,"crop",{enumerable:!0,get:function(){return m(e).default}});var f=c(195);Object.defineProperty(b,"filter",{enumerable:!0,get:function(){return m(f).default}});var g=c(197);Object.defineProperty(b,"focus",{enumerable:!0,get:function(){return m(g).default}});var h=c(186);Object.defineProperty(b,"border",{enumerable:!0,get:function(){return m(h).default}});var i=c(206);Object.defineProperty(b,"orientation",{enumerable:!0,get:function(){return m(i).default}});var j=c(218);Object.defineProperty(b,"sticker",{enumerable:!0,get:function(){return m(j).default}});var k=c(223);Object.defineProperty(b,"text",{enumerable:!0,get:function(){return m(k).default}});var l=c(189);Object.defineProperty(b,"brush",{enumerable:!0,get:function(){return m(l).default}})},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(44),e=m(d),f=c(0),g=m(f),h=c(2),i=m(h),j=c(1),k=m(j),l=c(3),n=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return f.state={value:f.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},f}return(0,k.default)(b,a),b.prototype.componentDidMount=function(){this._setValue(this.state.value,!1)},b.prototype.componentWillReceiveProps=function(b){b.value!==this.state.value&&this._setValue(b.value,!1)},b.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},b.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},b.prototype._displayMiddleDot=function(){return this.props.middleDot!==!1},b.prototype._setValue=function(b){arguments.length<=1||void 0===arguments[1]||arguments[1];b=Math.round(b);var d=this.props,e=d.minValue,f=d.maxValue,g=(b-e)/(f-e),h=this.refs.bar,i=h.offsetWidth,j=i*g,k=g*i,l=0;this._displayMiddleDot()&&(k=Math.abs(g-.5)*i,l=g<.5?.5*i-k:"50%"),this.setState({value:b,sliderPosition:j,foregroundWidth:k,foregroundLeft:l})},b.prototype.renderWithBEM=function(){var b={style:this._getForegroundStyle()};return l.ReactBEM.createElement("div",{bem:"$b:miniSlider"},l.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},l.ReactBEM.createElement("div",{bem:"$e:background"}),l.ReactBEM.createElement("div",(0,e.default)({bem:"$e:foreground"},b)),l.ReactBEM.createElement("div",{bem:"e:knob",style:this._getKnobStyle()})))},b}(l.BaseComponent);b.default=n,n.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=n(d),f=c(2),g=n(f),h=c(1),i=n(h),j=c(12),k=n(j),l=c(207),m=n(l),o=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onEnter=function(b){var c=this.context.editor,d=c.operationExists("orientation"),e=c.getOrCreateOperation("orientation"),f=e.serializeOptions();this.setSharedState({operation:e,operationExistedBefore:d,initialOptions:f})},b.isAvailable=function(b){return b.isToolEnabled("rotation")||b.isToolEnabled("flip")},b}(k.default);o.controlsComponent=m.default,o.identifier="orientation",o.iconPath="controls/overview/orientation.png",o.languageKey="controls.overview.orientation",o.defaultOptions={},b.default=o},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=q(d),f=c(0),g=q(f),h=c(2),i=q(h),j=c(1),k=q(j),l=c(3),m=c(11),n=q(m),o=c(14),p=q(o),r=function(a){function b(){var c;(0,g.default)(this,b);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];var j=(0,i.default)(this,a.call.apply(a,[this].concat(f)));return j._bindAll("_onRotateClick","_onFlipClick","_onOperationUpdated","_onOperationRemoved"),j._operation=j.getSharedState("operation"),j._operationExistedBefore=j.getSharedState("operationExistedBefore"),j._events=(c={},(0,e.default)(c,l.Constants.EVENTS.OPERATION_UPDATED,j._onOperationUpdated),(0,e.default)(c,l.Constants.EVENTS.OPERATION_REMOVED,j._onOperationRemoved),c),j}return(0,k.default)(b,a),b.prototype._onBackClick=function(c){this._backButtonClicked=!0;var d=this.getSharedState("initialOptions");if(this._operation.optionsEqual(d)){var e=this.context.editor;e.removeOperation(this._operation)}a.prototype._onBackClick.call(this,c)},b.prototype._onOperationUpdated=function(b){b===this._operation&&this.forceUpdate()},b.prototype._onOperationRemoved=function(b){if(b===this._operation&&!this._backButtonClicked){var c=this.context.editor,d=c.getOrCreateOperation("orientation");this._operation=d,this._historyItem=null,this.setSharedState({operation:d,operationExistedBefore:!1,initialOptions:this._operation.serializeOptions()})}},b.prototype._onRotateClick=function(b){var c=this._operation.serializeOptions(),d=this._operation.getRotation(),e=90*("left"===b?-1:1),f=(d+e)%360;this._operation.setRotation(f);var g=this._operation.getFlipVertically(),h=this._operation.getFlipHorizontally();g!==h&&this._operation.set({flipVertically:!h,flipHorizontally:!g});var i=this.context.editor;i.addHistory(this._operation,c,this._operationExistedBefore),this._operationExistedBefore=!0,i.fixOffset(),i.render()},b.prototype._onFlipClick=function(b){var c=this._operation.serializeOptions(),d=this._operation.getRotation();switch(90!==d&&270!==d||(b="vertical"===b?"horizontal":"vertical"),b){case"horizontal":var e=this._operation.getFlipHorizontally();this._operation.setFlipHorizontally(!e);break;case"vertical":var f=this._operation.getFlipVertically();this._operation.setFlipVertically(!f)}var g=this.context.editor;g.addHistory(this._operation,c,this._operationExistedBefore),g.render()},b.prototype._getListItems=function(){var b=this.context.editor,c=b.isToolEnabled("rotation"),d=b.isToolEnabled("flip"),e=[];return c&&(e=e.concat([{identifier:"rotate-l",onClick:this._onRotateClick.bind(this,"left")},{identifier:"rotate-r",onClick:this._onRotateClick.bind(this,"right")}])),(c||d)&&e.push(null),d&&(e=e.concat([{identifier:"flip-h",onClick:this._onFlipClick.bind(this,"horizontal")},{identifier:"flip-v",onClick:this._onFlipClick.bind(this,"vertical")}])),e},b.prototype._renderListItems=function(){var b=this,c=this._getListItems();return c.map(function(a){return null===a?l.ReactBEM.createElement("li",{bem:"e:item m:gap",key:"gap"}):l.ReactBEM.createElement("li",{bem:"e:item",key:a.identifier},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:a.onClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:b._getAssetPath("controls/orientation/"+a.identifier+".png",!0)}),l.ReactBEM.createElement("div",{bem:"e:label"},b._t("controls.orientation."+a.identifier)))))})},b.prototype.renderControls=function(){var b=this._renderListItems();return l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(p.default,null,l.ReactBEM.createElement("ul",{bem:"$e:list"},b)))},b}(n.default);b.default=r,r.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function r(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=r(d),f=c(2),g=r(f),h=c(1),i=r(h),j=c(12),k=r(j),l=c(212),m=r(l),n=c(113),o=r(n),p=c(209),q=r(p),s=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b}(k.default);s.topBarControlsComponent=m.default,s.controlsComponent=o.default,s.canvasControlsComponent=q.default,b.default=s},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(41),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onClick"),h}return(0,i.default)(b,a),b.prototype._onClick=function(b){this._performHitTest(j.Utils.getEventPosition(b))},b.prototype._getContainerStyle=function(){if(!this.context.editor.isReady())return{left:0,top:0,width:1,height:1};var b=this.context.editor.getSDK().getSprite().getBounds(),c=b.x,d=b.y,e=b.width,f=b.height;return{left:c,top:d,width:e,height:f}},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:canvasControls e:container m:full",ref:"container"},j.ReactBEM.createElement("div",{bem:"$b:canvasControls e:innerContainer",ref:"innerContainer",style:this._getContainerStyle(),onMouseDown:this._onClick,onTouchStart:this._onClick}))},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(20),l=o(k),m=c(74),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onButtonClick"),h}return(0,i.default)(b,a),b.prototype._onButtonClick=function(){var b=this,c=this.context,d=c.options,e=c.editor,f=c.editorScreen,g=d.editor.export;f.switchToControls("home",null,function(){var a=l.default.instance.displayLoading(b._t("loading.exporting"));setTimeout(function(){e.export(g.download).then(function(){a.close()})},100)})},b.prototype.renderWithBEM=function(){var b=this.context.options;return b.editor.export.showButton?j.ReactBEM.createElement(n.default,{style:"blue",label:this._t("editor.export"),icon:"editor/export.png",onClick:this._onButtonClick}):null},b}(j.BaseComponent);b.default=p,p.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(74),l=o(k),m=c(73),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onNewFile","_onButtonClick"),h}return(0,i.default)(b,a),b.prototype._onNewFile=function(b){var c=this.context.editor;c.reset(),c.setImage(b),c.setZoom("auto")},b.prototype._onButtonClick=function(){var b=this.context.options,c=b.enableWebcam===!1||j.Utils.isMobile(),d=!!b.photoRoll.provider;c&&!d?this.refs.upload.open():d?this.props.app.switchToScreen("photoRoll"):this.props.app.switchToScreen("splash")},b.prototype.renderWithBEM=function(){var b=this.context.options,c=null;return c=b.photoRoll.provider?this._t("editor.backgroundImage"):this._t("editor.new"),j.ReactBEM.createElement("div",null,j.ReactBEM.createElement(n.default,{onNewFile:this._onNewFile,ref:"upload"}),j.ReactBEM.createElement(l.default,{label:c,icon:"editor/new.png",onClick:this._onButtonClick}))},b}(j.BaseComponent);b.default=p,p.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function u(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=u(d),f=c(2),g=u(f),h=c(1),i=u(h),j=c(3),k=c(75),l=u(k),m=c(211),n=u(m),o=c(210),p=u(o),q=c(213),r=u(q),s=c(214),t=u(s),v=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderContent=function(){var b=null;this.context.options.enableUpload&&(b=j.ReactBEM.createElement(n.default,{app:this.props.app}));var c=null;return this.context.options.editor.enableZoom&&(c=j.ReactBEM.createElement(t.default,null)),j.ReactBEM.createElement("bem",{specifier:"$b:topBar"},j.ReactBEM.createElement("div",{bem:"e:left"},b),j.ReactBEM.createElement("div",{bem:"e:right"},j.ReactBEM.createElement(r.default,null),j.ReactBEM.createElement(p.default,null)),c)},b}(l.default);b.default=v,v.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=o(d),f=c(0),g=o(f),h=c(2),i=o(h),j=c(1),k=o(j),l=c(3),m=c(74),n=o(m),p=function(a){function b(){var c;(0,g.default)(this,b);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];var j=(0,i.default)(this,a.call.apply(a,[this].concat(f)));return j._bindAll("_onButtonClick","_onHistoryUpdated","_onFeaturesUpdated"),j._events=(c={},(0,e.default)(c,l.Constants.EVENTS.HISTORY_UPDATED,j._onHistoryUpdated),(0,e.default)(c,l.Constants.EVENTS.FEATURES_UPDATED,j._onFeaturesUpdated),c),j}return(0,k.default)(b,a),b.prototype._onFeaturesUpdated=function(){this.forceUpdate()},b.prototype._onHistoryUpdated=function(){this.forceUpdate()},b.prototype._onButtonClick=function(){var b=this.context.editor;b.undo()},b.prototype.renderWithBEM=function(){var b=this.context.editor;return b.historyAvailable()?l.ReactBEM.createElement(n.default,{label:this._t("editor.undo"),icon:"editor/undo.png",onClick:this._onButtonClick}):null},b}(l.BaseComponent);b.default=p,
p.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=m(d),f=c(0),g=m(f),h=c(2),i=m(h),j=c(1),k=m(j),l=c(3),n=function(a){function b(){var c;(0,g.default)(this,b);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];var j=(0,i.default)(this,a.call.apply(a,[this].concat(f)));return j._bindAll("_onZoomOutClick","_onZoomInClick","_onZoomDone","_onFeaturesUpdated"),j._events=(c={},(0,e.default)(c,l.Constants.EVENTS.ZOOM_DONE,j._onZoomDone),(0,e.default)(c,l.Constants.EVENTS.FEATURES_UPDATED,j._onFeaturesUpdated),c),j}return(0,k.default)(b,a),b.prototype._onFeaturesUpdated=function(){this.forceUpdate()},b.prototype._onZoomDone=function(){this.forceUpdate()},b.prototype._onZoomOutClick=function(b){var c=this.context.editor;c.isFeatureEnabled("zoom")&&c.zoomOut()},b.prototype._onZoomInClick=function(b){var c=this.context.editor;c.isFeatureEnabled("zoom")&&c.zoomIn()},b.prototype.renderWithBEM=function(){var b=this.context.editor,c=b.getZoom(),d=b.isFeatureEnabled("zoom");return l.ReactBEM.createElement("div",{bem:"$b:editorScreen $e:zoom"},l.ReactBEM.createElement("div",{bem:"$e:button m:zoomOut",onClick:this._onZoomOutClick,className:d?null:"is-disabled"},l.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/minus.png",!0)})),l.ReactBEM.createElement("div",{bem:"e:label"},"Zoom",l.ReactBEM.createElement("br",null),Math.round(100*c),"%"),l.ReactBEM.createElement("div",{bem:"$e:button m:zoomIn",onClick:this._onZoomInClick,className:d?null:"is-disabled"},l.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/plus.png",!0)})))},b}(l.BaseComponent);b.default=n,n.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(70),l=m(k),n=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this);var c=this.props.sprite.getCanvas();this.refs.brush.appendChild(c)},b.prototype.componentWillReceiveProps=function(b){if(b.sprite!==this.props.sprite){var c=this.props.sprite.getCanvas();c.parentNode.removeChild(c);var d=b.sprite.getCanvas();this.refs.brush.appendChild(d)}},b.prototype._isSelected=function(){return this.getSharedState("brush")===this.props.sprite},b.prototype.renderWithBEM=function(){var b=this._isSelected()?"is-selected":null;return j.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},j.ReactBEM.createElement("div",{bem:"$e:item e:container m:full",ref:"container"},j.ReactBEM.createElement("div",{bem:"$e:brush",className:b,ref:"brush"})))},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(21),l=o(k),m=c(70),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._id=j.SDKUtils.getUUID(),h}return(0,i.default)(b,a),b.prototype._onKnobDragStart=function(b,c,d){var e=this.props.sprite;switch(b){case"bottom":this._initialPosition=this._getBottomDragKnobPosition();break;case"top":this._initialPosition=this._getTopDragKnobPosition()}this._initialScale=e.getScale().clone(),this.props.onDragStart&&this.props.onDragStart()},b.prototype._onKnobDrag=function(b,c,d){var e=this.props.sprite,f=this._getAbsoluteSpritePosition(),g=this._initialPosition.clone().add(c),h=this._getStickerDimensions().divide(2),i=g.clone().subtract(f),j=this._initialPosition.clone().subtract(f),k=void 0;switch(b){case"bottom":k=Math.atan2(i.y,i.x)-Math.atan2(h.y,h.x);break;case"top":k=Math.atan2(i.y,i.x)-Math.atan2(-h.y,-h.x)}var l=this._initialScale.clone().multiply(i.len()/j.len());e.set({scale:l,rotation:k})},b.prototype._onKnobDragStop=function(){this.props.onDragStop&&this.props.onDragStop()},b.prototype._getBottomDragKnobStyle=function(){var b=this._getBottomDragKnobPosition();return{left:b.x,top:b.y}},b.prototype._getTopDragKnobStyle=function(){var b=this._getTopDragKnobPosition();return{left:b.x,top:b.y}},b.prototype._getStickerStyle=function(){var b=this.props.sprite,c=this._getStickerDimensions(),d=this._getAbsoluteSpritePosition().subtract(c.clone().divide(2)),e=180*b.getRotation()/Math.PI,f="rotate("+e.toFixed(2)+"deg)";return b.getFlipVertically()&&(f+=" rotateX(180deg)"),b.getFlipHorizontally()&&(f+=" rotateY(180deg)"),{top:d.y,left:d.x,width:c.x,height:c.y,WebkitTransform:f,msTransform:f,MozTransform:f,OTransform:f}},b.prototype._getStickerDimensions=function(){var b=this.props.sprite,c=this.context.editor,d=b.getImage();return new j.Vector2(d.width,d.height).multiply(b.getScale()).multiply(c.getZoom()).abs()},b.prototype._getBottomDragKnobPosition=function(){var b=this.props.sprite,c=this._getAbsoluteSpritePosition(),d=b.getRotation(),e=Math.sin(d||0),f=Math.cos(d||0),g=this._getStickerDimensions().divide(2);return c.clone().add(g.x*f-g.y*e,g.x*e+g.y*f)},b.prototype._getTopDragKnobPosition=function(){var b=this.props.sprite,c=this._getAbsoluteSpritePosition(),d=b.getRotation(),e=Math.sin(d||0),f=Math.cos(d||0),g=this._getStickerDimensions(b).divide(2);return c.clone().subtract(g.x*f-g.y*e,g.x*e+g.y*f)},b.prototype._renderKnobs=function(){var b=[];return this.props.selected&&(b=[j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart.bind(this,"bottom"),onStop:this._onKnobDragStop.bind(this,"bottom"),onDrag:this._onKnobDrag.bind(this,"bottom")},j.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getBottomDragKnobStyle()},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)}))),j.ReactBEM.createElement(l.default,{onStart:this._onKnobDragStart.bind(this,"top"),onStop:this._onKnobDragStop.bind(this,"top"),onDrag:this._onKnobDrag.bind(this,"top")},j.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getTopDragKnobStyle()},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",!0)})))]),b},b.prototype._renderSVGFilter=function(){var b=this.props.sprite,c=b.getAdjustments(),d=c.getBrightness(),e=c.getSaturation(),f=c.getContrast(),g="<filter id='pesdk-sticker-"+this._id+"-filter'>\n        <feComponentTransfer>\n          <feFuncR type='linear' intercept='"+d+"' />\n          <feFuncG type='linear' intercept='"+d+"' />\n          <feFuncB type='linear' intercept='"+d+"' />\n        </feComponentTransfer>\n        <feColorMatrix type='saturate' values='"+e+"' />\n        <feComponentTransfer>\n          <feFuncR type='linear' slope='"+f+"' intercept='"+(-(.5*f)+.5)+"' />\n          <feFuncG type='linear' slope='"+f+"' intercept='"+(-(.5*f)+.5)+"' />\n          <feFuncB type='linear' slope='"+f+"' intercept='"+(-(.5*f)+.5)+"' />\n        </feComponentTransfer>\n      </filter>";return j.ReactBEM.createElement("svg",{width:"0",height:"0","color-interpolation-filters":"sRGB",is:"svg"},j.ReactBEM.createElement("defs",{key:Math.random(),dangerouslySetInnerHTML:{__html:g}}))},b.prototype._renderItem=function(){var b=this.props.sprite,c=this._getStickerStyle(),d=this.props.selected?"is-selected":null,e={filter:'url("#pesdk-sticker-'+this._id+'-filter")'};return j.ReactBEM.createElement(l.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected},j.ReactBEM.createElement("div",{bem:"$e:sticker",style:c,className:d},j.ReactBEM.createElement("svg",{width:c.width,height:c.height,"color-interpolation-filters":"sRGB",is:"svg"},j.ReactBEM.createElement("image",{xlinkHref:b.getImage().src,width:c.width,height:c.height,style:e}))))},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},j.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderSVGFilter(),this._renderItem(),this._renderKnobs()))},b}(n.default);b.default=p,p.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(21),l=o(k),m=c(70),n=o(m),p=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onTextChange","_onItemDoubleClick","_onItemTouchStart","_onItemTouchEnd","_onResizeKnobDragStart","_onResizeKnobDrag","_onResizeKnobDragStop","_onRotationKnobDragStart","_onRotationKnobDrag","_onRotationKnobDragStop"),h.state={editMode:!1},h}return(0,i.default)(b,a),b.prototype._onTextChange=function(b){var c=this.props.sprite;c.setText(b.target.value)},b.prototype._onItemDoubleClick=function(){var b=this,c=this.props.sprite;c._edited||(c.setText(""),this.refs.textarea.value="",c._edited=!0,this.forceUpdate()),this.setState({editMode:!0},function(){b.refs.textarea.focus(),b.refs.textarea.select()})},b.prototype._onItemTouchStart=function(b){this._initialTouchPosition=j.Utils.getEventPosition(b),this._tapStartAt=(0,j.now)()},b.prototype._onItemTouchEnd=function(){(0,j.now)()-this._tapStartAt<=100&&("undefined"!=typeof this._lastTapAt&&(0,j.now)()-this._lastTapAt<=300&&this._onItemDoubleClick(),this._lastTapAt=(0,j.now)())},b.prototype._onRotationKnobDragStart=function(b,c){this._dragging=!0,this._initialPosition=this._getRotationKnobPosition(),this.props.onDragStart&&this.props.onDragStart()},b.prototype._onRotationKnobDrag=function(b,c){var d=this.props.sprite,e=this.context.editor,f=this._getAbsoluteSpritePosition(),g=this._initialPosition.clone().add(b),h=g.clone().subtract(f),i=d.getBoundingBox(e.getSDK(),!0),j=Math.atan2(h.y,h.x)-Math.atan2(i.y,i.x/2);d.setRotation(j)},b.prototype._onRotationKnobDragStop=function(b){this.props.onDragStop&&this.props.onDragStop()},b.prototype._onResizeKnobDragStart=function(b,c){this._initialPosition=this._getResizeKnobPosition(),this.props.onDragStart&&this.props.onDragStart()},b.prototype._onResizeKnobDrag=function(b,c){var d=this.props.sprite,e=d.getRotation(),f=this.context.editor,g=f.getZoom(),h=Math.cos(e),i=Math.sin(e),j=this._initialPosition.clone().add(b),k=this._getAbsoluteSpritePosition(),l=j.clone().subtract(k),m=Math.max((l.x*h+l.y*i)/g*2,100);d.setMaxWidth(m)},b.prototype._onResizeKnobDragStop=function(b){this.props.onDragStop&&this.props.onDragStop()},b.prototype._getRotationKnobStyle=function(){var b=this._getRotationKnobPosition();return{left:b.x,top:b.y}},b.prototype._getResizeKnobStyle=function(){var b=this._getResizeKnobPosition();return{left:b.x,top:b.y}},b.prototype._getRemoveKnobStyle=function(){var b=this.props.sprite,c=this.context.editor,d=Math.sin(b.getRotation()),e=Math.cos(b.getRotation()),f=b.getBoundingBox(c.getSDK(),!0),g=f.clone().divide(2),h=b.getPosition().clone().multiply(c.getZoom()).add(-g.x*e,-g.x*d);return{left:h.x,top:h.y}},b.prototype._getTextStyle=function(){var b=this.context.editor,c=this.props.sprite,d=b.getSDK(),e=b.getOutputDimensions(),f=c.getDOMStyle(d,e),g=this._getAbsoluteSpritePosition(),h=c.getBoundingBox(b.getSDK(),!0);return f.height=Math.min(h.y,e.y-g.y),f},b.prototype._getItemContainerStyle=function(){var b=this.context.editor,c=b.getZoom(),d=this.props.sprite,e=d.getPosition().clone().multiply(c),f=180*d.getRotation()/Math.PI,g="rotateZ("+f.toFixed(2)+"deg)",h="50% 0",i=d.getMaxWidth()*c;return{width:i,left:e.x,top:e.y,marginLeft:i*-.5,transform:g,MozTransform:g,msTransform:g,WebkitTransform:g,transformOrigin:h,MozTransformOrigin:h,msTransformOrigin:h,WebkitTransformOrigin:h}},b.prototype._getRotationKnobPosition=function(){var b=this.props.sprite,c=this.context.editor,d=c.getZoom(),e=Math.sin(b.getRotation()),f=Math.cos(b.getRotation()),g=b.getBoundingBox(c.getSDK(),!0),h=g.clone().divide(2),i=b.getPosition().clone().multiply(d).add(h.x*f-g.y*e,h.x*e+g.y*f);return i},b.prototype._getResizeKnobPosition=function(){var b=this.props.sprite,c=this.context.editor,d=Math.sin(b.getRotation()),e=Math.cos(b.getRotation()),f=b.getBoundingBox(c.getSDK(),!0),g=f.clone().divide(2),h=b.getPosition().clone().multiply(c.getZoom()).add(g.x*e,g.x*d);return h},b.prototype._renderKnobs=function(){var b=[];return this.props.selected&&!this.state.editMode&&(b=[j.ReactBEM.createElement(l.default,{onStart:this._onRotationKnobDragStart,onDrag:this._onRotationKnobDrag,onStop:this._onRotationKnobDragStop},j.ReactBEM.createElement("div",{bem:"e:knob m:rotate $b:knob",style:this._getRotationKnobStyle()},j.ReactBEM.createElement("img",{bem:"e:icon m:larger",src:this._getAssetPath("controls/knobs/rotate.png",!0)}))),j.ReactBEM.createElement(l.default,{onStart:this._onResizeKnobDragStart,onDrag:this._onResizeKnobDrag,onStop:this._onResizeKnobDragStop},j.ReactBEM.createElement("div",{bem:"e:knob m:resize $b:knob",style:this._getResizeKnobStyle()},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-up.png",!0)}))),j.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getRemoveKnobStyle(),onClick:this._onRemoveClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/remove.png",!0)}))]),b},b.prototype._renderItem=function(){var b=this.props.sprite,c=[];c=[j.ReactBEM.createElement("textarea",{bem:"e:content",ref:"textarea",style:this._getTextStyle(),defaultValue:b.getText(),disabled:!this.state.editMode,onChange:this._onTextChange})];var d="$e:text";return this.props.selected&&(d+=" m:selected"),this.state.editMode||c.push(j.ReactBEM.createElement("div",{bem:"e:disabledOverlay",onDoubleClick:this._onItemDoubleClick,onTouchStart:this._onItemTouchStart,onTouchEnd:this._onItemTouchEnd})),j.ReactBEM.createElement(l.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected||this.props.selected&&this.state.editMode},j.ReactBEM.createElement("div",{bem:"$e:text",style:this._getItemContainerStyle(),className:this.props.selected?"is-selected":null},c))},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},j.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderItem(),this._renderKnobs()))},b}(n.default);b.default=p,p.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(12),l=q(k),m=c(220),n=q(m),o=c(219),p=q(o),r=j.SDK.Operations.SpriteOperation.Sticker,s=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onExit=function(){var b=this.context.editor,c=this.getSharedState("operation");b.addHistory(c,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),c.setEnabled(!0),b.undoZoom(),b.enableFeatures("zoom","drag"),b.render()},b.onEnter=function(b){var c=this.context.editor,d=c.getOrCreateOperation("sprite"),e=c.operationExists("sprite"),f=d.getSprites(),g=d.getSpritesOfType(r),h=d.serializeOptions();d.setEnabled(!1),c.setZoom("auto"),this.setSharedState({operationExistedBefore:e,operation:d,sprites:f,stickers:g,initialOptions:h})},b.clickAtPosition=function(b,c){if(!c.operationExists("sprite"))return!1;var d=c.getOrCreateOperation("sprite"),e=d.getSpritesAtPosition(b).filter(function(a){return a instanceof r});return!!e.length&&{selectedSprite:e[0]}},b.isAvailable=function(b){return b.isToolEnabled("sticker")},b}(l.default);s.controlsComponent=n.default,s.canvasControlsComponent=p.default,s.identifier="sticker",s.iconPath="controls/overview/sticker.png",s.languageKey="controls.overview.sticker",s.defaultOptions={categories:[],replaceCategories:!1,selectableStickers:null,tooltips:!1,hideCategories:!1},b.default=s},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=o(d),f=c(2),g=o(f),h=c(1),i=o(h),j=c(3),k=c(71),l=o(k),m=c(221),n=o(m),p=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._renderOverlayControls=function(){if(this.getSharedState("selectedSprite"))return j.ReactBEM.createElement(n.default,{onFlip:this._onSpriteFlip,onTakeToFront:this._onSpriteTakeToFront,onRemove:this._onSpriteRemove})},b}(l.default);b.default=p,p.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function u(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(44),e=u(d),f=c(0),g=u(f),h=c(2),i=u(h),j=c(1),k=u(j),l=c(3),m=c(11),n=u(m),o=c(14),p=u(o),q=c(112),r=u(q),s=c(20),t=u(s),v=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(0,i.default)(this,a.call.apply(a,[this].concat(d)));return f._bindAll("_onStickerMouseLeave","_renderTooltipCanvas","_onCategoryChange"),f._operation=f.getSharedState("operation"),f._sprites=f.getSharedState("sprites"),f._stickers=f.getSharedState("stickers"),f._categories=[],f._initStickers(f.props.options.categories),f.state={category:"all"},f}return(0,k.default)(b,a),b.prototype._onCategoryChange=function(b){var c=this;this.setState({category:b.name},function(){c._renderStickers(),c.refs.scrollbar.update()})},b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this.props.options.stickersJSONPath?this._loadExternalStickers():this._renderStickers();var c=this.context.editor;c.setZoom("auto",function(){c.disableFeatures("zoom","drag")})},b.prototype._loadExternalStickers=function(){var b=this,c=null,d=setTimeout(function(){c=t.default.instance.displayLoading(b._t("loading.loading"))},100),e=function(){d&&(clearTimeout(d),d=null),c&&c.close()};this._availableStickers=[],this.forceUpdate();var f=this.props.options.stickersJSONPath;l.Utils.getJSONP(f).then(function(a){e(),"1.0"===a.version?b._initStickers([{name:"all",label:"All",stickers:a.stickers}]):"1.1"===a.version&&b._initStickers(a.categories),b.forceUpdate(function(){b.refs.scrollbar.update(),b._renderStickers()})}).catch(function(a){e();var c=t.default.instance.displayError(b._t("errors.loadingStickersFailed.title"),a.message);c.on("close",function(){b.props.onBack()})})},b.prototype._renderStickers=function(){var b=this,c=this._categoriesById[this.state.category].stickers;c.forEach(function(a,c){return b._renderSticker(c,a)})},b.prototype._renderTooltipCanvas=function(){var b=this,c=this.state.hoveredSticker,d=new window.Image;d.addEventListener("load",function(){if(b.state.tooltipVisible&&b.state.hoveredSticker===c){var a=b.refs.tooltipCanvas;a.width=a.offsetWidth,a.height=a.offsetHeight;var e=a.getContext("2d"),f=Math.min(a.width/d.width,a.height/d.height),g=new l.Vector2(d.width,d.height).multiply(f),h=new l.Vector2(a.width,a.height).divide(2).subtract(g.clone().divide(2));e.drawImage(d,0,0,d.width,d.height,h.x,h.y,g.x,g.y)}});var e=this._getAssetPath((c.images.mediaMedium||c.images.mediaBase).uri);d.src=e},b.prototype._renderSticker=function(b,c){var d=this.context.editor,e=d.getSDK(),f=this._getAssetPath(c.images.mediaThumb.uri),g=this.refs["canvas-"+b],h=e.getPixelRatio();g.width=g.offsetWidth*h,g.height=g.offsetHeight*h,g.style.width=g.offsetWidth+"px",g.style.height=g.offsetHeight+"px";var i=g.getContext("2d"),j=new window.Image;j.addEventListener("load",function(){var a=Math.min(g.width/j.width,g.height/j.height),b=new l.Vector2(j.width,j.height).multiply(a),c=new l.Vector2(g.width,g.height).divide(2).subtract(b.clone().divide(2));i.drawImage(j,0,0,j.width,j.height,c.x,c.y,b.x,b.y)}),j.src=f},b.prototype._initStickers=function(b){var c=this,d=this.props.options.replaceCategories,e=l.Constants.DEFAULTS.STICKER_CATEGORIES;b?d?this._categories=b.slice(0):this._categories=l.Utils.mergeCategories(e,b,"stickers"):this._categories=e.slice(0);var f={name:"all",stickers:this._categories.map(function(a){return a.stickers}).reduce(function(a,b){return a.concat(b)})};this._categories.unshift(f),this._categoriesById={},this._categories.forEach(function(a){c._categoriesById[a.name]=a})},b.prototype._onBackClick=function(b){this._backButtonClicked=!0,this.props.onSwitchControls("home")},b.prototype._onStickerClick=function(b){var c=this,d=this._getAssetPath(b.images.mediaBase.uri),e=new window.Image,f=void 0,g=setTimeout(function(){f=t.default.instance.displayLoading(c._t("loading.loading"))},100);e.addEventListener("load",function(){f&&f.close(),g&&(clearTimeout(g),g=null);var a=c.context.editor,d=c._operation.createSticker({name:b.name,image:e,position:a.getFinalDimensions().divide(2),scale:new l.Vector2(1,1),rotation:0});c._operation.addSprite(d),c._stickers.push(d),a.render(function(){c.setSharedState({selectedSprite:d,sprites:c._sprites,stickers:c._stickers})})}),e.addEventListener("error",function(){f&&f.close(),g&&(clearTimeout(g),g=null),t.default.instance.displayError(c._t("errors.imageLoadFail.title"),c._t("errors.imageLoadFail.text",{path:e.src}))}),e.crossOrigin="Anonymous",e.src=d},b.prototype._onStickerMouseEnter=function(b,c){var d=this;this.setState({tooltipVisible:!0,hoveredSticker:b,hoveredStickerElement:c.currentTarget},function(){d._renderTooltipCanvas(),d._updateTooltipPosition()})},b.prototype._updateTooltipPosition=function(){var b=this.state.hoveredStickerElement,c=b.parentNode,d=b.getBoundingClientRect(),e=c.getBoundingClientRect();this.setState({tooltipPosition:d.left-e.left+.5*d.width})},b.prototype._onStickerMouseLeave=function(){this.setState({tooltipVisible:!1,hoveredSticker:null})},b.prototype._renderListItems=function(){var b=this,c=this._categoriesById[this.state.category].stickers;return c.map(function(a,c){var d=b.props.options,f=d.tooltips?{onMouseEnter:b._onStickerMouseEnter.bind(b,a),onMouseLeave:b._onStickerMouseLeave}:null;return l.ReactBEM.createElement("li",(0,e.default)({bem:"$b:stickersControls $e:item",key:a.name,onClick:b._onStickerClick.bind(b,a)},f),l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas-"+c}))})},b.prototype._renderTooltip=function(){var b=this.props.options.tooltips&&this.state.tooltipVisible,c={left:this.state.tooltipPosition};return b?l.ReactBEM.createElement("div",{bem:"e:cell m:empty"},l.ReactBEM.createElement("div",{bem:"$b:stickersControls $e:tooltip",visible:this.state.tooltipVisible,style:c},l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"tooltipCanvas"}))):null},b.prototype._renderCategoryDropdown=function(){var b=this,c=!this.props.options.hideCategories&&this._categories.length>1;if(!c)return null;var d=this._categories.map(function(a){return{name:a.name,label:b._t("controls.sticker.categories."+a.name),icon:b._getAssetPath("controls/stickers/categories/"+a.name+".png",!0)}}),e={name:this.state.category,label:this._t("controls.sticker.categories."+this.state.category),icon:this._getAssetPath("controls/stickers/categories/"+this.state.category+".png",!0)};return l.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},l.ReactBEM.createElement(r.default,{items:d,selectedItem:e,onChange:this._onCategoryChange}))},b.prototype.renderControls=function(){var b=this._renderListItems(),c=this._renderTooltip(),d=this._renderCategoryDropdown();return[c,d,l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(p.default,{ref:"scrollbar"},l.ReactBEM.createElement("ul",{bem:"$e:list"},b)))]},b}(n.default);b.default=v,v.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._onFlipClick=function(b,c){c.preventDefault(),c.stopPropagation(),this.props.onFlip&&this.props.onFlip(b)},b.prototype._onTakeToFrontClick=function(b){b.preventDefault(),b.stopPropagation(),this.props.onTakeToFront&&this.props.onTakeToFront()},b.prototype._onRemoveClick=function(b){b.preventDefault(),b.stopPropagation(),this.props.onRemove&&this.props.onRemove()},b.prototype._renderItems=function(){return[j.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onFlipClick.bind(this,"h")},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/flip-h.png",!0)})),j.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onFlipClick.bind(this,"v")},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/flip-v.png",!0)})),j.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onTakeToFrontClick.bind(this)},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take-to-front.png",!0)})),j.ReactBEM.createElement("div",{bem:"$e:separator"}),j.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onRemoveClick.bind(this)},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/remove.png",!0)}))]},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:stickerControlsOverlay"},this._renderItems())},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(114),l=m(k),n=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._onListItemClick=function(b,c){this.props.onChange&&this.props.onChange(b)},b.prototype._renderListItems=function(){var b=this,c=this.props.fonts;return c.map(function(a,c){var d=b.props.fontFamily===a.fontFamily&&b.props.fontWeight===a.fontWeight,e=d?"is-active":null;return j.ReactBEM.createElement("li",{bem:"e:item",key:c,className:e,onClick:b._onListItemClick.bind(b,a)},j.ReactBEM.createElement(l.default,{fontFamily:a.fontFamily,fontWeight:a.fontWeight}),j.ReactBEM.createElement("div",{bem:"e:label"},a.fontFamily))})},b.prototype.renderWithBEM=function(){var b=this._renderListItems();return j.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:dark"},j.ReactBEM.createElement("ul",{bem:"$b:fontFamily e:list"},b))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(12),l=q(k),m=c(224),n=q(m),o=c(225),p=q(o),r=j.SDK.Operations.SpriteOperation.Text,s=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.onExit=function(){var b=this.context.editor,c=this.getSharedState("operation");b.addHistory(c,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore")),c.setEnabled(!0),b.undoZoom(),b.enableFeatures("zoom","drag"),b.render()},b.onEnter=function(c){var d=this.context.editor,e=d.operationExists("sprite"),f=d.getOrCreateOperation("sprite"),g=f.getSprites(),h=f.serializeOptions(),i=this.getSharedState("selectedSprite"),k=b.initFonts(this.context),l=k.fonts,m=k.defaultFont;if(!i){var n=d.getSDK(),o=n.getRenderer(),p=n.getFinalDimensions(),q=f.createText({text:j.Constants.DEFAULTS.TEXT,position:p.clone().divide(2),maxWidth:p.x/2,maxHeight:o.getMaxTextureSize()||3*n.getFinalDimensions().y,fontSize:Math.round(.08*p.y),fontFamily:m.fontFamily,fontWeight:m.fontWeight,alignment:"center",anchor:new j.Vector2(0,0),pivot:new j.Vector2(.5,0)});f.addSprite(q),i=q}this.setSharedState({operationExistedBefore:e,operation:f,sprites:g,initialOptions:h,selectedSprite:i,fonts:l}),f.setEnabled(!1),d.render()},b.initFonts=function(b){var c=b.options.editor.controlsOptions.text||{},d=c.additionalFonts,e=c.replaceFonts,f=c.selectableFonts;d=d||[];var g=j.Constants.DEFAULTS.FONTS;g=e?d:g.concat(d),f&&f.length&&(g=j.Utils.select(g,f,function(a){return a.name}));var h=null;return g.forEach(function(a){!h&&a.default&&(h=a)}),h||(h=g[0]),{fonts:g,defaultFont:h}},b.clickAtPosition=function(b,c){if(!c.operationExists("sprite"))return!1;var d=c.getOrCreateOperation("sprite"),e=d.getSpritesAtPosition(b).filter(function(a){return a instanceof r});return!!e.length&&{selectedSprite:e[0]}},b.isAvailable=function(b){return b.isToolEnabled("text")},b}(l.default);s.controlsComponent=p.default,s.canvasControlsComponent=n.default,s.identifier="text",s.iconPath="controls/overview/text.png",s.languageKey="controls.overview.text",s.defaultOptions={additionalFonts:[],replaceFonts:!1,availableFonts:null},b.default=s},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(71),l=m(k),n=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype._onItemBlur=function(){var b=this.getSharedState("selectedSprite");b&&""===b.getText()&&(b.setText(j.Constants.DEFAULTS.TEXT),b._edited=!1)},b.prototype._onSpriteRemove=function(){a.prototype._onSpriteRemove.call(this),this.props.onSwitchControls("home")},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=w(d),f=c(2),g=w(f),h=c(1),i=w(h),j=c(3),k=c(11),l=w(k),m=c(14),n=w(m),o=c(68),p=w(o),q=c(69),r=w(q),s=c(114),t=w(s),u=c(222),v=w(u),x=["left","center","right"],y=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._bindAll("_onFontSizeChange","_onFontChange","_onAlignmentClick","_onTakeToFrontClick","_onForegroundColorChange","_onBackgroundColorChange"),h._operation=h.getSharedState("operation"),h.state={mode:null};var i=h.context.editor;return i.render(),h._fonts=h.getSharedState("fonts"),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this);var c=this.context.editor;c.setZoom("auto",function(){c.disableFeatures("zoom","drag")})},b.prototype._onBackClick=function(b){var c=this.context.editor;c.render(),this._backButtonClicked=!0,this.props.onSwitchControls("home")},b.prototype.sharedStateDidChange=function(b){"selectedSprite"in b&&this.forceUpdate()},b.prototype._onFontSizeChange=function(b){var c=this.getSharedState("selectedSprite");c.setFontSize(b),this.forceUpdate()},b.prototype._onFontChange=function(b){var c=this.getSharedState("selectedSprite");c.setFontFamily(b.fontFamily),c.setFontWeight(b.fontWeight),this.forceUpdate()},b.prototype._onAlignmentClick=function(b){var c=this.getSharedState("selectedSprite"),d=c.getAlignment(),e=x.indexOf(d),f=(e+1)%x.length,g=x[f];c.setAlignment(g),this.forceSharedUpdate()},b.prototype._onTakeToFrontClick=function(b){var c=this.getSharedState("operation");c.takeSpriteToFront(this.getSharedState("selectedSprite")),this.forceSharedUpdate()},b.prototype._onForegroundColorChange=function(b){var c=this.getSharedState("selectedSprite");c.setColor(b)},b.prototype._onBackgroundColorChange=function(b){var c=this.getSharedState("selectedSprite");c.setBackgroundColor(b)},b.prototype._switchToMode=function(b){b===this.state.mode&&(b=null),this.setState({
mode:b})},b.prototype.renderOverlayControls=function(){switch(this.state.mode){case"size":return this._renderFontSizeOverlayControl();case"font":return this._renderFontFamilyOverlayControl();default:return null}},b.prototype._renderFontSizeOverlayControl=function(){var b=this.getSharedState("selectedSprite");if(b){var c=this.context.editor,d=c.getOutputDimensions(),e=Math.round(d.y),f=b.getFontSize();return j.ReactBEM.createElement(r.default,{value:f,maxValue:e,label:this._t("controls.text.size"),onChange:this._onFontSizeChange})}},b.prototype._renderSizeItem=function(){var b=this.getSharedState("selectedSprite");if(b){var c=b.getFontSize(),d="size"===this.state.mode?"is-active":null;return j.ReactBEM.createElement("li",{bem:"e:item",key:"size"},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:d,onClick:this._switchToMode.bind(this,"size")},j.ReactBEM.createElement("div",{bem:"b:fontSize e:text"},c),j.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.size")))))}},b.prototype._renderFontFamilyOverlayControl=function(){var b=this.getSharedState("selectedSprite");if(b)return j.ReactBEM.createElement(v.default,{fontFamily:b.getFontFamily(),fontWeight:b.getFontWeight(),fonts:this._fonts,onChange:this._onFontChange})},b.prototype._renderFontItem=function(){var b=this.getSharedState("selectedSprite");if(b){var c="font"===this.state.mode?"is-active":null;return j.ReactBEM.createElement("li",{bem:"e:item",key:"font"},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:c,onClick:this._switchToMode.bind(this,"font")},j.ReactBEM.createElement(t.default,{fontFamily:b.getFontFamily(),fontWeight:b.getFontWeight()}),j.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.font")))))}},b.prototype._renderAlignmentItem=function(){var b=this.getSharedState("selectedSprite");if(b){var c=b.getAlignment();return j.ReactBEM.createElement("li",{bem:"e:item",key:"alignment"},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onAlignmentClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/text/align_"+c+".png",!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.alignment")))))}},b.prototype._renderTakeToFrontItem=function(){return j.ReactBEM.createElement("li",{bem:"e:item",key:"takeToFront"},j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onTakeToFrontClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take_to_front.png",!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.takeToFront")))))},b.prototype.renderControls=function(){var b=[this._renderSizeItem(),this._renderFontItem(),this._renderAlignmentItem(),j.ReactBEM.createElement("li",{bem:"e:separator"}),this._renderTakeToFrontItem()],c=this.getSharedState("selectedSprite"),d=c.getColor().clone(),e=c.getBackgroundColor().clone();return[j.ReactBEM.createElement("div",{bem:"e:cell m:list"},j.ReactBEM.createElement(n.default,{ref:"scrollbar"},j.ReactBEM.createElement("ul",{bem:"$e:list"},b))),j.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},j.ReactBEM.createElement(p.default,{initialValue:d,label:this._t("controls.text.foreground"),onChange:this._onForegroundColorChange})),j.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},j.ReactBEM.createElement(p.default,{initialValue:e,label:this._t("controls.text.background"),onChange:this._onBackgroundColorChange}))]},b}(l.default);b.default=y,y.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"$b:controls"},j.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},j.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/tick.png",!0)}))))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onCloseClick"),h}return(0,i.default)(b,a),b.prototype._onCloseClick=function(){this.context.mediator.emit(j.Constants.EVENTS.CLOSE)},b.prototype.renderWithBEM=function(){var b=void 0;return this.context.options.showCloseButton&&(b=j.ReactBEM.createElement("div",{bem:"$e:close",onClick:this._onCloseClick},j.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("close.png",!0)}))),j.ReactBEM.createElement("div",{bem:"$b:header"},j.ReactBEM.createElement("div",{bem:"e:label"},this.context.options.title),b)},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=s(d),f=c(2),g=s(f),h=c(1),i=s(h),j=c(3),k=c(230),l=s(k),m=c(232),n=s(m),o=c(229),p=s(o),q=c(231),r=s(q),t=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._modalManager=h.props.modalManager,h._bindAll("_onModalManagerUpdate"),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this),this._modalManager.on("update",this._onModalManagerUpdate)},b.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this),this._modalManager.off("update",this._onModalManagerUpdate)},b.prototype._onModalManagerUpdate=function(){this.forceUpdate()},b.prototype._onModalClosed=function(b){this._modalManager.removeModal(b)},b.prototype._renderModals=function(){var b=this,c=this._modalManager.getModals();return c.map(function(a){var c=void 0;switch(a.type){case"loading":c=l.default;break;case"warning":c=n.default;break;case"error":c=p.default;break;case"progress":c=r.default}return j.ReactBEM.createElement(c,{modal:a,onClose:b._onModalClosed.bind(b,a)})})},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",null,this._renderModals())},b}(j.BaseComponent);b.default=t,t.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onClose"),h}return(0,i.default)(b,a),b.prototype._onClose=function(){this.props.modal.close()},b.prototype.renderWithBEM=function(){var b=this.props.modal,c=j.ReactBEM.createElement("div",{bem:"e:modal m:error"},j.ReactBEM.createElement("div",{bem:"e:title"},b.title),j.ReactBEM.createElement("div",{bem:"e:text"},b.text),j.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this._onClose},"OK")),d=b.overlay?j.ReactBEM.createElement("div",{bem:"e:overlay"},c):c;return j.ReactBEM.createElement("bem",{specifier:"$b:modals"},d)},b}(j.BaseComponent);b.default=l,l.propTypes={modal:j.React.PropTypes.object},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b=this.props.modal;return j.ReactBEM.createElement("bem",{specifier:"$b:modals"},j.ReactBEM.createElement("div",{bem:"e:overlay"},j.ReactBEM.createElement("div",{bem:"e:modal m:loading"},j.ReactBEM.createElement("div",{bem:"e:text"},b.text))))},b}(j.BaseComponent);b.default=l,l.propTypes={modal:j.React.PropTypes.object},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b=this.props.modal,c=b.data.progress,d={width:(100*(c||0)).toFixed(2)+"%"};return j.ReactBEM.createElement("bem",{specifier:"$b:modals"},j.ReactBEM.createElement("div",{bem:"e:overlay"},j.ReactBEM.createElement("div",{bem:"e:modal m:loading"},j.ReactBEM.createElement("div",{bem:"e:text"},b.text),j.ReactBEM.createElement("bem",{specifier:"b:loadingModal"},j.ReactBEM.createElement("div",{bem:"$e:progressBar"},j.ReactBEM.createElement("div",{bem:"e:progress",style:d}))))))},b}(j.BaseComponent);b.default=l,l.propTypes={modal:j.React.PropTypes.object},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b=this.props.modal;return j.ReactBEM.createElement("bem",{specifier:"$b:modals"},j.ReactBEM.createElement("div",{bem:"e:modal m:warning"},j.ReactBEM.createElement("div",{bem:"e:title"},b.title),j.ReactBEM.createElement("div",{bem:"e:text"},b.text),j.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this.props.onClose},"OK")))},b}(j.BaseComponent);b.default=l,l.propTypes={modal:j.React.PropTypes.object},l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(15),e=m(d),f=c(0),g=m(f),h=c(2),i=m(h),j=c(1),k=m(j),l=c(3),n=function(a){function b(){var c;(0,g.default)(this,b);for(var d=arguments.length,f=Array(d),h=0;h<d;h++)f[h]=arguments[h];var j=(0,i.default)(this,a.call.apply(a,[this].concat(f)));return j._bindAll("_onDragStart","_onDragMove","_onDragEnd","_onWindowResize","_onFeaturesUpdated"),j._events=(c={},(0,e.default)(c,l.Constants.EVENTS.WINDOW_RESIZE,j._onWindowResize),(0,e.default)(c,l.Constants.EVENTS.FEATURES_UPDATED,j._onFeaturesUpdated),c),j._initialRenderDone=!1,j.state={canvasPosition:new l.Vector2,canvasOffset:new l.Vector2},j}return(0,k.default)(b,a),b.prototype._onWindowResize=function(){var b=this.context.editor,c=b.getSDK();c.resizeTo(this._getContainerDimensions()),b.setZoom("auto")},b.prototype._onFeaturesUpdated=function(b){b.indexOf("drag")!==-1&&this.forceUpdate()},b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this);var c=this.context.editor,d=c.getRenderer(),e=this.refs,f=e.canvasCell,g=e.canvas,h=f.offsetWidth,i=f.offsetHeight;d.setCanvas(g),d.resizeTo(new l.Vector2(h,i))},b.prototype._onDragStart=function(b){var c=this.context.editor;c.isFeatureEnabled("drag")&&(b.preventDefault(),this._dragStartPosition=l.Utils.getEventPosition(b.nativeEvent),this._dragInitialOffset=c.getOffset().clone(),document.addEventListener("mousemove",this._onDragMove),document.addEventListener("touchmove",this._onDragMove),document.addEventListener("mouseup",this._onDragEnd),document.addEventListener("touchend",this._onDragEnd))},b.prototype._onDragMove=function(b){var c=l.Utils.getEventPosition(b),d=c.clone().subtract(this._dragStartPosition),e=this._dragInitialOffset.clone().add(d),f=this.context.editor,g=f.getOffset().clone();f.setOffset(e),f.getOffset().equals(g)||f.render()},b.prototype._onDragEnd=function(b){document.removeEventListener("mousemove",this._onDragMove),document.removeEventListener("touchmove",this._onDragMove),document.removeEventListener("mouseup",this._onDragEnd),document.removeEventListener("touchend",this._onDragEnd)},b.prototype._getContainerDimensions=function(){var b=this.refs.canvasCell;return new l.Vector2(b.offsetWidth,b.offsetHeight)},b.prototype._getDraggableStyle=function(){return{top:this.state.canvasPosition.y+this.state.canvasOffset.y,left:this.state.canvasPosition.x+this.state.canvasOffset.x}},b.prototype.renderWithBEM=function(){var b=null,c=null;this.props.largeControls?c=this.props.children:b=this.props.children;var d=this.context.editor.isFeatureEnabled("drag");return l.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},l.ReactBEM.createElement("div",{bem:"e:container e:cell",ref:"canvasCell"},l.ReactBEM.createElement("div",{bem:"e:innerContainer",className:d?"is-draggable":null,onTouchStart:this._onDragStart,onMouseDown:this._onDragStart,style:this._getDraggableStyle()},l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),b),c))},b}(l.BaseComponent);b.default=n,n.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=w(d),f=c(2),g=w(f),h=c(1),i=w(h),j=c(3),k=c(113),l=w(k),m=c(42),n=w(m),o=c(233),p=w(o),q=c(20),r=w(q),s=c(208),t=w(s),u=c(252),v=w(u),x=500,y=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._overviewControls=l.default,h._bindAll("switchToControls","_startEditor","_onWindowResize","_onWindowResizeDone","_onImageResize","_onNewImage","_onRenderError"),h._previousControlsStack=[],h.state={zoom:null,controls:t.default,dragEnabled:!0,sharedState:new j.SharedState},h._editor=new v.default(h.context.options,h.context.mediator),h._editor.on("new-image",h._onNewImage),h._editor.on("ready",h._startEditor),h._editor.on("resize",h._onImageResize),h._editor.on("render-error",h._onRenderError),h}return(0,i.default)(b,a),b.prototype.componentDidMount=function(){a.prototype.componentDidMount.call(this);var c=this.context.options.editor.image;this.setImage(c),this._editor.render();var d=this.context.options;d.responsive&&window.addEventListener("resize",this._onWindowResize)},b.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this),this._editor.dispose();var c=this.context.options;c.responsive&&window.removeEventListener("resize",this._onWindowResize)},b.prototype._startEditor=function(){this._editor.start()},b.prototype._onRenderError=function(b){r.default.instance.displayError(this._t("errors.renderingError.title"),this._t("errors.renderingError.text"),!0),j.Log.error(this.constructor.name,"An error occurred while rendering: "+b.message),j.Log.printError(b)},b.prototype._onNewImage=function(){this.switchToControls(t.default)},b.prototype._onImageResize=function(){var b=this,c=r.default.instance.displayLoading(this._t("loading.resizing"));this._editor.once("resized",function(a){var d=a.dimensions,e=a.reason;c.close(),r.default.instance.displayWarning(b._t("warnings.imageResized_"+e+".title"),b._t("warnings.imageResized_"+e+".text",{maxMegaPixels:b._editor.getMaxMegapixels(),width:d.x,height:d.y}))})},b.prototype._onWindowResize=function(){this._resizeTimeout&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null),this._resizeTimeout=window.setTimeout(this._onWindowResizeDone,x)},b.prototype._onWindowResizeDone=function(){this._emitEvent(j.Constants.EVENTS.WINDOW_RESIZE)},b.prototype.switchToControls=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=arguments.length<=2||void 0===arguments[2]?null:arguments[2],e=null;if("back"===b)e=this._previousControlsStack.pop();else if("home"===b)e=t.default,this._previousControlsStack=[];else if("string"==typeof b){var f=this.context.ui.getAvailableControls();e=f[b]}else e=b,this._previousControlsStack.push(this.state.controls);var g=this.state.controls!==e;this.state.controls.onExit&&this.state.controls.onExit.call(this.refs.controls),this.state.sharedState.clear(),this.state.sharedState.set(c,!1);var h=j.SDKUtils.defaults(this.context.options.editor.controlsOptions[e.identifier],e.defaultOptions);return e.onEnter&&e.onEnter.call(this.refs.controls,this.state.sharedState,h),g?void this.setState({controls:e,controlsOptions:h},d):d&&d()},b.prototype.getZoom=function(){return this.state.zoom},b.prototype.export=function(){var b;return(b=this._editor).export.apply(b,arguments)},b.prototype._showUndoButton=function(){return this._editor.historyAvailable()},b.prototype.getChildContext=function(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,editorScreen:this,mediator:this.context.mediator}},b.prototype.setImage=function(b,c){this._editor.setImage(b,c)},b.prototype._renderScreen=function(){var b=this.state.controls.controlsComponent,c=this.state.controls.canvasControlsComponent;c||(c=t.default.canvasControlsComponent);var d=this.state.controls.topBarControlsComponent;d||(d=t.default.topBarControlsComponent);var e=void 0,f=void 0,g=void 0;d&&this.context.options.showTopBar&&(g=j.ReactBEM.createElement(d,{sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,ref:"topBarControls"})),b&&(e=j.ReactBEM.createElement(b,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,ref:"controls"})),c&&(f=j.ReactBEM.createElement(c,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,app:this.props.app,ref:"canvasControls"}));var h="$b:editorScreen";return this.context.options.showHeader||(h+=" m:noHeader"),j.ReactBEM.createElement("div",{bem:h},g,j.ReactBEM.createElement(p.default,{ref:"canvas",largeControls:this.state.controls.largeCanvasControls},f),j.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},j.ReactBEM.createElement("div",{bem:"e:cell"},e)))},b}(n.default);b.default=y,y.childContextTypes={ui:j.React.PropTypes.object.isRequired,editor:j.React.PropTypes.object.isRequired,mediator:j.React.PropTypes.object.isRequired,options:j.React.PropTypes.object.isRequired,editorScreen:j.React.PropTypes.object.isRequired},y.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onClick"),h}return(0,i.default)(b,a),b.prototype._onClick=function(){this.props.onClick&&this.props.onClick(this.props.library)},b.prototype.renderWithBEM=function(){var b=this.props.library,c={backgroundImage:"url("+b.coverImage+")"};return j.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:libraryList"},j.ReactBEM.createElement("li",{bem:"e:item",style:c,onClick:this._onClick},j.ReactBEM.createElement("div",{bem:"e:overlay"}),j.ReactBEM.createElement("div",{bem:"e:name"},b.name)))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){var b=this.props.photo;return j.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:photoList"},j.ReactBEM.createElement("li",{bem:"$e:item",onClick:this.props.onClick},j.ReactBEM.createElement("div",{bem:"e:overlay"}),j.ReactBEM.createElement("div",{bem:"e:title"},b.title),j.ReactBEM.createElement("img",{bem:"e:image",src:b.urls.thumb})))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(115),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));h._bindAll("_onSearchSuggestionClick");var i=h.context.options.photoRoll.provider;return h._provider=new i,h.state={searchSuggestions:[]},h}return(0,i.default)(b,a),b.prototype._onSearchSuggestionClick=function(b){this.props.onSearchSuggestionClicked&&this.props.onSearchSuggestionClicked(b)},b.prototype.componentDidMount=function(){var c=this;a.prototype.componentDidMount.call(this),this._provider.getSearchSuggestions().then(function(a){c.setState({searchSuggestions:a})})},b.prototype._renderMessage=function(){return{__html:this._t("photoRoll.search.noSearchResults",{query:this.props.query})}},b.prototype._renderSearchSuggestions=function(){var b=this;if(!this.state.searchSuggestions.length)return null;var c=this.state.searchSuggestions.map(function(a){return j.ReactBEM.createElement(l.default,{onClick:b._onSearchSuggestionClick,searchSuggestion:a})});return j.ReactBEM.createElement("div",null,j.ReactBEM.createElement("div",{bem:"e:headline"},"Search suggestions"),j.ReactBEM.createElement("ul",{bem:"$e:libraryList"},c))},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},j.ReactBEM.createElement("div",{bem:"e:cell"},j.ReactBEM.createElement("div",{bem:"e:container"},j.ReactBEM.createElement("div",{bem:"e:innerContainer"},j.ReactBEM.createElement("div",{bem:"e:noSearchResults",dangerouslySetInnerHTML:this._renderMessage()}),this._renderSearchSuggestions()))))},b}(j.BaseComponent);b.default=n,n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(274),e=s(d),f=c(0),g=s(f),h=c(2),i=s(h),j=c(1),k=s(j),l=c(3),m=c(20),n=s(m),o=c(235),p=s(o),q=c(115),r=s(q),t=function(a){function b(){(0,g.default)(this,b);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(0,i.default)(this,a.call.apply(a,[this].concat(d)));f._needsStyleFixes=!0,f.state={loading:!0,libraries:[],searchSuggestions:[]},f._bindAll("_onLibraryClick","_onSearchSuggestionClick");var h=f.context.options.photoRoll.provider;return f._provider=new h,f}return(0,k.default)(b,a),b.prototype.fixStyles=function(){if(l.Utils.Browser.isIElte(11)){var b=this.refs,c=b.cell,d=b.container;if(!c||!d)return;var e=c.offsetHeight;d.style.height=e+"px"}},b.prototype.componentDidMount=function(){var c=this;a.prototype.componentDidMount.call(this);var d=n.default.instance.displayLoading(this._t("loading.loading"));this._load().then(function(a){var b=(0,e.default)(a,2),f=b[0],g=b[1];d.close(),1===f.length?c._onLibraryClick(f[0],!0):c.setState({loading:!1,libraries:f,searchSuggestions:g})})},b.prototype._onLibraryClick=function(b){var c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.props.onLibraryClicked&&this.props.onLibraryClicked(b,c)},b.prototype._onSearchSuggestionClick=function(b){this.props.onSearchSuggestionClicked&&this.props.onSearchSuggestionClicked(b)},b.prototype._load=function(){var b=[this._provider.getLibraries(),this._provider.getSearchSuggestions()];return l.Promise.all(b)},b.prototype._renderLibraries=function(){var b=this,c=this.state.libraries.map(function(a){return l.ReactBEM.createElement(p.default,{onClick:b._onLibraryClick,library:a})});return l.ReactBEM.createElement("li",{bem:"e:item"},l.ReactBEM.createElement("bem",{specifier:"b:photoRoll"},l.ReactBEM.createElement("div",{bem:"e:headline"},"Browse libraries"),l.ReactBEM.createElement("ul",{bem:"$e:libraryList"},c)))},b.prototype._renderSearchSuggestions=function(){var b=this;if(!this.state.searchSuggestions.length)return null;var c=this.state.searchSuggestions.map(function(a){return l.ReactBEM.createElement(r.default,{onClick:b._onSearchSuggestionClick,searchSuggestion:a})});return l.ReactBEM.createElement("li",{bem:"e:item"},l.ReactBEM.createElement("bem",{specifier:"b:photoRoll"},l.ReactBEM.createElement("div",{bem:"e:headline"},"Search suggestions"),l.ReactBEM.createElement("ul",{bem:"$e:libraryList"},c)))},b.prototype._renderContent=function(){return l.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},l.ReactBEM.createElement("div",{bem:"e:cell",ref:"cell"},l.ReactBEM.createElement("div",{bem:"e:container",ref:"container"},l.ReactBEM.createElement("div",{bem:"e:innerContainer"},l.ReactBEM.createElement("ul",{bem:"$e:groupList"},this._renderLibraries(),this._renderSearchSuggestions())))))},b.prototype.renderWithBEM=function(){return this.state.loading?l.ReactBEM.createElement("div",null):this._renderContent()},b}(l.BaseComponent);b.default=t,t.contextTypes=l.BaseComponent.contextTypes},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=w(d),f=c(2),g=w(f),h=c(1),i=w(h),j=c(3),k=c(42),l=w(k),m=c(242),n=w(m),o=c(238),p=w(o),q=c(116),r=w(q),s=c(240),t=w(s),u=c(20),v=w(u),x=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h.state={section:"overview",sectionsHistory:[]},h._bindAll("_onLibraryClicked","_onSearchSuggestionClicked","_onPhotoClicked","_onFileUpload","_onWebcamClick","_onBackClicked","_onSearch"),h}return(0,i.default)(b,a),b.prototype.hasPreviousSection=function(){return!!this.state.sectionsHistory.length},b.prototype.switchToSection=function(b){var c=arguments.length<=1||void 0===arguments[1]||arguments[1],d=arguments.length<=2||void 0===arguments[2]||arguments[2];if("back"===b){if(!this.hasPreviousSection())return c?this.props.app.switchToScreen("back"):this.switchToSection("overview");b=this.state.sectionsHistory.pop()}else this.state.section!==b&&d&&this.state.sectionsHistory.push(this.state.section);this.setState({section:b})},b.prototype._onLibraryClicked=function(b){var c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.state.library=b,this.switchToSection("library",!0,!c)},b.prototype._onSearchSuggestionClicked=function(b){this.state.searchQuery=b.query,this.switchToSection("search")},b.prototype._onPhotoClicked=function(b){var c=this,d=v.default.instance.displayLoading(this._t("loading.loading")),e=new window.Image;e.addEventListener("load",function(){d.close(),c.props.app.setImage(e,!0)}),e.addEventListener("error",function(){d.close(),v.default.instance.displayError(c._t("errors.imageLoadFail.title"),c._t("errors.imageLoadFail.text",{path:e.src}))}),e.crossOrigin="Anonymous",e.src=b.urls.raw},b.prototype._onBackClicked=function(){this.switchToSection("back")},b.prototype._onSearch=function(b){return b.trim().length?(this.state.searchQuery=b,void this.switchToSection("search")):(this.state.searchQuery=null,this.switchToSection("back",!1))},b.prototype._onWebcamClick=function(){this.props.app.switchToScreen("webcam")},b.prototype._onFileUpload=function(b){this.props.app.setImage(b)},b.prototype._isBackButtonVisible=function(){return 0!==this.state.sectionsHistory.length||this.props.app.hasPreviousScreen()},b.prototype._renderContent=function(){switch(this.state.section){case"search":return j.ReactBEM.createElement(t.default,{query:this.state.searchQuery,onPhotoClicked:this._onPhotoClicked,onSearchSuggestionClicked:this._onSearchSuggestionClicked});case"library":return j.ReactBEM.createElement(r.default,{library:this.state.library,onPhotoClicked:this._onPhotoClicked});case"overview":return j.ReactBEM.createElement(p.default,{onLibraryClicked:this._onLibraryClicked,onSearchSuggestionClicked:this._onSearchSuggestionClicked})}},b.prototype._renderScreen=function(){var b=this._renderContent();return j.ReactBEM.createElement("div",{bem:"$b:photoRollScreen"},j.ReactBEM.createElement(n.default,{onBackClicked:this._onBackClicked,onSearch:this._onSearch,searchQuery:this.state.searchQuery,onFileUpload:this._onFileUpload,onWebcamClick:this._onWebcamClick,backButton:this._isBackButtonVisible(),backButtonLabel:this._t("generic.back"),ref:"topBarControls"}),b)},b}(l.default);b.default=x,x.childContextTypes={ui:j.React.PropTypes.object.isRequired,editor:j.React.PropTypes.object.isRequired,mediator:j.React.PropTypes.object.isRequired,options:j.React.PropTypes.object.isRequired,editorScreen:j.React.PropTypes.object.isRequired},x.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(116),l=q(k),m=c(237),n=q(m),o=c(20),p=q(o),r=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.componentWillReceiveProps=function(b){b.query!==this.props.query&&this._loadPhotos(b.query)},b.prototype._getHeadline=function(){return this._t("photoRoll.search.results.headline",{query:this.props.query})},b.prototype._loadPhotos=function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?this.props.query:arguments[0];this._totalPhotosHeight=0;var d=p.default.instance.displayProgress(this._t("loading.loading")),e=this.context.options.photoRoll.provider,f=new e;f.searchPhotos(c).then(function(a){return b._preloadPhotos(a,d)}).then(function(a){b.setState({photos:a,loading:!1}),d.close()})},b.prototype._renderNotFound=function(){return j.ReactBEM.createElement(n.default,{query:this.props.query,onSearchSuggestionClicked:this.props.onSearchSuggestionClicked})},b.prototype.renderWithBEM=function(){return this.state.loading?j.ReactBEM.createElement("div",null):0===this.state.photos.length?this._renderNotFound():this._renderPhotos()},b}(l.default);b.default=r,r.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"$b:topBar"},j.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this.props.onClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.icon})))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function u(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=u(d),f=c(2),g=u(f),h=c(1),i=u(h),j=c(3),k=c(75),l=u(k),m=c(241),n=u(m),o=c(73),p=u(o),q=c(243),r=u(q),s=c(250),t=u(s),v=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onUploadButtonClicked","_onWebcamButtonClicked","_onBackClicked","_onSearchValueChange","_onNewFile"),h._onSearchValueChange=j.Utils.debounce(h._onSearchValueChange,250),h}return(0,i.default)(b,a),b.prototype._onBackClicked=function(){
this.props.onBackClicked&&this.props.onBackClicked()},b.prototype._onSearchValueChange=function(b){this.props.onSearch&&this.props.onSearch(b)},b.prototype._onUploadButtonClicked=function(){this.refs.upload.open()},b.prototype._onWebcamButtonClicked=function(){this.props.onWebcamClick&&this.props.onWebcamClick()},b.prototype._onNewFile=function(b){this.props.onFileUpload&&this.props.onFileUpload(b)},b.prototype._renderRightButtons=function(){var b=this.context.options,c=[];return b.enableUpload&&c.push(j.ReactBEM.createElement(n.default,{icon:this._getAssetPath("photo-roll/upload.png",!0),onClick:this._onUploadButtonClicked})),b.enableWebcam&&c.push(j.ReactBEM.createElement(n.default,{icon:this._getAssetPath("photo-roll/webcam.jpg",!0),onClick:this._onWebcamButtonClicked})),c},b.prototype.renderWithBEM=function(){var b=void 0;return this.props.backButton&&(b=j.ReactBEM.createElement(t.default,{label:this.props.backButtonLabel,onClick:this._onBackClicked})),j.ReactBEM.createElement("div",{bem:"$b:topBar e:row"},j.ReactBEM.createElement("div",{bem:"e:cell"},j.ReactBEM.createElement("div",{bem:"e:table"},j.ReactBEM.createElement("div",{bem:"e:cell m:left"},b),j.ReactBEM.createElement("div",{bem:"e:cell m:fullWidth"},j.ReactBEM.createElement(r.default,{searchQuery:this.props.searchQuery,onChange:this._onSearchValueChange}),j.ReactBEM.createElement(p.default,{onNewFile:this._onNewFile,ref:"upload"})),j.ReactBEM.createElement("div",{bem:"e:cell m:right"},this._renderRightButtons()))))},b}(l.default);b.default=v,v.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._bindAll("_onFocus","_onBlur","_onChange","_onBarClick"),h.state={active:!1,placeholder:h._t("photoRoll.search.placeholder"),value:""},h}return(0,i.default)(b,a),b.prototype.componentWillReceiveProps=function(b){b.searchQuery||this.state.value?this.state.active=!0:this.state.active=!1},b.prototype.componentDidMount=function(){var c=this;a.prototype.componentDidMount.call(this),this._hiddenInputDummy=document.createElement("div");var d=j.Utils.getStyleObject(this.refs.input),e=["font","lineHeight","textAlign","textIndent","textTransform","textDecoration","textRendering","textShadow","textOverflow","wordSpacing","letterSpacing","whiteSpace"];e.forEach(function(a){c._hiddenInputDummy.style[a]=d[a]}),this._hiddenInputDummy.style.position="absolute",this._hiddenInputDummy.style.top="-9999px",this._hiddenInputDummy.style.left="-9999px",this.refs.root.appendChild(this._hiddenInputDummy),this._updateInputWidth()},b.prototype._updateInputWidth=function(){var b=this;this._hiddenInputDummy.innerHTML=this.state.value||this.state.placeholder,setTimeout(function(){b.setState({inputWidth:b._hiddenInputDummy.offsetWidth+5})},0)},b.prototype._onBarClick=function(){this.refs.input.focus()},b.prototype._onFocus=function(){this.setState({active:!0})},b.prototype._onBlur=function(){""!==this.state.value||this.props.searchQuery||this.setState({active:!1})},b.prototype._onChange=function(b){this.state.value=b.target.value,this.forceUpdate(),this.props.onChange&&this.props.onChange(this.state.value)},b.prototype.renderWithBEM=function(){var b="$e:searchBar",c="photo-roll/search-light.png";this.state.active&&(b+=" m:active",c="photo-roll/search-dark.png"),c=this._getAssetPath(c,!0);var d={width:this.state.inputWidth+"px"};return j.ReactBEM.createElement("bem",{specifier:"$b:photoRollScreen"},j.ReactBEM.createElement("div",{bem:b,ref:"root",onClick:this._onBarClick},j.ReactBEM.createElement("div",{bem:"e:content"},j.ReactBEM.createElement("div",{bem:"$e:icon"},j.ReactBEM.createElement("img",{src:c,bem:"e:image"})),j.ReactBEM.createElement("div",{bem:"e:inputContainer"},j.ReactBEM.createElement("input",{bem:"e:input",ref:"input",placeholder:this.state.placeholder,onBlur:this._onBlur,onFocus:this._onFocus,onChange:this._onChange,defaultValue:this.state.value||this.props.searchQuery,style:d})))))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(72),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._needsStyleFixes=!0,h._modifier="photoRoll",h}return(0,i.default)(b,a),b.prototype.fixStyles=function(){if(j.Utils.Browser.isIElte(11)){var b=this.refs,c=b.cell,d=b.overlay,e=c.offsetHeight;d.style.height=e+"px"}},b.prototype._renderContent=function(){var b={backgroundImage:"url("+this._getAssetPath("splash/photo-roll.png",!0,!0)+")"};return j.ReactBEM.createElement("div",{bem:"e:contentWrapper"},j.ReactBEM.createElement("div",{bem:"e:contentRow"},j.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:b,ref:"cell"},j.ReactBEM.createElement("div",{bem:"e:overlay",ref:"overlay"}),j.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.photoRoll.headline")),j.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.photoRoll.description")))))},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=s(d),f=c(2),g=s(f),h=c(1),i=s(h),j=c(3),k=c(42),l=s(k),m=c(246),n=s(m),o=c(247),p=s(o),q=c(244),r=s(q),t=function(a){function b(){(0,e.default)(this,b);var c=(0,g.default)(this,a.call(this));return c._bindAll("_onWebcamClick","_onPhotoRollClick","_onImage"),c}return(0,i.default)(b,a),b.prototype._onPhotoRollClick=function(){this.props.app.switchToScreen("photoRoll")},b.prototype._onWebcamClick=function(){this.props.app.switchToScreen("webcam")},b.prototype._onImage=function(b){this.props.app.setImage(b)},b.prototype._isWebcamAvailable=function(){return!j.Utils.isMobile()&&this.context.options.enableWebcam!==!1},b.prototype._isPhotoRollAvailable=function(){return!!this.context.options.photoRoll.provider},b.prototype._renderScreen=function(){var b=[],c=0,d=this.context.options.enableUpload;d&&c++;var e=this._isWebcamAvailable();e&&c++;var f=this._isPhotoRollAvailable();return f&&c++,d&&b.push(j.ReactBEM.createElement(n.default,{onImage:this._onImage,totalRows:c})),e&&b.push(j.ReactBEM.createElement(p.default,{onClick:this._onWebcamClick,totalRows:c})),f&&b.push(j.ReactBEM.createElement(r.default,{onClick:this._onPhotoRollClick,totalRows:c})),j.ReactBEM.createElement("div",{bem:"$b:splashScreen"},j.ReactBEM.createElement("div",{bem:"e:container"},b))},b}(l.default);b.default=t,t.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(44),e=s(d),f=c(0),g=s(f),h=c(2),i=s(h),j=c(1),k=s(j),l=c(3),m=c(72),n=s(m),o=c(177),p=s(o),q=c(73),r=s(q),t=function(a){function b(){(0,g.default)(this,b);var c=(0,i.default)(this,a.call(this));return c._modifier="upload",c._bindAll("_onImage","_onDragEnter","_onDragOver","_onDragLeave","_onDrop"),c._dragCounter=0,c.state={dragAreaHovered:!1},c}return(0,k.default)(b,a),b.prototype._onDragEnter=function(b){b.preventDefault(),this._dragCounter++,this.setState({dragAreaHovered:!0})},b.prototype._onDragOver=function(b){b.preventDefault()},b.prototype._onDragLeave=function(b){b.preventDefault(),this._dragCounter--,0===this._dragCounter&&this.setState({dragAreaHovered:!1})},b.prototype._onDrop=function(b){var c=this;b.stopPropagation(),b.preventDefault(),b=b.nativeEvent,b.returnValue=!1,this.setState({dragAreaHovered:!1},function(){b.dataTransfer&&c._handleFile(b.dataTransfer.files[0])})},b.prototype._onClick=function(b){this.refs.upload.open()},b.prototype._handleFile=function(b){var c=this,d=new window.FileReader;d.onload=function(){return function(a){var b=a.target.result,d=new window.Image;d.addEventListener("load",function(){c._onImage(d)}),d.src=b}}(b),d.readAsDataURL(b)},b.prototype._onImage=function(b){this.props.onImage&&this.props.onImage(b)},b.prototype._renderContent=function(){var b={onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop};this.state.dragAreaHovered&&(b.className="is-hovered");var c="e:contentCell";return this.context.options.enableWebcam===!1&&null===this.context.options.photoRoll.provider||(c+=" m:withBorder"),l.ReactBEM.createElement("div",{bem:"e:contentWrapper"},l.ReactBEM.createElement("div",{bem:"e:contentRow"},l.ReactBEM.createElement("div",(0,e.default)({bem:c,onClick:this._onClick},b),l.ReactBEM.createElement(r.default,{ref:"upload",onNewFile:this._onImage}),l.ReactBEM.createElement(p.default,{bem:"e:button",uppercase:!0},this._t("splash.upload.button")),l.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.upload.description")))))},b}(n.default);b.default=t,t.propTypes={onImage:l.React.PropTypes.func.isRequired},t.contextTypes=n.default.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(72),l=m(k),n=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._needsStyleFixes=!0,h._modifier="webcam",h}return(0,i.default)(b,a),b.prototype.fixStyles=function(){if(j.Utils.Browser.isIElte(11)){var b=this.refs,c=b.cell,d=b.overlay,e=c.offsetHeight;d.style.height=e+"px"}},b.prototype._renderContent=function(){var b={backgroundImage:"url("+this._getAssetPath("splash/webcam.jpg",!0,!0)+")"};return j.ReactBEM.createElement("div",{bem:"e:contentWrapper"},j.ReactBEM.createElement("div",{bem:"e:contentRow"},j.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:b,ref:"cell"},j.ReactBEM.createElement("div",{bem:"e:overlay",ref:"overlay"}),j.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.webcam.headline")),j.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.webcam.description")))))},b}(l.default);b.default=n,n.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=m(d),f=c(2),g=m(f),h=c(1),i=m(h),j=c(3),k=c(20),l=m(k),n=function(a){function b(){(0,e.default)(this,b);var c=(0,g.default)(this,a.call(this));return c._bindAll("_onWebcamReady"),c.state={webcamReady:!1},c}return(0,i.default)(b,a),b.prototype.shouldComponentUpdate=function(b,c){return!1},b.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this);var c=this.refs.video;if(this._stream){var d=this._stream.getTracks()[0];d&&d.stop(),this._stream.stop&&this._stream.stop()}c.pause()},b.prototype.componentDidMount=function(){this._resizeVideo(),this._initVideoStream()},b.prototype._onWebcamReady=function(){this.props.onReady&&this.props.onReady(),this.setState({webcamReady:!0})},b.prototype.makePhoto=function(){if(!this.state.webcamReady)return j.Promise.reject(new Error("UserMedia stream not ready"));var b=this.refs.video;return new j.Promise(function(a,c){var d=document.createElement("canvas");d.width=b.videoWidth,d.height=b.videoHeight;var e=d.getContext("2d");e.drawImage(b,0,0);var f=new window.Image;f.addEventListener("load",function(){a(f)}),f.src=d.toDataURL("image/png")})},b.prototype._resizeVideo=function(){var b=this.refs,c=b.video,d=b.container,e=j.Utils.getInnerDimensionsForElement(d);c.width=e.x,c.height=e.y},b.prototype._initVideoStream=function(){var b=this,c=this.refs.video,d=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!d){var e=l.default.instance.displayError(this._t("errors.webcamNotSupported.title"),this._t("errors.webcamNotSupported.text"));return void e.on("close",function(){return b.props.onBack()})}d.call(navigator,{video:!0},function(a){b._stream=a,c.onloadedmetadata=b._onWebcamReady,c.src=window.URL.createObjectURL(a)},function(a){console.error&&console.error(a);var c=l.default.instance.displayError(b._t("errors.webcamUnavailable.title"),b._t("errors.webcamUnavailable.text",{error:a.name}),!0);c.on("close",function(){return b.props.onBack()})})},b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("div",{bem:"$b:webcam",ref:"container"},j.ReactBEM.createElement("video",{bem:"e:video",ref:"video",autoPlay:!0}))},b}(j.BaseComponent);b.default=n,n.propTypes={onReady:j.React.PropTypes.func},n.contextTypes=j.BaseComponent.contextTypes},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=q(d),f=c(2),g=q(f),h=c(1),i=q(h),j=c(3),k=c(42),l=q(k),m=c(75),n=q(m),o=c(248),p=q(o),r=function(a){function b(){(0,e.default)(this,b);var c=(0,g.default)(this,a.call(this));return c._bindAll("_onCancel","_onWebcamReady","_onShutterClicked"),c.state={webcamReady:!1},c}return(0,i.default)(b,a),b.prototype._onWebcamReady=function(){this.setState({webcamReady:!0})},b.prototype._onCancel=function(){this.props.app.switchToScreen("back")},b.prototype._onShutterClicked=function(){var b=this,c=this.refs.webcam;c.makePhoto().then(function(a){b.props.app.setImage(a)}).catch(function(a){console.error&&console.error(a)})},b.prototype._renderScreen=function(){return j.ReactBEM.createElement("div",{bem:"$b:webcamScreen"},j.ReactBEM.createElement(n.default,{label:this._t("webcam.headline")},j.ReactBEM.createElement("bem",{specifier:"$b:topBar"},j.ReactBEM.createElement("div",{bem:"e:cancelButton",onClick:this._onCancel},this._t("generic.cancel")),j.ReactBEM.createElement("div",{bem:"e:label"},this._t("webcam.headline")))),j.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},j.ReactBEM.createElement("div",{bem:"e:container e:cell"},j.ReactBEM.createElement(p.default,{ref:"webcam",onReady:this._onWebcamReady,onBack:this._onCancel}))),j.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},j.ReactBEM.createElement("div",{bem:"e:cell"},j.ReactBEM.createElement("bem",{specifier:"b:webcamScreen"},j.ReactBEM.createElement("div",{bem:"$e:shutterButton",onClick:this._onShutterClicked,className:!!this.state.webcamReady&&"is-active"},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/webcam/shutter.png",!0)}))))))},b}(l.default);b.default=r,r.contextTypes=l.default.contextTypes},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(){return(0,e.default)(this,b),(0,g.default)(this,a.apply(this,arguments))}return(0,i.default)(b,a),b.prototype.renderWithBEM=function(){return j.ReactBEM.createElement("bem",{specifier:"$b:topBar"},j.ReactBEM.createElement("div",{bem:"$e:backButton",onClick:this.props.onClick},j.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("top-bar/back.png",!0)}),j.ReactBEM.createElement("div",{bem:"e:label"},this.props.label)))},b}(j.BaseComponent);b.default=l,l.contextTypes=j.BaseComponent.contextTypes},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={EVENTS:{RENDER:"render",EXPORT:"export",CLOSE:"close",ZOOM:"zoom",ZOOM_DONE:"zoom:done",ZOOM_UNDO:"zoom:undo",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",COLORPICKER_OPEN:"colorpicker:open",HISTORY_UPDATED:"history:update",HISTORY_UNDO:"history:undo",WINDOW_RESIZE:"window:resize",CONTROLS_SWITCHED:"controls:switched"},DEFAULTS:{TEXT:"Double-click to edit",CROP_RATIOS:[{name:"custom",ratio:"*",selected:!0},{name:"square",ratio:1},{name:"4-3",ratio:1.33},{name:"16-9",ratio:1.77}],FONTS:[{name:"helvetica",fontFamily:"Helvetica",fontWeight:"normal"},{name:"verdana",fontFamily:"Verdana",fontWeight:"normal"},{name:"timesnewroman",fontFamily:"Times New Roman",fontWeight:"normal"},{name:"impact",fontFamily:"Impact",fontWeight:"normal",default:!0}],STICKER_CATEGORIES:[{name:"glasses",label:"Glasses",stickers:[{name:"glasses-nerd",label:"Nerd glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-nerd.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-nerd.png",width:221,height:91}}},{name:"glasses-normal",label:"Normal glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-normal.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-normal.png",width:249,height:87}}},{name:"glasses-shutter-green",label:"Green shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-green.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-green.png",width:235,height:89}}},{name:"glasses-shutter-yellow",label:"Yellow shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-yellow.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-yellow.png",width:236,height:89}}},{name:"glasses-sun",label:"Sun glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-sun.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-sun.png",width:250,height:87}}}]},{name:"hats",label:"Hats",stickers:[{name:"hat-cap",label:"Cap",images:{mediaThumb:{uri:"stickers/thumb/hat-cap.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cap.png",width:237,height:189}}},{name:"hat-cylinder",label:"Cylinder",images:{mediaThumb:{uri:"stickers/thumb/hat-cylinder.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cylinder.png",width:225,height:176}}},{name:"hat-party",label:"Party hat",images:{mediaThumb:{uri:"stickers/thumb/hat-party.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-party.png",width:140,height:226}}},{name:"hat-sheriff",label:"Sheriff hat",images:{mediaThumb:{uri:"stickers/thumb/hat-sheriff.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-sheriff.png",width:251,height:129}}}]},{name:"beards",label:"Beards",stickers:[{name:"mustache-long",label:"Long mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache-long.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache-long.png",width:199,height:182}}},{name:"mustache1",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache1.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache1.png",width:238,height:106}}},{name:"mustache2",label:"Black mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache2.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache2.png",width:250,height:82}}},{name:"mustache3",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache3.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache3.png",width:250,height:94}}}]},{name:"misc",label:"Misc",stickers:[{name:"heart",label:"Heart",images:{mediaThumb:{uri:"stickers/thumb/heart.png",width:100,height:100},mediaBase:{uri:"stickers/base/heart.png",width:185,height:174}}},{name:"pipe",label:"Pipe",images:{mediaThumb:{uri:"stickers/thumb/pipe.png",width:100,height:100},mediaBase:{uri:"stickers/base/pipe.png",width:240,height:112}}},{name:"snowflake",label:"Snow flake",images:{mediaThumb:{uri:"stickers/thumb/snowflake.png",width:100,height:100},mediaBase:{uri:"stickers/base/snowflake.png",width:204,height:171}}},{name:"star",label:"Star",images:{mediaThumb:{uri:"stickers/thumb/star.png",width:100,height:100},mediaBase:{uri:"stickers/base/star.png",width:201,height:191}}}]}]}}},function(a,b,c){"use strict";function q(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function r(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=r(d),f=c(2),g=r(f),h=c(1),i=r(h),j=c(3),k=c(204),l=q(k),m=c(253),n=r(m),o=c(256),p=r(o),s=300,t=function(a){function b(c,d){(0,e.default)(this,b);var f=(0,g.default)(this,a.call(this));return f._options=c,f._mediator=d,f._isDefaultZoom=!1,f._ready=!1,f._initSDK(),f._initOperations(),f._initControls(),f._features={drag:!0,zoom:!0},f._history=[],f._operationsMap={},f._operationsStack=f._sdk.getOperationsStack(),f._preferredOperationOrder=f._options.editor.operationsOrder,f._running=!1,f._renderRequested=!0,f._renderCallbacks=[],f._animationFrameRequest=null,f._previousZoom=null,f.setZoom=f.setZoom.bind(f),f.undoZoom=f.undoZoom.bind(f),f.render=f.render.bind(f),f._tick=f._tick.bind(f),f._mediator.on(j.Constants.EVENTS.RENDER,f.render),f._mediator.on(j.Constants.EVENTS.ZOOM,f.setZoom),f._mediator.on(j.Constants.EVENTS.ZOOM_UNDO,f.undoZoom),f._fixOperationsStack(),f._initWatermark(),f}return(0,i.default)(b,a),b.prototype.setImage=function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?this._options.editor.image:arguments[0],d=arguments.length<=1||void 0===arguments[1]||arguments[1],e=this._sdk.getRenderer(),f=new j.Vector2(c.width,c.height),g=1e6*this.getMaxMegapixels(),h=e.getMaxDimensions();d&&this.reset();var i=new p.default(c,g,h),k=null,l=function(c){var d=arguments.length<=1||void 0===arguments[1]?f:arguments[1];arguments.length<=2||void 0===arguments[2]?null:arguments[2];b._setImage(c,k,d),b._ready=!0,b.emit("ready")};i.needsResize()?(this.emit("resize"),k=this._sdk.parseExif(c),i.resize().then(function(a){var c=a.canvas,d=a.dimensions,e=a.reason;c.src="data:image/jpeg;base64,",b.emit("resized",{dimensions:d,reason:e}),l(c,d,e)})):l(c)},b.prototype._initWatermark=function(){this._options.watermark&&(this._watermarkOperation=this.getOrCreateOperation("watermark",{image:this._options.watermark}))},b.prototype._initSDK=function(){var b=this._options,c=b.logLevel,d=b.displayWelcomeMessage,e=b.debug,f=this._options.editor,g=f.smoothDownscaling,h=f.preferredRenderer,i=f.pixelRatio,k={logLevel:c,debug:e,displayWelcomeMessage:d,pixelRatio:i,smoothDownscaling:g,transparent:!0};this._sdk=new j.SDK(h,k),window.sdk=this._sdk},b.prototype._initOperations=function(){this._availableOperations=this._sdk.getOperations()},b.prototype._fixOperationsStack=function(){var b=this,c=this._operationsStack.getStack().slice();this._operationsStack.clear(),c.forEach(function(a){b.addOperation(a)})},b.prototype._initControls=function(){this._availableControls=j.SDKUtils.extend({},l,this._options.extensions.controls)},b.prototype.isFeatureEnabled=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1),d=this._options.editor["enable"+c];return this._features[b]&&d},b.prototype.enableFeatures=function(){for(var b=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(a){b._features[a]=!0}),this._mediator.emit(j.Constants.EVENTS.FEATURES_ENABLED,d),this._mediator.emit(j.Constants.EVENTS.FEATURES_UPDATED,d)},b.prototype.disableFeatures=function(){for(var b=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(a){b._features[a]=!1}),this._mediator.emit(j.Constants.EVENTS.FEATURES_DISABLED,d),this._mediator.emit(j.Constants.EVENTS.FEATURES_UPDATED,d)},b.prototype.zoomIn=function(){var b=this._sdk.getZoom();this.setZoom(b+.1)},b.prototype.zoomOut=function(){var b=this._sdk.getZoom();this.setZoom(b-.1)},b.prototype.undoZoom=function(){this._previousZoom&&(this.setZoom(this._previousZoom),this._previousZoom=null)},b.prototype.getZoom=function(){return this._sdk.getZoom()},b.prototype.setZoom=function(b,c){var d=this;if(this._ready){this._previousZoom=this._sdk.getZoom();var e=b,f=this.getDefaultZoom();"auto"===b||e===f?(e=f,b="auto",this._isDefaultZoom=!0):this._isDefaultZoom=!1;var g=Math.max(1,2*f),h=this.getMinimumZoom();e=Math.max(h,Math.min(g,e)),this._sdk.setZoom(e),this.fixOffset(),this.render(function(){d._mediator.emit(j.Constants.EVENTS.ZOOM_DONE),c&&c()})}},b.prototype.getDefaultZoom=function(){var b=this.getFinalDimensions(),c=this.getCanvasDimensions(),d=j.SDKUtils.resizeVectorToFit(b,c);return d.divide(b).x},b.prototype.getMinimumZoom=function(){var b=this.getFinalDimensions(),c=j.SDKUtils.resizeVectorToFit(b,new j.Vector2(s,s));return c.divide(b).x},b.prototype.historyAvailable=function(){return!!this._history.length},b.prototype.undo=function(){var b=this._history.pop();if(b){var c=b.operation,d=b.existent,e=b.options;d?(c=this.getOrCreateOperation(c.constructor.identifier),c.set(e),this._mediator.emit(j.Constants.EVENTS.OPERATION_UPDATED,c)):this.removeOperation(c),this._mediator.emit(j.Constants.EVENTS.HISTORY_UPDATED,c),this._mediator.emit(j.Constants.EVENTS.HISTORY_UNDO,c),this.render()}},b.prototype.addHistory=function(b,c,d){var e={operation:b,options:c,existent:d};return this._history.push(e),this._mediator.emit(j.Constants.EVENTS.HISTORY_UPDATED,b),e},b.prototype.isControlEnabled=function(b){var c=this.getControl(b);return c?c.isAvailable&&c.isAvailable(this):(j.Log.info(this.constructor.name,"#isControlEnabled: Unknown control: "+b),!1)},b.prototype.getControl=function(b){return this._availableControls[b]},b.prototype.getAvailableControls=function(){return this._availableControls},b.prototype.isToolEnabled=function(b){return this._options.editor.tools.indexOf(b)!==-1},b.prototype.getOrCreateOperation=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(this._operationsMap[b])return this._operationsMap[b];var d=this._availableOperations[b],e=new d(this._sdk,c);return this.addOperation(e),e},b.prototype.addOperation=function(b){var c=this,d=b.constructor.identifier;b.on("updated",function(){c._mediator.emit(j.Constants.EVENTS.OPERATION_UPDATED,b)});var e=this._preferredOperationOrder.indexOf(d);if(e===-1)throw new Error("Editor#addOperation: `"+d+"` does not appear in `preferredOperationOrder`");this._operationsStack.set(e,b),this._operationsMap[d]=b,this._mediator.emit(j.Constants.EVENTS.OPERATION_CREATED,b)},b.prototype.removeOperation=function(b){var c=b.constructor.identifier,d=this._operationsStack.getStack();this._operationsMap[c]===b&&delete this._operationsMap[c];var e=d.indexOf(b);if(e!==-1){this._operationsStack.removeAt(e);for(var f=e+1;f<d.length;f++){var g=d[f];g&&g.setDirty(!0)}this._mediator.emit(j.Constants.EVENTS.OPERATION_REMOVED,b)}},b.prototype.getOperation=function(b){return this._operationsMap[b]},b.prototype.operationExists=function(b){return!!this._operationsMap[b]},b.prototype.getMaxMegapixels=function(){var b=this._options.editor.maxMegaPixels;return j.Utils.isMobile()?b.mobile:b.desktop},b.prototype.getOutputDimensions=function(){return this._sdk.getOutputDimensions()},b.prototype.getFinalDimensions=function(){return this._sdk.getFinalDimensions()},b.prototype.getCanvasDimensions=function(){var b=this._sdk.getCanvas();return new j.Vector2(b.offsetWidth,b.offsetHeight)},b.prototype._setImage=function(){var b=arguments.length<=0||void 0===arguments[0]?this._options.image:arguments[0],c=arguments.length<=1||void 0===arguments[1]?null:arguments[1],d=arguments.length<=2||void 0===arguments[2]?null:arguments[2];this._sdk.setAllOperationsToDirty(),this._options.editor.image=b,this._sdk.setImage(b,c,d),this.setZoom("auto"),this.emit("new-image")},b.prototype.export=function(){var b=this,c=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty();var d=this._options.editor.export,e=new n.default(this._sdk,d,c);return e.export().then(function(a){return b.emit("export",a),b._mediator.emit(j.Constants.EVENTS.EXPORT,a,b),b._watermarkOperation&&b._watermarkOperation.setEnabled(!0),b._sdk.setAllOperationsToDirty(),a})},b.prototype.start=function(){this.setZoom("auto"),this._animationFrameRequest=(0,j.requestAnimationFrame)(this._tick)},b.prototype.stop=function(){this._running=!1,this._animationFrameRequest&&((0,j.cancelAnimationFrame)(this._animationFrameRequest),this._renderCallbacks=[])},b.prototype.render=function(b){this._renderRequested=!0,b&&this._renderCallbacks.push(b)},b.prototype.setOffset=function(b){b=this._clampOffset(b),this._sdk.setOffset(b)},b.prototype.getOffset=function(){return this._sdk.getOffset()},b.prototype.fixOffset=function(){this.setOffset(this._sdk.getOffset())},b.prototype._clampOffset=function(b){var c=this._sdk.getRenderer(),d=new j.Vector2(c.getWidth(),c.getHeight()),e=this._sdk.getOutputDimensions(),f=d.clone().subtract(e).divide(2).clamp(null,new j.Vector2(0,0)),g=e.clone().subtract(d).divide(2).clamp(new j.Vector2(0,0),null),h=b.clone().clamp(f,g).round();return h},b.prototype._tick=function(){var b=this;this._renderRequested?!function(){var a=b._renderCallbacks.slice(0);b._renderCallbacks=[],b._render().then(function(){a.forEach(function(a){return a()}),b._animationFrameRequest=(0,j.requestAnimationFrame)(b._tick)}),b._renderRequested=!1}():this._animationFrameRequest=(0,j.requestAnimationFrame)(this._tick)},b.prototype._render=function(){var b=this;return this._ready?this._sdk.render().then(function(){b._lastOutputBounds=b._sdk.getSprite().getBounds()}).catch(function(a){b.emit("render-error",a)}):j.Promise.resolve()},b.prototype.reset=function(){this._sdk.reset(),this._history=[],this._operationsMap={}},b.prototype.dispose=function(){this.stop(),this._sdk.dispose(),this._mediator.off(j.Constants.EVENTS.RENDER,this.render),this._mediator.off(j.Constants.EVENTS.ZOOM,this.setZoom),this._mediator.off(j.Constants.EVENTS.ZOOM_UNDO,this.undoZoom)},b.prototype.isReady=function(){return this._ready},b.prototype.getRenderer=function(){return this._sdk.getRenderer()},b.prototype.getSDK=function(){return this._sdk},b.prototype.isDefaultZoom=function(){return this._isDefaultZoom},b.prototype.getInputDimensions=function(){return this._sdk.getInputDimensions()},b.prototype.getOperationsStack=function(){return this._operationsStack},b}(j.EventEmitter);b.default=t},function(a,b,c){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=i(d),f=c(3),g=c(254),h=i(g),j=function(){function a(b,c,d){(0,e.default)(this,a),this._sdk=b,this._options=c,this._download=d}return a.prototype.export=function(){var b=this,c=this._getRenderType();return this._sdk.export(c,this._options.format).then(function(a){return b._download&&b._downloadData(c,a),a})},a.prototype._downloadData=function(b,c){switch(b){case f.RenderType.DATAURL:h.default.downloadDataURL(c);break;case f.RenderType.MSBLOB:h.default.downloadMSBlob(c)}},a.prototype._getRenderType=function(){var b=this._options;return b.type===f.RenderType.IMAGE&&this._download?f.Utils.supportsMSBlob()?f.RenderType.MSBLOB:f.RenderType.DATAURL:b.type},a}();b.default=j},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=g(d),f=c(3),h=function(){function a(){(0,e.default)(this,a)}return a.downloadDataURL=function(b){var c=arguments.length<=1||void 0===arguments[1]?"photoeditorsdk-export":arguments[1],d=this.createBlobURLFromDataURL(b),e=this.getExtensionFromDataURL(b),f=document.createElement("a");f.download=c+"."+e,f.href=d,document.body.appendChild(f),f.click(),document.body.removeChild(f)},a.downloadMSBlob=function(b){var c=arguments.length<=1||void 0===arguments[1]?"photoeditorsdk-export":arguments[1];navigator.msSaveBlob(b,c+".png")},a.getExtensionFromDataURL=function(b){var c=b.split(",")[0].split(":")[1].split(";")[0];return c.split("/").pop()},a.createBlobURLFromDataURL=function(b){if(!(window.Blob&&window.URL&&ArrayBuffer&&Uint8Array))return b;
for(var c=f.Base64.decode(b.split(",")[1]),d=b.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(c.length),g=new Uint8Array(e),h=0;h<c.length;h++)g[h]=c[h];var i=new window.Blob([e],{type:d});return window.URL.createObjectURL(i)},a}();b.default=h},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=k(d),f=c(2),g=k(f),h=c(1),i=k(h),j=c(3),l=function(a){function b(c){(0,e.default)(this,b);var d=(0,g.default)(this,a.call(this));return d._input=c,d._onFileChange=d._onFileChange.bind(d),d._input.addEventListener("change",d._onFileChange),d}return(0,i.default)(b,a),b.prototype.open=function(){this._input.value=null,this._input.click()},b.prototype._handleFile=function(b){var c=this,d=new window.FileReader;d.onload=function(){return function(a){var b=a.target.result,d=new window.Image;d.addEventListener("load",function(){c.emit("file",d)}),d.src=b}}(b),d.readAsDataURL(b)},b.prototype._onFileChange=function(){var b=this._input.files;b.length&&this._handleFile(b[0])},b.prototype.dispose=function(){this._input.removeEventListener("change",this._onFileChange)},b}(j.EventEmitter);b.default=l},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=g(d),f=c(3),h=function(){function a(b,c,d){(0,e.default)(this,a),this._image=b,this._maxPixels=c,this._maxDimensions=d}return a.prototype.needsResize=function(){var b=new f.Vector2(this._image.width,this._image.height),c=b.x*b.y,d=c>this._maxPixels,e=null!==this._maxDimensions&&(b.x>this._maxDimensions||b.y>this._maxDimensions);return d||e},a.prototype.resize=function(){var b=this,c=null,d=null,e=this._maxDimensions;return new f.Promise(function(a,g){window.setTimeout(function(){var g=new f.Vector2(b._image.width,b._image.height),h=g.clone();if(h.x*h.y>b._maxPixels&&(h.copy(b._getDimensionsByMaxPixels()),c="maxMegaPixels"),null!==e&&(h.x>e||h.y>e)){var i=Math.min(e/h.x,e/h.y);h.multiply(i),c="maxDimensions"}h.floor(),d=b._createResizedImageCanvas(h),a({canvas:d,dimensions:h,reason:c})},1e3)})},a.prototype._createResizedImageCanvas=function(b){var c=arguments.length<=1||void 0===arguments[1]?b:arguments[1],d=this._image,e=document.createElement("canvas");e.width=b.x,e.height=b.y;var f=b.clone().subtract(c).divide(2),g=e.getContext("2d");return g.drawImage(d,0,0,d.width,d.height,f.x,f.y,c.x,c.y),e},a.prototype._getDimensionsByMaxPixels=function(){var b=this._image,c=this._maxPixels,d=b.width/b.height,e=b.height/b.width;return new f.Vector2(Math.sqrt(c*d),Math.sqrt(c*e)).floor()},a}();b.default=h},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=f(d),g=function a(b){(0,e.default)(this,a),this.name=b.name,this.coverImage=b.coverImage};b.default=g},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=f(d),g=function a(b,c){(0,e.default)(this,a),this.library=b,this.title=c.title,this.urls=c.urls};b.default=g},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=g(d),f=c(3),h=function(){function a(){(0,e.default)(this,a)}return a.prototype.getLibraries=function(){return f.Log.warn(this.constructor.name,"`getLibraries` is abstract and not implemented."),f.Promise.resolve([])},a.prototype.getSearchSuggestions=function(){return f.Log.warn(this.constructor.name,"`getSearchSuggestions` is abstract and not implemented."),f.Promise.resolve([])},a.prototype.getPhotosForLibrary=function(b){return f.Log.warn(this.constructor.name,"`getPhotosForLibrary` is abstract and not implemented."),f.Promise.resolve([])},a.prototype.searchPhotos=function(b){return f.Log.warn(this.constructor.name,"`searchPhotos` is abstract and not implemented."),f.Promise.resolve([])},a}();b.default=h},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=f(d),g=function a(b){(0,e.default)(this,a),this.query=b.query,this.name=this.query,this.coverImage=b.coverImage};b.default=g},function(a,b,c){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(52),e=n(d),f=c(0),g=n(f),h=c(2),i=n(h),j=c(1),k=n(j),l=c(67),m=n(l),o=m.default.EventEmitter,p=m.default.Utils,q=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,g.default)(this,b);var d=(0,i.default)(this,a.call(this));return d._state=c,d}return(0,k.default)(b,a),b.prototype.set=function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=arguments.length<=1||void 0===arguments[1]||arguments[1];"object"!==("undefined"==typeof b?"undefined":(0,e.default)(b))&&console&&console.warn("SharedState#set expects an object as first parameter"),this._state=p.extend(this._state,b),c&&this.broadcastUpdate(b)},b.prototype.get=function(b){return this._state[b]},b.prototype.broadcastUpdate=function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.emit("update",b)},b.prototype.clear=function(){this._state={}},b}(o);b.default=q},function(a,b,c){"use strict";function l(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var d=c(67),e=l(d),f=c(119),g=l(f),h=c(263),i=l(h),j=c(111),k=l(j),m=e.default.Math.Vector2,n={getInnerDimensionsForElement:function(b){var c=new m(b.offsetWidth,b.offsetHeight),d=window.getComputedStyle(b,null);return c.x-=parseInt(d.getPropertyValue("padding-left"),10),c.x-=parseInt(d.getPropertyValue("padding-right"),10),c.y-=parseInt(d.getPropertyValue("padding-top"),10),c.y-=parseInt(d.getPropertyValue("padding-bottom"),10),c},getEventPosition:function(b){var c=b.clientX,d=b.clientY;return b.type.indexOf("touch")!==-1&&(c=b.touches[0].clientX,d=b.touches[0].clientY),new m(c,d)},createTransparentPatternCanvas:function(){var b=document.createElement("canvas"),c=b.getContext("2d");return b.width=10,b.height=10,c.fillStyle="white",c.fillRect(0,0,b.width,b.height),c.fillStyle="#cccccc",c.fillRect(0,0,b.width/2,b.height/2),c.fillRect(b.width/2,b.height/2,b.width,b.height),b},supportsMSBlob:function(){var b=document.createElement("canvas");return"undefined"!=typeof b.msToBlob},translate:function(b,c){var d=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e=this.fetch(b,c);if(!e)return g.default.warn("Utils#translate","Unable to translate `"+c+"`"),c;for(var f in d)e=e.replace("${"+f+"}",d[f]);return e},fetch:function(b,c,d){c=c.replace(/\[(\w+)\]/g,".$1"),c=c.replace(/^\./,"");for(var e=c.split("."),f=0;f<e.length;f++){var g=e[f];if(b=b[g],!b)break}return"undefined"!=typeof b&&b},isMobile:function(){var b=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))},select:function(b,c){var d=arguments.length<=2||void 0===arguments[2]?null:arguments[2];d||(d=function(b){return b});var e=[];return c.forEach(function(a){b.forEach(function(b){var c=d(b);c===a&&e.push(b)})}),e},getJSONP:function(b){var c=new k.default(b);return c.load()},mergeCategories:function(b,c,d){b=b.slice(0);var e=null;return c.forEach(function(a){b.forEach(function(b){a.name===b.name&&(e=b)}),e?e[d]=e[d].concat(a[d]):b.push(a)}),b},getStyleObject:function(b){var c=window.getComputedStyle(b),d={};for(var e in c){var f=c.getPropertyValue(e),g=e.replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});""!==f&&(d[g]=f)}return d},debounce:function(b,c,d){var e;return function(){var a=this,f=arguments,g=function(){e=null,d||b.apply(a,f)},h=d&&!e;clearTimeout(e),e=setTimeout(g,c),h&&b.apply(this,f)}},Browser:i.default};b.default=n},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={getIEVersion:function(){var b=navigator,c=b.userAgent,d=b.appVersion;return d.indexOf("MSIE")!==-1?d.match(/MSIE\s+?([0-9]+)/i)[1]:c.indexOf("Trident")!==-1&&c.match(/rv:([0-9]+)/i)[1]},isIE10:function(){var b=this.getIEVersion();return b!==!1&&10===b},isIE11:function(){var b=this.getIEVersion();return b!==!1&&11===b},isIElte:function(b){var c=this.getIEVersion();return c!==!1&&c<=b}}},function(a,b,c){"use strict";function y(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function z(a){return a&&a.__esModule?a:{default:a}}var d=c(0),e=z(d),f=c(2),g=z(f),h=c(1),i=z(h),j=c(3),k=c(171),l=z(k),m=c(14),n=z(m),o=c(11),p=z(o),q=c(20),r=z(q),s=c(111),t=z(s),u=c(172),v=y(u),w=c(12),x=z(w),A=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,e.default)(this,b);var d=(0,g.default)(this,a.call(this));return d._mediator=new j.EventEmitter,d._options=c,d._initOptions(),d._initLanguage(),d._initEvents(),d._disposed=!1,d.run(),d}return(0,i.default)(b,a),b.prototype.run=function(){this._registerWebFonts(),this._options.container.style.position="relative",this._render()},b.prototype._render=function(){var b=j.React.createElement(l.default,{ui:this,mediator:this._mediator,options:this._options});return this._options.renderReturnsComponent?b:void(this._component=j.ReactDOM.render(b,this._options.container))},b.prototype.export=function(){var b;return(b=this._component).export.apply(b,arguments)},b.prototype._initOptions=function(){this._options=j.SDKUtils.defaults(this._options,{language:"en",title:"online-fotoshop.ru",editor:{},assets:{},photoRoll:{},enableUpload:!0,enableWebcam:!0,showCloseButton:!1,showHeader:!0,showTopBar:!0,responsive:!0}),this._options.editor=j.SDKUtils.defaults(this._options.editor||{},{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,preferredRenderer:"webgl",enableZoom:!0,enableDrag:!0,smoothDownscaling:!1,maxMegaPixels:{},tools:["crop","rotation","flip","filter","brightness","saturation","contrast","clarity","exposure","shadows","highlights","text","sticker","brush","radial-focus","linear-focus","border"],controlsOrder:[["crop","orientation"],["filter","adjustments"],["text","sticker","brush"],["focus","border"]],operationsOrder:["exif-orientation","orientation","crop","filter","adjustments","radial-focus","linear-focus","sprite","border","watermark"],controlsOptions:{}}),this._options.editor.maxMegaPixels=j.SDKUtils.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor.export=j.SDKUtils.defaults(this._options.editor.export||{},{showButton:!0,format:"image/png",type:j.RenderType.IMAGE,download:!0}),this._options.photoRoll=j.SDKUtils.defaults(this._options.photoRoll||{},{provider:null}),this._options.extensions=j.SDKUtils.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]}),this._options.assets=j.SDKUtils.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null})},b.prototype._registerWebFonts=function(){var b=this.getAssetPath("fonts/montserrat-regular.woff",!0,!0),c=this.getAssetPath("fonts/montserrat-light.woff",!0,!0),d='\n      // Injected by PhotoEditorSDK\n      @font-face {\n        font-family: "__pesdk_Montserrat";\n        src: url(\''+b+"') format('woff');\n        font-weight: normal;\n        font-style: normal;\n      }\n\n      @font-face {\n        font-family: \"__pesdk_Montserrat\";\n        src: url('"+c+"') format('woff');\n        font-weight: 100;\n        font-style: normal;\n      }\n    ";this._webFontsStyle=document.createElement("style"),this._webFontsStyle.innerHTML=d;var e=document.getElementsByTagName("head")[0];e.appendChild(this._webFontsStyle)},b.prototype._initEvents=function(){this._mediator.pipeEvents(this)},b.prototype._disposeEvents=function(){this._mediator.unpipeEvents(this)},b.prototype._initLanguage=function(){this._languages=j.SDKUtils.deepDefaults(this._options.extensions.languages,{de:c(173),en:c(174)}),this._language=this._languages[this._options.language],this._language||j.Log.error(this.constructor.name,"Language `"+this._options.language+"` not found!")},b.prototype.translate=function(b,c){return j.Utils.translate(this._language,b,c)},b.prototype.setImage=function(b){this._component&&this._component.setImage(b)},b.prototype.getAssetPath=function(b){var c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],d=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],e=this._options.assets,f=e.baseUrl,g=e.resolver,h=f+"/"+b;if(c){if(!d){var i="undefined"!=typeof window&&window.devicePixelRatio||1;if(i>1){var j=/\.[\w\?=]+$/;b=b.replace(j,function(a){return"@2x"+a})}}h=f+"/ui/react/"+b}return"undefined"!=typeof g&&null!==g&&(h=g(h)),h},b.prototype.dispose=function(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0,this._webFontsStyle.parentNode.removeChild(this._webFontsStyle),j.ReactDOM.unmountComponentAtNode(this._options.container),this._disposeEvents()},b}(j.EventEmitter);A.prototype.identifier="react",A.BaseComponent=j.BaseComponent,A.Controls=x.default,A.ControlsComponent=p.default,A.React=j.React,A.ReactBEM=j.ReactBEM,A.SharedState=j.SharedState,A.Constants=j.Constants,A.Utils=j.Utils,A.ScrollbarComponent=n.default,A.ModalManager=r.default,A.JSONLoader=t.default,A.PhotoRoll=v;var B=function(a){function b(){(0,e.default)(this,b);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=(0,g.default)(this,a.call.apply(a,[this].concat(d)));return h._ui=new A(h.props),h}return(0,i.default)(b,a),b.prototype.render=function(){return this._ui.render()},b}(j.React.Component);A.ReactComponent=B,j.PhotoEditorSDK.UI=j.PhotoEditorSDK.UI||{},j.PhotoEditorSDK.UI.ReactUI=A,a.exports=A},function(a,b,c){"use strict";(function(a){Object.defineProperty(b,"__esModule",{value:!0});for(var c="undefined"==typeof window?a:window,d=c.requestAnimationFrame,e=c.cancelAnimationFrame,f=0,g=["ms","moz","webkit","o"],h=0;h<g.length&&!d;++h)b.requestAnimationFrame=d=c[g[h]+"RequestAnimationFrame"],b.cancelAnimationFrame=e=c[g[h]+"CancelAnimationFrame"]||c[g[h]+"CancelRequestAnimationFrame"];d||(b.requestAnimationFrame=d=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-f)),g=setTimeout(function(){b(d+e)},e);return f=d+e,g}),e||(b.cancelAnimationFrame=e=function(b){clearTimeout(b)}),b.requestAnimationFrame=d,b.cancelAnimationFrame=e}).call(b,c(170))},function(a,b,c){a.exports={default:c(276),__esModule:!0}},function(a,b,c){a.exports={default:c(277),__esModule:!0}},function(a,b,c){a.exports={default:c(278),__esModule:!0}},function(a,b,c){a.exports={default:c(279),__esModule:!0}},function(a,b,c){a.exports={default:c(280),__esModule:!0}},function(a,b,c){a.exports={default:c(282),__esModule:!0}},function(a,b,c){a.exports={default:c(283),__esModule:!0}},function(a,b,c){a.exports={default:c(284),__esModule:!0}},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(268),e=h(d),f=c(267),g=h(f);b.default=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var i,h=(0,g.default)(a);!(d=(i=h.next()).done)&&(c.push(i.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,e.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var d=c(266),e=f(d);b.default=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return(0,e.default)(a)}},function(a,b,c){c(55),c(308),a.exports=c(16).Array.from},function(a,b,c){c(91),c(55),a.exports=c(306)},function(a,b,c){c(91),c(55),a.exports=c(307)},function(a,b,c){c(310),a.exports=c(16).Object.assign},function(a,b,c){c(311);var d=c(16).Object;a.exports=function(b,c){return d.create(b,c)}},function(a,b,c){c(312);var d=c(16).Object;a.exports=function(b,c,e){return d.defineProperty(b,c,e)}},function(a,b,c){c(313),a.exports=c(16).Object.setPrototypeOf},function(a,b,c){c(315),c(314),c(316),c(317),a.exports=c(16).Symbol},function(a,b,c){c(55),c(91),a.exports=c(90).f("iterator")},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){a.exports=function(){}},function(a,b,c){var d=c(34),e=c(132),f=c(305);a.exports=function(a){return function(b,c,g){var k,h=d(b),i=e(h.length),j=f(g,i);if(a&&c!=c){for(;i>j;)if(k=h[j++],k!=k)return!0}else for(;i>j;j++)if((a||j in h)&&h[j]===c)return a||j||0;return!a&&-1}}},function(a,b,c){"use strict";var d=c(27),e=c(48);a.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},function(a,b,c){var d=c(47),e=c(82),f=c(53);a.exports=function(a){var b=d(a),c=e.f;if(c)for(var j,g=c(a),h=f.f,i=0;g.length>i;)h.call(a,j=g[i++])&&b.push(j);return b}},function(a,b,c){a.exports=c(26).document&&document.documentElement},function(a,b,c){var d=c(37),e=c(17)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){var d=c(76);a.exports=Array.isArray||function(b){return"Array"==d(b)}},function(a,b,c){var d=c(30);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},function(a,b,c){"use strict";var d=c(81),e=c(48),f=c(83),g={};c(36)(g,c(17)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){var d=c(17)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b){a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){var d=c(47),e=c(34);a.exports=function(a,b){for(var i,c=e(a),f=d(c),g=f.length,h=0;g>h;)if(c[i=f[h++]]===b)return i}},function(a,b,c){var d=c(54)("meta"),e=c(46),f=c(33),g=c(27).f,h=0,i=Object.isExtensible||function(){return!0},j=!c(45)(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=a.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},function(a,b,c){"use strict";var d=c(47),e=c(82),f=c(53),g=c(87),h=c(126),i=Object.assign;a.exports=!i||c(45)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(b,c){for(var i=g(b),j=arguments.length,k=1,l=e.f,m=f.f;j>k;)for(var r,n=h(arguments[k++]),o=l?d(n).concat(l(n)):d(n),p=o.length,q=0;p>q;)m.call(n,r=o[q++])&&(i[r]=n[r]);return i}:i},function(a,b,c){var d=c(27),e=c(30),f=c(47);a.exports=c(31)?Object.defineProperties:function(b,c){e(b);for(var j,g=f(c),h=g.length,i=0;h>i;)d.f(b,j=g[i++],c[j]);return b}},function(a,b,c){var d=c(34),e=c(129).f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};a.exports.f=function(b){return g&&"[object Window]"==f.call(b)?h(b):e(d(b))}},function(a,b,c){var d=c(33),e=c(87),f=c(84)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){var d=c(46),e=c(30),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(77)(Function.call,c(128).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(c,e){return f(c,e),b?c.__proto__=e:d(c,e),c}}({},!1):void 0),check:f}},function(a,b,c){var d=c(86),e=c(78);a.exports=function(a){return function(b,c){var i,j,f=String(e(b)),g=d(c),h=f.length;return g<0||g>=h?a?"":void 0:(i=f.charCodeAt(g),i<55296||i>56319||g+1===h||(j=f.charCodeAt(g+1))<56320||j>57343?a?f.charAt(g):i:a?f.slice(g,g+2):(i-55296<<10)+(j-56320)+65536)}}},function(a,b,c){var d=c(86),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},function(a,b,c){var d=c(30),e=c(133);a.exports=c(16).getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},function(a,b,c){var d=c(123),e=c(17)("iterator"),f=c(37);a.exports=c(16).isIterable=function(a){var b=Object(a);return void 0!==b[e]||"@@iterator"in b||f.hasOwnProperty(d(b))}},function(a,b,c){"use strict";var d=c(77),e=c(32),f=c(87),g=c(293),h=c(291),i=c(132),j=c(288),k=c(133);e(e.S+e.F*!c(295)(function(a){Array.from(a)}),"Array",{from:function(b){var q,r,s,t,c=f(b),e="function"==typeof this?this:Array,l=arguments.length,m=l>1?arguments[1]:void 0,n=void 0!==m,o=0,p=k(c);if(n&&(m=d(m,l>2?arguments[2]:void 0,2)),void 0==p||e==Array&&h(p))for(q=i(c.length),r=new e(q);q>o;o++)j(r,o,n?m(c[o],o):c[o]);else for(t=p.call(c),r=new e;!(s=t.next()).done;o++)j(r,o,n?g(t,m,[s.value,o],!0):s.value);return r.length=o,r}})},function(a,b,c){"use strict";var d=c(286),e=c(296),f=c(37),g=c(34);a.exports=c(127)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){var d=c(32);d(d.S+d.F,"Object",{assign:c(299)})},function(a,b,c){var d=c(32);d(d.S,"Object",{create:c(81)})},function(a,b,c){var d=c(32);d(d.S+d.F*!c(31),"Object",{defineProperty:c(27).f})},function(a,b,c){var d=c(32);d(d.S,"Object",{setPrototypeOf:c(303).set})},function(a,b){},function(a,b,c){"use strict";var d=c(26),e=c(33),f=c(31),g=c(32),h=c(131),i=c(298).KEY,j=c(45),k=c(85),l=c(83),m=c(54),n=c(17),o=c(90),p=c(89),q=c(297),r=c(289),s=c(292),t=c(30),u=c(34),v=c(88),w=c(48),x=c(81),y=c(301),z=c(128),A=c(27),B=c(47),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(b,c,d){return b===P&&W(O,c,d),t(b),c=v(c,!0),t(d),e(N,c)?(d.enumerable?(e(b,J)&&b[J][c]&&(b[J][c]=!1),d=x(d,{enumerable:w(0,!1)})):(e(b,J)||D(b,J,w(1,{})),b[J][c]=!0),T(b,c,d)):D(b,c,d)},X=function(b,c){t(b);for(var g,d=r(c=u(c)),e=0,f=d.length;f>e;)W(b,g=d[e++],c[g]);return b},Y=function(b,c){return void 0===c?x(b):X(x(b),c)},Z=function(b){var c=L.call(this,b=v(b,!0));return!(this===P&&e(N,b)&&!e(O,b))&&(!(c||!e(this,b)||!e(N,b)||e(this,J)&&this[J][b])||c)},$=function(b,c){if(b=u(b),c=v(c,!0),b!==P||!e(N,c)||e(O,c)){var d=C(b,c);return!d||!e(N,c)||e(b,J)&&b[J][c]||(d.enumerable=!0),d}},_=function(b){for(var g,c=E(u(b)),d=[],f=0;c.length>f;)e(N,g=c[f++])||g==J||g==i||d.push(g);return d},aa=function(b){for(var h,c=b===P,d=E(c?O:u(b)),f=[],g=0;d.length>g;)!e(N,h=d[g++])||c&&!e(P,h)||f.push(N[h]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var b=m(arguments.length>0?arguments[0]:void 0),c=function(a){this===P&&c.call(O,a),e(this,J)&&e(this[J],b)&&(this[J][b]=!1),T(this,b,w(1,a))};return f&&S&&T(P,b,{configurable:!0,set:c}),U(b)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,c(129).f=y.f=_,c(53).f=Z,c(82).f=aa,f&&!c(80)&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);for(var ba=B(n.store),ca=0;ba.length>ca;)p(ba[ca++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(b){if(V(b))return q(M,b);throw TypeError(b+" is not a symbol!")},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(b){if(void 0!==b&&!V(b)){for(var e,f,c=[b],d=1;arguments.length>d;)c.push(arguments[d++]);return e=c[1],"function"==typeof e&&(f=e),!f&&s(e)||(e=function(a,b){if(f&&(b=f.call(this,a,b)),!V(b))return b}),c[1]=e,H.apply(G,c)}}}),F[I][K]||c(36)(F[I],K,F[I].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},function(a,b,c){c(89)("asyncIterator")},function(a,b,c){c(89)("observable")},function(a,b){"use strict";function d(a){return a.replace(c,function(a,b){return b.toUpperCase()})}var c=/-(.)/g;a.exports=d},function(a,b,c){"use strict";function f(a){return d(a.replace(e,"ms-"))}var d=c(318),e=/^-ms-/;a.exports=f},function(a,b,c){"use strict";function e(a,b){return!(!a||!b)&&(a===b||!d(a)&&(d(b)?e(a,b.parentNode):"contains"in a?a.contains(b):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(b))))}var d=c(327);a.exports=e},function(a,b,c){"use strict";(function(b){function e(a){var c=a.length;if(Array.isArray(a)||"object"!=typeof a&&"function"!=typeof a?"production"!==b.env.NODE_ENV?d(!1,"toArray: Array-like object expected"):d(!1):void 0,"number"!=typeof c?"production"!==b.env.NODE_ENV?d(!1,"toArray: Object needs a length property"):d(!1):void 0,0===c||c-1 in a?void 0:"production"!==b.env.NODE_ENV?d(!1,"toArray: Object should have keys for indices"):d(!1),"function"==typeof a.callee?"production"!==b.env.NODE_ENV?d(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."):d(!1):void 0,a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}for(var e=Array(c),f=0;f<c;f++)e[f]=a[f];return e}function f(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function g(a){return f(a)?Array.isArray(a)?a.slice():e(a):[a]}var d=c(5);a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function j(a){var b=a.match(i);return b&&b[1].toLowerCase()}function k(a,c){var d=h;h?void 0:"production"!==b.env.NODE_ENV?g(!1,"createNodesFromMarkup dummy not initialized"):g(!1);var i=j(a),k=i&&f(i);if(k){d.innerHTML=k[1]+a+k[2];for(var l=k[0];l--;)d=d.lastChild}else d.innerHTML=a;var m=d.getElementsByTagName("script");m.length&&(c?void 0:"production"!==b.env.NODE_ENV?g(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):g(!1),e(m).forEach(c));for(var n=Array.from(d.childNodes);d.lastChild;)d.removeChild(d.lastChild);return n}var d=c(10),e=c(321),f=c(137),g=c(5),h=d.canUseDOM?document.createElement("div"):null,i=/^\s*<(\w+)/;a.exports=k}).call(b,c(4))},function(a,b){"use strict";function c(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}a.exports=c},function(a,b){"use strict";function d(a){return a.replace(c,"-$1").toLowerCase()}var c=/([A-Z])/g;a.exports=d},function(a,b,c){"use strict";function f(a){return d(a).replace(e,"-ms-")}var d=c(324),e=/^ms-/;a.exports=f},function(a,b){"use strict";function c(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}a.exports=c},function(a,b,c){"use strict";function e(a){return d(a)&&3==a.nodeType}var d=c(326);a.exports=e},function(a,b){"use strict";function d(a,b,d){if(!a)return null;var e={};for(var f in a)c.call(a,f)&&(e[f]=b.call(d,a[f],f,a));return e}var c=Object.prototype.hasOwnProperty;a.exports=d},function(a,b){"use strict";function c(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}a.exports=c},function(a,b,c){"use strict";var e,d=c(10);d.canUseDOM&&(e=window.performance||window.msPerformance||window.webkitPerformance),a.exports=e||{}},function(a,b,c){"use strict";var e,d=c(330);e=d.now?function(){return d.now()}:function(){return Date.now()},a.exports=e},function(a,b,c){(function(b){(function(){var c,d,e;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:"undefined"!=typeof b&&null!==b&&b.hrtime?(a.exports=function(){return(c()-e)/1e6},d=b.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},e=c()):Date.now?(a.exports=function(){return Date.now()-e},e=Date.now()):(a.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(this)}).call(b,c(4))},function(a,b,c){(function(a,d){var e;!function(f){function B(a){throw new RangeError(w[a])}function C(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function D(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(v,".");var e=a.split("."),f=C(e,b).join(".");return d+f}function E(a){for(var e,f,b=[],c=0,d=a.length;c<d;)e=a.charCodeAt(c++),e>=55296&&e<=56319&&c<d?(f=a.charCodeAt(c++),56320==(64512&f)?b.push(((1023&e)<<10)+(1023&f)+65536):(b.push(e),c--)):b.push(e);return b}function F(a){return C(a,function(a){var b="";return a>65535&&(a-=65536,b+=z(a>>>10&1023|55296),a=56320|1023&a),b+=z(a)}).join("")}function G(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:l;
}function H(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function I(a,b,c){var d=0;for(a=c?y(a/p):a>>1,a+=y(a/b);a>x*n>>1;d+=l)a=y(a/x);return y(d+(x+1)*a/(a+o))}function J(a){var d,h,i,j,o,p,t,u,v,w,b=[],c=a.length,e=0,f=r,g=q;for(h=a.lastIndexOf(s),h<0&&(h=0),i=0;i<h;++i)a.charCodeAt(i)>=128&&B("not-basic"),b.push(a.charCodeAt(i));for(j=h>0?h+1:0;j<c;){for(o=e,p=1,t=l;j>=c&&B("invalid-input"),u=G(a.charCodeAt(j++)),(u>=l||u>y((k-e)/p))&&B("overflow"),e+=u*p,v=t<=g?m:t>=g+n?n:t-g,!(u<v);t+=l)w=l-v,p>y(k/w)&&B("overflow"),p*=w;d=b.length+1,g=I(e-o,d,0==o),y(e/d)>k-f&&B("overflow"),f+=y(e/d),e%=d,b.splice(e++,0,f)}return F(b)}function K(a){var b,c,d,e,f,g,h,i,j,o,p,u,v,w,x,t=[];for(a=E(a),u=a.length,b=r,c=0,f=q,g=0;g<u;++g)p=a[g],p<128&&t.push(z(p));for(d=e=t.length,e&&t.push(s);d<u;){for(h=k,g=0;g<u;++g)p=a[g],p>=b&&p<h&&(h=p);for(v=d+1,h-b>y((k-c)/v)&&B("overflow"),c+=(h-b)*v,b=h,g=0;g<u;++g)if(p=a[g],p<b&&++c>k&&B("overflow"),p==b){for(i=c,j=l;o=j<=f?m:j>=f+n?n:j-f,!(i<o);j+=l)x=i-o,w=l-o,t.push(z(H(o+x%w,0))),i=y(x/w);t.push(z(H(i,0))),f=I(c,v,d==e),c=0,++d}++c,++b}return t.join("")}function L(a){return D(a,function(a){return t.test(a)?J(a.slice(4).toLowerCase()):a})}function M(a){return D(a,function(a){return u.test(a)?"xn--"+K(a):a})}var i=("object"==typeof b&&b&&!b.nodeType&&b,"object"==typeof a&&a&&!a.nodeType&&a,"object"==typeof d&&d);i.global!==i&&i.window!==i&&i.self!==i||(f=i);var j,k=2147483647,l=36,m=1,n=26,o=38,p=700,q=72,r=128,s="-",t=/^xn--/,u=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-m,y=Math.floor,z=String.fromCharCode;j={version:"1.4.1",ucs2:{decode:E,encode:F},decode:J,encode:K,toASCII:M,toUnicode:L},e=function(){return j}.call(b,c,b,a),!(void 0!==e&&(a.exports=e))}(this)}).call(b,c(405)(a),c(170))},function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=function(a,b,e,f){b=b||"&",e=e||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;k<j;++k){var n,o,p,q,l=a[k].replace(h,"%20"),m=l.indexOf(e);m>=0?(n=l.substr(0,m),o=l.substr(m+1)):(n=l,o=""),p=decodeURIComponent(n),q=decodeURIComponent(o),c(g,p)?d(g[p])?g[p].push(q):g[p]=[g[p],q]:g[p]=q}return g};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},function(a,b){"use strict";function e(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var c=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};a.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?e(f(a),function(f){var h=encodeURIComponent(c(f))+g;return d(a[f])?e(a[f],function(a){return h+encodeURIComponent(c(a))}).join(b):h+encodeURIComponent(c(a[f]))}).join(b):h?encodeURIComponent(c(h))+g+encodeURIComponent(c(a)):""};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},function(a,b,c){"use strict";b.decode=b.parse=c(334),b.encode=b.stringify=c(335)},function(a,b,c){"use strict";a.exports=c(350)},function(a,b,c){"use strict";var d=c(9),e=c(135),f={focusDOMComponent:function(){e(d.getNodeFromInstance(this))}};a.exports=f},function(a,b,c){"use strict";function q(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function w(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function x(a){switch(a){case t.topCompositionStart:return u.compositionStart;case t.topCompositionEnd:return u.compositionEnd;case t.topCompositionUpdate:return u.compositionUpdate}}function y(a,b){return a===t.topKeyDown&&b.keyCode===l}function z(a,b){switch(a){case t.topKeyUp:return k.indexOf(b.keyCode)!==-1;case t.topKeyDown:return b.keyCode!==l;case t.topKeyPress:case t.topMouseDown:case t.topBlur:return!0;default:return!1}}function A(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function C(a,b,c,d){var f,i;if(m?f=x(a):B?z(a,c)&&(f=u.compositionEnd):y(a,c)&&(f=u.compositionStart),!f)return null;p&&(B||f!==u.compositionStart?f===u.compositionEnd&&B&&(i=B.getData()):B=g.getPooled(d));var j=h.getPooled(f,b,c,d);if(i)j.data=i;else{var k=A(c);null!==k&&(j.data=k)}return e.accumulateTwoPhaseDispatches(j),j}function D(a,b){switch(a){case t.topCompositionEnd:return A(b);case t.topKeyPress:var c=b.which;return c!==r?null:(v=!0,s);case t.topTextInput:var d=b.data;return d===s&&v?null:d;default:return null}}function E(a,b){if(B){if(a===t.topCompositionEnd||z(a,b)){var c=B.getData();return g.release(B),B=null,c}return null}switch(a){case t.topPaste:return null;case t.topKeyPress:return b.which&&!w(b)?String.fromCharCode(b.which):null;case t.topCompositionEnd:return p?null:b.data;default:return null}}function F(a,b,c,d){var f;if(f=o?D(a,c):E(a,c),!f)return null;var g=i.getPooled(u.beforeInput,b,c,d);return g.data=f,e.accumulateTwoPhaseDispatches(g),g}var d=c(23),e=c(50),f=c(10),g=c(345),h=c(385),i=c(388),j=c(28),k=[9,13,27,32],l=229,m=f.canUseDOM&&"CompositionEvent"in window,n=null;f.canUseDOM&&"documentMode"in document&&(n=document.documentMode);var o=f.canUseDOM&&"TextEvent"in window&&!n&&!q(),p=f.canUseDOM&&(!m||n&&n>8&&n<=11),r=32,s=String.fromCharCode(r),t=d.topLevelTypes,u={beforeInput:{phasedRegistrationNames:{bubbled:j({onBeforeInput:null}),captured:j({onBeforeInputCapture:null})},dependencies:[t.topCompositionEnd,t.topKeyPress,t.topTextInput,t.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:j({onCompositionEnd:null}),captured:j({onCompositionEndCapture:null})},dependencies:[t.topBlur,t.topCompositionEnd,t.topKeyDown,t.topKeyPress,t.topKeyUp,t.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:j({onCompositionStart:null}),captured:j({onCompositionStartCapture:null})},dependencies:[t.topBlur,t.topCompositionStart,t.topKeyDown,t.topKeyPress,t.topKeyUp,t.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:j({onCompositionUpdate:null}),captured:j({onCompositionUpdateCapture:null})},dependencies:[t.topBlur,t.topCompositionUpdate,t.topKeyDown,t.topKeyPress,t.topKeyUp,t.topMouseDown]}},v=!1,B=null,G={eventTypes:u,extractEvents:function(a,b,c,d){return[C(a,b,c,d),F(a,b,c,d)]}};a.exports=G},function(a,b,c){"use strict";(function(b){var d=c(139),e=c(10),f=c(13),g=c(319),h=c(394),i=c(325),j=c(329),k=c(7),l=j(function(a){return i(a)}),m=!1,n="cssFloat";if(e.canUseDOM){var o=document.createElement("div").style;try{o.font=""}catch(a){m=!0}void 0===document.documentElement.style.cssFloat&&(n="styleFloat")}if("production"!==b.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,q=/;\s*$/,r={},s={},t=!1,u=function(a,c){r.hasOwnProperty(a)&&r[a]||(r[a]=!0,"production"!==b.env.NODE_ENV?k(!1,"Unsupported style property %s. Did you mean %s?%s",a,g(a),y(c)):void 0)},v=function(a,c){r.hasOwnProperty(a)&&r[a]||(r[a]=!0,"production"!==b.env.NODE_ENV?k(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",a,a.charAt(0).toUpperCase()+a.slice(1),y(c)):void 0)},w=function(a,c,d){s.hasOwnProperty(c)&&s[c]||(s[c]=!0,"production"!==b.env.NODE_ENV?k(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',y(d),a,c.replace(q,"")):void 0)},x=function(a,c,d){t||(t=!0,"production"!==b.env.NODE_ENV?k(!1,"`NaN` is an invalid value for the `%s` css style property.%s",a,y(d)):void 0)},y=function(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""},z=function(a,b,c){var d;c&&(d=c._currentElement._owner),a.indexOf("-")>-1?u(a,d):p.test(a)?v(a,d):q.test(b)&&w(a,b,d),"number"==typeof b&&isNaN(b)&&x(a,b,d)};var A={createMarkupForStyles:function(a,c){var d="";for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];"production"!==b.env.NODE_ENV&&z(e,f,c),null!=f&&(d+=l(e)+":",d+=h(e,f,c)+";")}return d||null},setValueForStyles:function(a,c,e){"production"!==b.env.NODE_ENV&&f.debugTool.onHostOperation(e._debugID,"update styles",c);var g=a.style;for(var i in c)if(c.hasOwnProperty(i)){"production"!==b.env.NODE_ENV&&z(i,c[i],e);var j=h(i,c[i],e);if("float"!==i&&"cssFloat"!==i||(i=n),j)g[i]=j;else{var k=m&&d.shorthandPropertyExpansions[i];if(k)for(var l in k)g[l]="";else g[i]=""}}}};a.exports=A}).call(b,c(4))},function(a,b,c){"use strict";function u(a){var b=a.nodeName&&a.nodeName.toLowerCase();return"select"===b||"input"===b&&"file"===a.type}function w(a){var b=j.getPooled(p.change,r,a,k(a));f.accumulateTwoPhaseDispatches(b),i.batchedUpdates(x,b)}function x(a){e.enqueueEvents(a),e.processEventQueue(!1)}function y(a,b){q=a,r=b,q.attachEvent("onchange",w)}function z(){q&&(q.detachEvent("onchange",w),q=null,r=null)}function A(a,b){if(a===o.topChange)return b}function B(a,b,c){a===o.topFocus?(z(),y(b,c)):a===o.topBlur&&z()}function E(a,b){q=a,r=b,s=a.value,t=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(q,"value",D),q.attachEvent?q.attachEvent("onpropertychange",G):q.addEventListener("propertychange",G,!1)}function F(){q&&(delete q.value,q.detachEvent?q.detachEvent("onpropertychange",G):q.removeEventListener("propertychange",G,!1),q=null,r=null,s=null,t=null)}function G(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==s&&(s=b,w(a))}}function H(a,b){if(a===o.topInput)return b}function I(a,b,c){a===o.topFocus?(F(),E(b,c)):a===o.topBlur&&F()}function J(a,b){if((a===o.topSelectionChange||a===o.topKeyUp||a===o.topKeyDown)&&q&&q.value!==s)return s=q.value,r}function K(a){return a.nodeName&&"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)}function L(a,b){if(a===o.topClick)return b}var d=c(23),e=c(49),f=c(50),g=c(10),h=c(9),i=c(22),j=c(25),k=c(104),l=c(106),m=c(168),n=c(28),o=d.topLevelTypes,p={change:{phasedRegistrationNames:{bubbled:n({onChange:null}),captured:n({onChangeCapture:null})},dependencies:[o.topBlur,o.topChange,o.topClick,o.topFocus,o.topInput,o.topKeyDown,o.topKeyUp,o.topSelectionChange]}},q=null,r=null,s=null,t=null,v=!1;g.canUseDOM&&(v=l("change")&&(!("documentMode"in document)||document.documentMode>8));var C=!1;g.canUseDOM&&(C=l("input")&&(!("documentMode"in document)||document.documentMode>11));var D={get:function(){return t.get.call(this)},set:function(a){s=""+a,t.set.call(this,a)}},M={eventTypes:p,extractEvents:function(a,b,c,d){var g,i,e=b?h.getNodeFromInstance(b):window;if(u(e)?v?g=A:i=B:m(e)?C?g=H:(g=J,i=I):K(e)&&(g=L),g){var k=g(a,b);if(k){var l=j.getPooled(p.change,k,c,d);return l.type="change",f.accumulateTwoPhaseDispatches(l),l}}i&&i(a,e,b)}};a.exports=M},function(a,b,c){"use strict";(function(b){function m(a){return a.substring(1,a.indexOf(" "))}var d=c(6),e=c(38),f=c(10),g=c(322),h=c(18),i=c(137),j=c(5),k=/^(<[^ \/>]+)/,l="data-danger-index",n={dangerouslyRenderMarkup:function(a){f.canUseDOM?void 0:"production"!==b.env.NODE_ENV?j(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):d("51");for(var c,e={},n=0;n<a.length;n++)a[n]?void 0:"production"!==b.env.NODE_ENV?j(!1,"dangerouslyRenderMarkup(...): Missing markup."):d("52"),c=m(a[n]),c=i(c)?c:"*",e[c]=e[c]||[],e[c][n]=a[n];var o=[],p=0;for(c in e)if(e.hasOwnProperty(c)){var r,q=e[c];for(r in q)if(q.hasOwnProperty(r)){var s=q[r];q[r]=s.replace(k,"$1 "+l+'="'+r+'" ')}for(var t=g(q.join(""),h),u=0;u<t.length;++u){var v=t[u];v.hasAttribute&&v.hasAttribute(l)?(r=+v.getAttribute(l),v.removeAttribute(l),o.hasOwnProperty(r)?"production"!==b.env.NODE_ENV?j(!1,"Danger: Assigning to an already-occupied result index."):d("53"):void 0,o[r]=v,p+=1):"production"!==b.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",v)}}return p!==o.length?"production"!==b.env.NODE_ENV?j(!1,"Danger: Did not assign to every index of resultList."):d("54"):void 0,o.length!==a.length?"production"!==b.env.NODE_ENV?j(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,o.length):d("55",a.length,o.length):void 0,o},dangerouslyReplaceNodeWithMarkup:function(a,c){if(f.canUseDOM?void 0:"production"!==b.env.NODE_ENV?j(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):d("56"),c?void 0:"production"!==b.env.NODE_ENV?j(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):d("57"),"HTML"===a.nodeName?"production"!==b.env.NODE_ENV?j(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):d("58"):void 0,"string"==typeof c){var i=g(c,h)[0];a.parentNode.replaceChild(i,a)}else e.replaceChildWithTree(a,c)}};a.exports=n}).call(b,c(4))},function(a,b,c){"use strict";var d=c(28),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null})];a.exports=e},function(a,b,c){"use strict";var d=c(23),e=c(50),f=c(9),g=c(63),h=c(28),i=d.topLevelTypes,j={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},k={eventTypes:j,extractEvents:function(a,b,c,d){if(a===i.topMouseOver&&(c.relatedTarget||c.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var h;if(d.window===d)h=d;else{var k=d.ownerDocument;h=k?k.defaultView||k.parentWindow:window}var l,m;if(a===i.topMouseOut){l=b;var n=c.relatedTarget||c.toElement;m=n?f.getClosestInstanceFromNode(n):null}else l=null,m=b;if(l===m)return null;var o=null==l?h:f.getNodeFromInstance(l),p=null==m?h:f.getNodeFromInstance(m),q=g.getPooled(j.mouseLeave,l,c,d);q.type="mouseleave",q.target=o,q.relatedTarget=p;var r=g.getPooled(j.mouseEnter,m,c,d);return r.type="mouseenter",r.target=p,r.relatedTarget=o,e.accumulateEnterLeaveDispatches(q,r,l,m),[q,r]}};a.exports=k},function(a,b,c){"use strict";function g(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var d=c(8),e=c(29),f=c(166);d(g.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[f()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,d,b=this._startText,c=b.length,e=this.getText(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);var h=d>1?1-d:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(g),a.exports=g},function(a,b,c){"use strict";var d=c(35),e=d.injection.MUST_USE_PROPERTY,f=d.injection.HAS_BOOLEAN_VALUE,g=d.injection.HAS_NUMERIC_VALUE,h=d.injection.HAS_POSITIVE_NUMERIC_VALUE,i=d.injection.HAS_OVERLOADED_BOOLEAN_VALUE,j={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+d.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:f,allowTransparency:0,alt:0,async:f,autoComplete:0,autoPlay:f,capture:f,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:e|f,cite:0,classID:0,className:0,cols:h,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:f,coords:0,crossOrigin:0,data:0,dateTime:0,default:f,defer:f,dir:0,disabled:f,download:i,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:f,formTarget:0,frameBorder:0,headers:0,height:0,hidden:f,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:f,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:e|f,muted:e|f,name:0,nonce:0,noValidate:f,open:f,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:f,rel:0,required:f,reversed:f,role:0,rows:h,rowSpan:g,sandbox:0,scope:0,scoped:f,scrolling:0,seamless:f,selected:e|f,shape:0,size:h,sizes:0,span:h,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:g,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:f,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};a.exports=j},function(a,b,c){"use strict";(function(b){var d=c(8),e=c(142),f=c(144),g=c(143),h=c(356),i=c(19),j=c(158),k=c(160),l=c(400),m=c(7),n=i.createElement,o=i.createFactory,p=i.cloneElement;if("production"!==b.env.NODE_ENV){var q=c(149);n=q.createElement,o=q.createFactory,p=q.cloneElement}var r=d;if("production"!==b.env.NODE_ENV){var s=!1;r=function(){return"production"!==b.env.NODE_ENV?m(s,"React.__spread is deprecated and should not be used. Use Object.assign directly or another helper function with similar semantics. You may be seeing this warning due to your compiler. See https://fb.me/react-spread-deprecation for more details."):void 0,s=!0,d.apply(null,arguments)}}var t={Children:{map:e.map,forEach:e.forEach,count:e.count,toArray:e.toArray,only:l},Component:f,createElement:n,cloneElement:p,isValidElement:i.isValidElement,PropTypes:j,createClass:g.createClass,createFactory:o,createMixin:function(a){return a},DOM:h,version:k,__spread:r};a.exports=t}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function k(a,c,d,h){var i=void 0===a[d];"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?j(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.%s",g.unescape(d),e.getStackAddendumByID(h)):void 0),null!=c&&i&&(a[d]=f(c))}var d=c(40),e=c(39),f=c(167),g=c(95),h=c(107),i=c(108),j=c(7),l={instantiateChildren:function(a,c,d,e){if(null==a)return null;var f={};return"production"!==b.env.NODE_ENV?i(a,function(a,b,c){return k(a,b,c,e)},f):i(a,k,f),f},updateChildren:function(a,b,c,e,g){if(b||a){var i,j;for(i in b)if(b.hasOwnProperty(i)){j=a&&a[i];var k=j&&j._currentElement,l=b[i];if(null!=j&&h(k,l))d.receiveComponent(j,l,e,g),b[i]=j;else{j&&(c[i]=d.getHostNode(j),d.unmountComponent(j,!1));var m=f(l);b[i]=m}}for(i in a)!a.hasOwnProperty(i)||b&&b.hasOwnProperty(i)||(j=a[i],c[i]=d.getHostNode(j),d.unmountComponent(j,!1))}},unmountChildren:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];d.unmountComponent(e,b)}}};a.exports=l}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function u(a){}function v(a,c){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?t(null===c||c===!1||h.isValidElement(c),"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",a.displayName||a.name||"Component"):void 0,"production"!==b.env.NODE_ENV?t(!a.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",a.displayName||a.name||"Component"):void 0)}function w(){var a=this._instance;0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentDidMount"),a.componentDidMount(),0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentDidMount")}function x(a,b,c){var d=this._instance;0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentDidUpdate"),d.componentDidUpdate(a,b,c),0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentDidUpdate")}function y(a){return a.prototype&&a.prototype.isReactComponent}var d=c(6),e=c(8),f=c(97),g=c(24),h=c(19),i=c(98),j=c(61),k=c(13),l=c(156),m=c(62),n=c(40),o=c(159),p=c(163),q=c(56),r=c(5),s=c(107),t=c(7);u.prototype.render=function(){var a=j.get(this)._currentElement.type,b=a(this.props,this.context,this.updater);return v(a,b),b};var z=1,A={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1,"production"!==b.env.NODE_ENV&&(this._warnedAboutRefsInRender=!1)},mountComponent:function(a,c,e,f){this._context=f,this._mountOrder=z++,this._hostParent=c,this._hostContainerInfo=e;var m,g=this._currentElement.props,i=this._processContext(f),k=this._currentElement.type,l=this._constructComponent(g,i);if(y(k)||null!=l&&null!=l.render||(m=l,v(k,m),null===l||l===!1||h.isValidElement(l)?void 0:"production"!==b.env.NODE_ENV?r(!1,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",k.displayName||k.name||"Component"):d("105",k.displayName||k.name||"Component"),l=new u(k)),"production"!==b.env.NODE_ENV){null==l.render&&("production"!==b.env.NODE_ENV?t(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",k.displayName||k.name||"Component"):void 0);var n=l.props!==g,p=k.displayName||k.name||"Component";"production"!==b.env.NODE_ENV?t(void 0===l.props||!n,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",p,p):void 0}l.props=g,l.context=i,l.refs=q,l.updater=o,this._instance=l,j.set(l,this),"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?t(!l.getInitialState||l.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!==b.env.NODE_ENV?t(!l.getDefaultProps||l.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!==b.env.NODE_ENV?t(!l.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!==b.env.NODE_ENV?t(!l.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==b.env.NODE_ENV?t("function"!=typeof l.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!==b.env.NODE_ENV?t("function"!=typeof l.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==b.env.NODE_ENV?t("function"!=typeof l.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var s=l.state;void 0===s&&(l.state=s=null),"object"!=typeof s||Array.isArray(s)?"production"!==b.env.NODE_ENV?r(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):d("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var x;return x=l.unstable_handleError?this.performInitialMountWithErrorHandling(m,c,e,a,f):this.performInitialMount(m,c,e,a,f),l.componentDidMount&&("production"!==b.env.NODE_ENV?a.getReactMountReady().enqueue(w,this):a.getReactMountReady().enqueue(l.componentDidMount,l)),x},_constructComponent:function(a,c){if("production"===b.env.NODE_ENV)return this._constructComponentWithoutOwner(a,c);g.current=this;try{return this._constructComponentWithoutOwner(a,c)}finally{g.current=null}},_constructComponentWithoutOwner:function(a,c){var e,d=this._currentElement.type;return y(d)?("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"ctor"),e=new d(a,c,o),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"ctor")):("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"render"),e=d(a,c,o),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"render")),e},performInitialMountWithErrorHandling:function(a,b,c,d,e){var f,g=d.checkpoint();try{f=this.performInitialMount(a,b,c,d,e)}catch(h){d.rollback(g),this._instance.unstable_handleError(h),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),g=d.checkpoint(),this._renderedComponent.unmountComponent(!0),d.rollback(g),f=this.performInitialMount(a,b,c,d,e)}return f},performInitialMount:function(a,c,d,e,f){var g=this._instance;g.componentWillMount&&("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillMount"),g.componentWillMount(),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillMount"),this._pendingStateQueue&&(g.state=this._processPendingState(g.props,g.context))),void 0===a&&(a=this._renderValidatedComponent()),this._renderedNodeType=l.getType(a);var h=this._instantiateReactComponent(a);this._renderedComponent=h,"production"!==b.env.NODE_ENV&&0!==h._debugID&&0!==this._debugID&&k.debugTool.onSetParent(h._debugID,this._debugID);var i=n.mountComponent(h,e,c,d,this._processChildContext(f));return"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onSetChildren(this._debugID,0!==h._debugID?[h._debugID]:[]),i},getHostNode:function(){return n.getHostNode(this._renderedComponent)},unmountComponent:function(a){if(this._renderedComponent){var c=this._instance;if(c.componentWillUnmount&&!c._calledComponentWillUnmount){if(c._calledComponentWillUnmount=!0,"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillUnmount"),a){var d=this.getName()+".componentWillUnmount()";i.invokeGuardedCallback(d,c.componentWillUnmount.bind(c))}else c.componentWillUnmount();"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillUnmount")}this._renderedComponent&&(n.unmountComponent(this._renderedComponent,a),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,j.remove(c)}},_maskContext:function(a){var b=this._currentElement.type,c=b.contextTypes;if(!c)return q;var d={};for(var e in c)d[e]=a[e];return d},_processContext:function(a){var c=this._maskContext(a);if("production"!==b.env.NODE_ENV){var d=this._currentElement.type;d.contextTypes&&this._checkContextTypes(d.contextTypes,c,m.context)}return c},_processChildContext:function(a){var c=this._currentElement.type,f=this._instance;"production"!==b.env.NODE_ENV&&k.debugTool.onBeginProcessingChildContext();var g=f.getChildContext&&f.getChildContext();if("production"!==b.env.NODE_ENV&&k.debugTool.onEndProcessingChildContext(),g){"object"!=typeof c.childContextTypes?"production"!==b.env.NODE_ENV?r(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):d("107",this.getName()||"ReactCompositeComponent"):void 0,"production"!==b.env.NODE_ENV&&this._checkContextTypes(c.childContextTypes,g,m.childContext);for(var h in g)h in c.childContextTypes?void 0:"production"!==b.env.NODE_ENV?r(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",h):d("108",this.getName()||"ReactCompositeComponent",h);return e({},a,g)}return a},_checkContextTypes:function(a,b,c){p(a,b,c,this.getName(),null,this._debugID)},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement?n.receiveComponent(this,this._pendingElement,a,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(a,c,e,f,g){var h=this._instance;null==h?"production"!==b.env.NODE_ENV?r(!1,"Attempted to update component `%s` that has already been unmounted (or failed to mount).",this.getName()||"ReactCompositeComponent"):d("136",this.getName()||"ReactCompositeComponent"):void 0;var j,l,i=!1;this._context===g?j=h.context:(j=this._processContext(g),i=!0),l=e.props,c!==e&&(i=!0),i&&h.componentWillReceiveProps&&("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillReceiveProps"),h.componentWillReceiveProps(l,j),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillReceiveProps"));var m=this._processPendingState(l,j),n=!0;!this._pendingForceUpdate&&h.shouldComponentUpdate&&("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"shouldComponentUpdate"),n=h.shouldComponentUpdate(l,m,j),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"shouldComponentUpdate")),"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?t(void 0!==n,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),this._updateBatchNumber=null,n?(this._pendingForceUpdate=!1,this._performComponentUpdate(e,l,m,j,a,g)):(this._currentElement=e,this._context=g,h.props=l,h.state=m,h.context=j)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,f=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(f&&1===d.length)return d[0];for(var g=e({},f?d[0]:c.state),h=f?1:0;h<d.length;h++){var i=d[h];e(g,"function"==typeof i?i.call(c,g,a,b):i)}return g},_performComponentUpdate:function(a,c,d,e,f,g){var j,l,m,h=this._instance,i=Boolean(h.componentDidUpdate);i&&(j=h.props,l=h.state,m=h.context),h.componentWillUpdate&&("production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"componentWillUpdate"),h.componentWillUpdate(c,d,e),"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"componentWillUpdate")),this._currentElement=a,this._context=g,h.props=c,h.state=d,h.context=e,this._updateRenderedComponent(f,g),i&&("production"!==b.env.NODE_ENV?f.getReactMountReady().enqueue(x.bind(this,j,l,m),this):f.getReactMountReady().enqueue(h.componentDidUpdate.bind(h,j,l,m),h));
},_updateRenderedComponent:function(a,c){var d=this._renderedComponent,e=d._currentElement,f=this._renderValidatedComponent();if(s(e,f))n.receiveComponent(d,f,a,this._processChildContext(c));else{var g=n.getHostNode(d);n.unmountComponent(d,!1),this._renderedNodeType=l.getType(f);var h=this._instantiateReactComponent(f);this._renderedComponent=h,"production"!==b.env.NODE_ENV&&0!==h._debugID&&0!==this._debugID&&k.debugTool.onSetParent(h._debugID,this._debugID);var i=n.mountComponent(h,a,this._hostParent,this._hostContainerInfo,this._processChildContext(c));"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onSetChildren(this._debugID,0!==h._debugID?[h._debugID]:[]),this._replaceNodeWithMarkup(g,i,d)}},_replaceNodeWithMarkup:function(a,b,c){f.replaceNodeWithMarkup(a,b,c)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance;"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onBeginLifeCycleTimer(this._debugID,"render");var c=a.render();return"production"!==b.env.NODE_ENV&&0!==this._debugID&&k.debugTool.onEndLifeCycleTimer(this._debugID,"render"),"production"!==b.env.NODE_ENV&&void 0===c&&a.render._isMockFunction&&(c=null),c},_renderValidatedComponent:function(){var a;g.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{g.current=null}return null===a||a===!1||h.isValidElement(a)?void 0:"production"!==b.env.NODE_ENV?r(!1,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):d("109",this.getName()||"ReactCompositeComponent"),a},attachRef:function(a,c){var e=this.getPublicInstance();null==e?"production"!==b.env.NODE_ENV?r(!1,"Stateless function components cannot have refs."):d("110"):void 0;var f=c.getPublicInstance();if("production"!==b.env.NODE_ENV){var g=c&&c.getName?c.getName():"a component";"production"!==b.env.NODE_ENV?t(null!=f,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',a,g,this.getName()):void 0}var h=e.refs===q?e.refs={}:e.refs;h[a]=f},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof u?null:a},_instantiateReactComponent:null},B={Mixin:A};a.exports=B}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var d=c(9),e=c(368),f=c(154),g=c(40),h=c(22),i=c(160),j=c(395),k=c(165),l=c(402),m=c(7);e.inject();var n={findDOMNode:j,render:f.render,unmountComponentAtNode:f.unmountComponentAtNode,version:i,unstable_batchedUpdates:h.batchedUpdates,unstable_renderSubtreeIntoContainer:l};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:d.getClosestInstanceFromNode,getNodeFromInstance:function(a){return a._renderedComponent&&(a=k(a)),a?d.getNodeFromInstance(a):null}},Mount:f,Reconciler:g}),"production"!==b.env.NODE_ENV){var o=c(10);if(o.canUseDOM&&window.top===window.self){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var p=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1;console.debug("Download the React DevTools "+(p?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: https://fb.me/react-devtools")}var q=function(){};"production"!==b.env.NODE_ENV?m((q.name||q.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build of React. When deploying React apps to production, make sure to use the production build which skips development warnings and is faster. See https://fb.me/react-minification for more details."):void 0;var r=document.documentMode&&document.documentMode<8;"production"!==b.env.NODE_ENV?m(!r,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var s=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim],t=0;t<s.length;t++)if(!s[t]){"production"!==b.env.NODE_ENV?m(!1,"One or more ES5 shims expected by React are not available: https://fb.me/react-warning-polyfills"):void 0;break}}}a.exports=n}).call(b,c(4))},function(a,b,c){"use strict";var d=c(58),e={getHostProps:d.getHostProps};a.exports=e},function(a,b,c){"use strict";(function(b){function S(a){if(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" This DOM node was rendered by `"+c+"`."}}return""}function T(a){if("object"==typeof a){if(Array.isArray(a))return"["+a.map(T).join(", ")+"]";var b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=/^[a-z$_][\w$_]*$/i.test(c)?c:JSON.stringify(c);b.push(d+": "+T(a[c]))}return"{"+b.join(", ")+"}"}return"string"==typeof a?JSON.stringify(a):"function"==typeof a?"[function object]":String(a)}function V(a,c,d){if(null!=a&&null!=c&&!F(a,c)){var g,e=d._tag,f=d._currentElement._owner;f&&(g=f.getName());var h=g+"|"+e;U.hasOwnProperty(h)||(U[h]=!0,"production"!==b.env.NODE_ENV?H(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",e,f?"of `"+g+"`":"using <"+e+">",T(a),T(c)):void 0)}}function W(a,c){c&&(ga[a._tag]&&(null!=c.children||null!=c.dangerouslySetInnerHTML?"production"!==b.env.NODE_ENV?C(!1,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",a._tag,a._currentElement._owner?" Check the render method of "+a._currentElement._owner.getName()+".":""):d("59",a._tag,a._currentElement._owner?" Check the render method of "+a._currentElement._owner.getName()+".":""):void 0),null!=c.dangerouslySetInnerHTML&&(null!=c.children?"production"!==b.env.NODE_ENV?C(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):d("60"):void 0,"object"==typeof c.dangerouslySetInnerHTML&&P in c.dangerouslySetInnerHTML?void 0:"production"!==b.env.NODE_ENV?C(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):d("61")),"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?H(null==c.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==b.env.NODE_ENV?H(c.suppressContentEditableWarning||!c.contentEditable||null==c.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0,"production"!==b.env.NODE_ENV?H(null==c.onFocusIn&&null==c.onFocusOut,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."):void 0),null!=c.style&&"object"!=typeof c.style?"production"!==b.env.NODE_ENV?C(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",S(a)):d("62",S(a)):void 0)}function X(a,c,d,e){if(!(e instanceof z)){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?H("onScroll"!==c||D("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var f=a._hostContainerInfo,g=f._node&&f._node.nodeType===R,h=g?f._node:f._ownerDocument;L(c,h),e.getReactMountReady().enqueue(Y,{inst:a,registrationName:c,listener:d})}}function Y(){var a=this;m.putListener(a.inst,a.registrationName,a.listener)}function Z(){var a=this;t.postMountWrapper(a)}function $(){var a=this;w.postMountWrapper(a)}function _(){var a=this;u.postMountWrapper(a)}function ca(){var a=this;a._rootNodeID?void 0:"production"!==b.env.NODE_ENV?C(!1,"Must be mounted to trap events"):d("63");var c=K(a);switch(c?void 0:"production"!==b.env.NODE_ENV?C(!1,"trapBubbledEvent(...): Requires node to be rendered."):d("64"),a._tag){case"iframe":case"object":a._wrapperState.listeners=[o.trapBubbledEvent(l.topLevelTypes.topLoad,"load",c)];break;case"video":case"audio":a._wrapperState.listeners=[];for(var e in ba)ba.hasOwnProperty(e)&&a._wrapperState.listeners.push(o.trapBubbledEvent(l.topLevelTypes[e],ba[e],c));break;case"source":a._wrapperState.listeners=[o.trapBubbledEvent(l.topLevelTypes.topError,"error",c)];break;case"img":a._wrapperState.listeners=[o.trapBubbledEvent(l.topLevelTypes.topError,"error",c),o.trapBubbledEvent(l.topLevelTypes.topLoad,"load",c)];break;case"form":a._wrapperState.listeners=[o.trapBubbledEvent(l.topLevelTypes.topReset,"reset",c),o.trapBubbledEvent(l.topLevelTypes.topSubmit,"submit",c)];break;case"input":case"select":case"textarea":a._wrapperState.listeners=[o.trapBubbledEvent(l.topLevelTypes.topInvalid,"invalid",c)]}}function da(){v.postUpdateWrapper(this)}function ka(a){ja.call(ia,a)||(ha.test(a)?void 0:"production"!==b.env.NODE_ENV?C(!1,"Invalid tag: %s",a):d("65",a),ia[a]=!0)}function la(a,b){return a.indexOf("-")>=0||null!=b.is}function na(a){var c=a.type;ka(c),this._currentElement=a,this._tag=c.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=null,this._domID=null,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0,"production"!==b.env.NODE_ENV&&(this._ancestorInfo=null,aa.call(this,null))}var d=c(6),e=c(8),f=c(338),g=c(340),h=c(38),i=c(93),j=c(35),k=c(141),l=c(23),m=c(49),n=c(59),o=c(60),p=c(145),q=c(351),r=c(146),s=c(9),t=c(359),u=c(361),v=c(147),w=c(364),x=c(13),y=c(375),z=c(379),A=c(18),B=c(65),C=c(5),D=c(106),E=c(28),F=c(138),G=c(109),H=c(7),I=r,J=m.deleteListener,K=s.getNodeFromInstance,L=o.listenTo,M=n.registrationNameModules,N={string:!0,number:!0},O=E({style:null}),P=E({__html:null}),Q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},R=11,U={},aa=A;"production"!==b.env.NODE_ENV&&(aa=function(a){var b=null!=this._contentDebugID,c=this._debugID,d=c+"#text";if(null==a)return b&&x.debugTool.onUnmountComponent(this._contentDebugID),void(this._contentDebugID=null);this._contentDebugID=d;var e=""+a;x.debugTool.onSetDisplayName(d,"#text"),x.debugTool.onSetParent(d,c),x.debugTool.onSetText(d,e),b?(x.debugTool.onBeforeUpdateComponent(d,a),x.debugTool.onUpdateComponent(d)):(x.debugTool.onBeforeMountComponent(d,a),x.debugTool.onMountComponent(d),x.debugTool.onSetChildren(c,[d]))});var ba={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ea={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},fa={listing:!0,pre:!0,textarea:!0},ga=e({menuitem:!0},ea),ha=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ia={},ja={}.hasOwnProperty,ma=1;na.displayName="ReactDOMComponent",na.Mixin={mountComponent:function(a,c,d,e){this._rootNodeID=ma++,this._domID=d._idCounter++,this._hostParent=c,this._hostContainerInfo=d;var g=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},a.getReactMountReady().enqueue(ca,this);break;case"button":g=q.getHostProps(this,g,c);break;case"input":t.mountWrapper(this,g,c),g=t.getHostProps(this,g),a.getReactMountReady().enqueue(ca,this);break;case"option":u.mountWrapper(this,g,c),g=u.getHostProps(this,g);break;case"select":v.mountWrapper(this,g,c),g=v.getHostProps(this,g),a.getReactMountReady().enqueue(ca,this);break;case"textarea":w.mountWrapper(this,g,c),g=w.getHostProps(this,g),a.getReactMountReady().enqueue(ca,this)}W(this,g);var j,l;if(null!=c?(j=c._namespaceURI,l=c._tag):d._tag&&(j=d._namespaceURI,l=d._tag),(null==j||j===i.svg&&"foreignobject"===l)&&(j=i.html),j===i.html&&("svg"===this._tag?j=i.svg:"math"===this._tag&&(j=i.mathml)),this._namespaceURI=j,"production"!==b.env.NODE_ENV){var m;null!=c?m=c._ancestorInfo:d._tag&&(m=d._ancestorInfo),m&&G(this._tag,this,m),this._ancestorInfo=G.updatedAncestorInfo(m,this._tag,this)}var n;if(a.useCreateElement){var p,o=d._ownerDocument;if(j===i.html)if("script"===this._tag){var r=o.createElement("div"),x=this._currentElement.type;r.innerHTML="<"+x+"></"+x+">",p=r.removeChild(r.firstChild)}else p=g.is?o.createElement(this._currentElement.type,g.is):o.createElement(this._currentElement.type);else p=o.createElementNS(j,this._currentElement.type);s.precacheNode(this,p),this._flags|=I.hasCachedChildNodes,this._hostParent||k.setAttributeForRoot(p),this._updateDOMProperties(null,g,a);var y=h(p);this._createInitialChildren(a,g,e,y),n=y}else{var z=this._createOpenTagMarkupAndPutListeners(a,g),A=this._createContentMarkup(a,g,e);n=!A&&ea[this._tag]?z+"/>":z+">"+A+"</"+this._currentElement.type+">"}switch(this._tag){case"input":a.getReactMountReady().enqueue(Z,this),g.autoFocus&&a.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"textarea":a.getReactMountReady().enqueue($,this),g.autoFocus&&a.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"select":g.autoFocus&&a.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"button":g.autoFocus&&a.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":a.getReactMountReady().enqueue(_,this)}return n},_createOpenTagMarkupAndPutListeners:function(a,c){var d="<"+this._currentElement.type;for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];if(null!=h)if(M.hasOwnProperty(f))h&&X(this,f,h,a);else{f===O&&(h&&("production"!==b.env.NODE_ENV&&(this._previousStyle=h),h=this._previousStyleCopy=e({},c.style)),h=g.createMarkupForStyles(h,this));var i=null;null!=this._tag&&la(this._tag,c)?Q.hasOwnProperty(f)||(i=k.createMarkupForCustomAttribute(f,h)):i=k.createMarkupForProperty(f,h),i&&(d+=" "+i)}}return a.renderToStaticMarkup?d:(this._hostParent||(d+=" "+k.createMarkupForRoot()),d+=" "+k.createMarkupForID(this._domID))},_createContentMarkup:function(a,c,d){var e="",f=c.dangerouslySetInnerHTML;if(null!=f)null!=f.__html&&(e=f.__html);else{var g=N[typeof c.children]?c.children:null,h=null!=g?null:c.children;if(null!=g)e=B(g),"production"!==b.env.NODE_ENV&&aa.call(this,g);else if(null!=h){var i=this.mountChildren(h,a,d);e=i.join("")}}return fa[this._tag]&&"\n"===e.charAt(0)?"\n"+e:e},_createInitialChildren:function(a,c,d,e){var f=c.dangerouslySetInnerHTML;if(null!=f)null!=f.__html&&h.queueHTML(e,f.__html);else{var g=N[typeof c.children]?c.children:null,i=null!=g?null:c.children;if(null!=g)"production"!==b.env.NODE_ENV&&aa.call(this,g),h.queueText(e,g);else if(null!=i)for(var j=this.mountChildren(i,a,d),k=0;k<j.length;k++)h.queueChild(e,j[k])}},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,d){var e=b.props,f=this._currentElement.props;switch(this._tag){case"button":e=q.getHostProps(this,e),f=q.getHostProps(this,f);break;case"input":t.updateWrapper(this),e=t.getHostProps(this,e),f=t.getHostProps(this,f);break;case"option":e=u.getHostProps(this,e),f=u.getHostProps(this,f);break;case"select":e=v.getHostProps(this,e),f=v.getHostProps(this,f);break;case"textarea":w.updateWrapper(this),e=w.getHostProps(this,e),f=w.getHostProps(this,f)}W(this,f),this._updateDOMProperties(e,f,a),this._updateDOMChildren(e,f,a,d),"select"===this._tag&&a.getReactMountReady().enqueue(da,this)},_updateDOMProperties:function(a,c,d){var f,h,i;for(f in a)if(!c.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if(f===O){var l=this._previousStyleCopy;for(h in l)l.hasOwnProperty(h)&&(i=i||{},i[h]="");this._previousStyleCopy=null}else M.hasOwnProperty(f)?a[f]&&J(this,f):la(this._tag,a)?Q.hasOwnProperty(f)||k.deleteValueForAttribute(K(this),f):(j.properties[f]||j.isCustomAttribute(f))&&k.deleteValueForProperty(K(this),f);for(f in c){var m=c[f],n=f===O?this._previousStyleCopy:null!=a?a[f]:void 0;if(c.hasOwnProperty(f)&&m!==n&&(null!=m||null!=n))if(f===O)if(m?("production"!==b.env.NODE_ENV&&(V(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=m),m=this._previousStyleCopy=e({},m)):this._previousStyleCopy=null,n){for(h in n)!n.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(i=i||{},i[h]="");for(h in m)m.hasOwnProperty(h)&&n[h]!==m[h]&&(i=i||{},i[h]=m[h])}else i=m;else if(M.hasOwnProperty(f))m?X(this,f,m,d):n&&J(this,f);else if(la(this._tag,c))Q.hasOwnProperty(f)||k.setValueForAttribute(K(this),f,m);else if(j.properties[f]||j.isCustomAttribute(f)){var o=K(this);null!=m?k.setValueForProperty(o,f,m):k.deleteValueForProperty(o,f)}}i&&g.setValueForStyles(K(this),i,this)},_updateDOMChildren:function(a,c,d,e){var f=N[typeof a.children]?a.children:null,g=N[typeof c.children]?c.children:null,h=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,i=c.dangerouslySetInnerHTML&&c.dangerouslySetInnerHTML.__html,j=null!=f?null:a.children,k=null!=g?null:c.children,l=null!=f||null!=h,m=null!=g||null!=i;null!=j&&null==k?this.updateChildren(null,d,e):l&&!m&&(this.updateTextContent(""),"production"!==b.env.NODE_ENV&&x.debugTool.onSetChildren(this._debugID,[])),null!=g?f!==g&&(this.updateTextContent(""+g),"production"!==b.env.NODE_ENV&&aa.call(this,g)):null!=i?(h!==i&&this.updateMarkup(""+i),"production"!==b.env.NODE_ENV&&x.debugTool.onSetChildren(this._debugID,[])):null!=k&&("production"!==b.env.NODE_ENV&&aa.call(this,null),this.updateChildren(k,d,e))},getHostNode:function(){return K(this)},unmountComponent:function(a){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var c=this._wrapperState.listeners;if(c)for(var e=0;e<c.length;e++)c[e].remove();break;case"html":case"head":case"body":"production"!==b.env.NODE_ENV?C(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):d("66",this._tag)}this.unmountChildren(a),s.uncacheNode(this),m.deleteAllListeners(this),p.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null,"production"!==b.env.NODE_ENV&&aa.call(this,null)},getPublicInstance:function(){return K(this)}},e(na.prototype,na.Mixin,y.Mixin),a.exports=na}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function f(a,c){var f={_topLevelWrapper:a,_idCounter:1,_ownerDocument:c?c.nodeType===e?c:c.ownerDocument:null,_node:c,_tag:c?c.nodeName.toLowerCase():null,_namespaceURI:c?c.namespaceURI:null};return"production"!==b.env.NODE_ENV&&(f._ancestorInfo=c?d.updatedAncestorInfo(null,f._tag,null):null),f}var d=c(109),e=9;a.exports=f}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function i(a,c,d,e,i,j){"production"!==b.env.NODE_ENV&&g.forEach(function(g){try{g[a]&&g[a](c,d,e,i,j)}catch(c){"production"!==b.env.NODE_ENV?f(h[a],"exception thrown by devtool while handling %s: %s",a,c+"\n"+c.stack):void 0,h[a]=!0}})}var d=c(366),e=c(148),f=c(7),g=[],h={},j={addDevtool:function(a){e.addDevtool(a),g.push(a)},removeDevtool:function(a){e.removeDevtool(a);for(var b=0;b<g.length;b++)g[b]===a&&(g.splice(b,1),b--)},onCreateMarkupForProperty:function(a,b){i("onCreateMarkupForProperty",a,b)},onSetValueForProperty:function(a,b,c){i("onSetValueForProperty",a,b,c)},onDeleteValueForProperty:function(a,b){i("onDeleteValueForProperty",a,b)},onTestEvent:function(){i("onTestEvent")}};j.addDevtool(d),a.exports=j}).call(b,c(4))},function(a,b,c){"use strict";var d=c(8),e=c(38),f=c(9),g=function(a){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=null};d(g.prototype,{mountComponent:function(a,b,c,d){var g=c._idCounter++;this._domID=g,this._hostParent=b,this._hostContainerInfo=c;var h=" react-empty: "+this._domID+" ";if(a.useCreateElement){var i=c._ownerDocument,j=i.createComment(h);return f.precacheNode(this,j),e(j)}return a.renderToStaticMarkup?"":"<!--"+h+"-->"},receiveComponent:function(){},getHostNode:function(){return f.getNodeFromInstance(this)},unmountComponent:function(){f.uncacheNode(this)}}),a.exports=g},function(a,b,c){"use strict";(function(b){function f(a){if("production"!==b.env.NODE_ENV){var e=c(149);return e.createFactory(a)}return d.createFactory(a)}var d=c(19),e=c(328),g=e({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},f);a.exports=g}).call(b,c(4))},function(a,b){"use strict";var c={useCreateElement:!0};a.exports=c},function(a,b,c){"use strict";var d=c(92),e=c(9),f={dangerouslyProcessChildrenUpdates:function(a,b){var c=e.getNodeFromInstance(a);d.processUpdates(c,b)}};a.exports=f},function(a,b,c){"use strict";(function(b){function t(){this._rootNodeID&&w.updateWrapper(this)}function u(a){null==a||null!==a.value||o||("production"!==b.env.NODE_ENV?l(!1,"`value` prop on `input` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,o=!0)}function v(a){var b="checkbox"===a.type||"radio"===a.type;return b?void 0!==a.checked:void 0!==a.value}function x(a){var c=this._currentElement.props,e=h.executeOnChange(c,a);j.asap(t,this);var f=c.name;if("radio"===c.type&&null!=f){for(var g=i.getNodeFromInstance(this),l=g;l.parentNode;)l=l.parentNode;for(var m=l.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),n=0;n<m.length;n++){var o=m[n];if(o!==g&&o.form===g.form){var p=i.getInstanceFromNode(o);p?void 0:"production"!==b.env.NODE_ENV?k(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):d("90"),j.asap(t,p)}}}return e}var d=c(6),e=c(8),f=c(58),g=c(141),h=c(96),i=c(9),j=c(22),k=c(5),l=c(7),m=!1,n=!1,o=!1,p=!1,q=!1,r=!1,s=!1,w={getHostProps:function(a,b){var c=h.getValue(b),d=h.getChecked(b),g=e({type:void 0},f.getHostProps(a,b),{defaultChecked:void 0,defaultValue:void 0,value:null!=c?c:a._wrapperState.initialValue,checked:null!=d?d:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange});return g},mountWrapper:function(a,c){if("production"!==b.env.NODE_ENV){h.checkPropTypes("input",c,a._currentElement._owner);var d=a._currentElement._owner;void 0===c.valueLink||m||("production"!==b.env.NODE_ENV?l(!1,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,m=!0),void 0===c.checkedLink||n||("production"!==b.env.NODE_ENV?l(!1,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,n=!0),void 0===c.checked||void 0===c.defaultChecked||q||("production"!==b.env.NODE_ENV?l(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",d&&d.getName()||"A component",c.type):void 0,q=!0),void 0===c.value||void 0===c.defaultValue||p||("production"!==b.env.NODE_ENV?l(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",d&&d.getName()||"A component",c.type):void 0,p=!0),u(c)}var e=c.defaultValue;a._wrapperState={initialChecked:null!=c.checked?c.checked:c.defaultChecked,initialValue:null!=c.value?c.value:e,listeners:null,onChange:x.bind(a)},"production"!==b.env.NODE_ENV&&(a._wrapperState.controlled=v(c))},updateWrapper:function(a){var c=a._currentElement.props;if("production"!==b.env.NODE_ENV){u(c);var d=v(c),e=a._currentElement._owner;a._wrapperState.controlled||!d||s||("production"!==b.env.NODE_ENV?l(!1,"%s is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",e&&e.getName()||"A component",c.type):void 0,s=!0),!a._wrapperState.controlled||d||r||("production"!==b.env.NODE_ENV?l(!1,"%s is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",e&&e.getName()||"A component",c.type):void 0,r=!0)}var f=c.checked;null!=f&&g.setValueForProperty(i.getNodeFromInstance(a),"checked",f||!1);var j=i.getNodeFromInstance(a),k=h.getValue(c);if(null!=k){var m=""+k;m!==j.value&&(j.value=m)}else null==c.value&&null!=c.defaultValue&&(j.defaultValue=""+c.defaultValue),null==c.checked&&null!=c.defaultChecked&&(j.defaultChecked=!!c.defaultChecked)},postMountWrapper:function(a){var b=i.getNodeFromInstance(a);b.value=b.value;var c=b.name;b.name=void 0,b.defaultChecked=!b.defaultChecked,b.defaultChecked=!b.defaultChecked,b.name=c}};a.exports=w}).call(b,c(4))},function(a,b,c){"use strict";var d=c(354);a.exports={debugTool:d}},function(a,b,c){"use strict";(function(b){function j(a){var c="";return e.forEach(a,function(a){null!=a&&("string"==typeof a||"number"==typeof a?c+=a:i||(i=!0,"production"!==b.env.NODE_ENV?h(!1,"Only strings and numbers are supported as <option> children."):void 0))}),c}var d=c(8),e=c(142),f=c(9),g=c(147),h=c(7),i=!1,k={mountWrapper:function(a,c,d){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?h(null==c.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var e=null;if(null!=d){var f=d;"optgroup"===f._tag&&(f=f._hostParent),null!=f&&"select"===f._tag&&(e=g.getSelectValueContext(f))}var i=null;if(null!=e){var k;if(k=null!=c.value?c.value+"":j(c.children),i=!1,Array.isArray(e)){for(var l=0;l<e.length;l++)if(""+e[l]===k){i=!0;break}}else i=""+e===k}a._wrapperState={selected:i}},postMountWrapper:function(a){var b=a._currentElement.props;if(null!=b.value){var c=f.getNodeFromInstance(a);c.setAttribute("value",b.value)}},getHostProps:function(a,b){var c=d({selected:void 0,children:void 0},b);null!=a._wrapperState.selected&&(c.selected=a._wrapperState.selected);var e=j(b.children);return e&&(c.children=e),c}};a.exports=k}).call(b,c(4))},function(a,b,c){"use strict";function g(a,b,c,d){return a===c&&b===d}function h(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function i(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(a){return null}var i=g(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),j=i?0:h.toString().length,k=h.cloneRange();k.selectNodeContents(a),k.setEnd(h.startContainer,h.startOffset);var l=g(k.startContainer,k.startOffset,k.endContainer,k.endOffset),m=l?0:k.toString().length,n=m+j,o=document.createRange();o.setStart(c,d),o.setEnd(e,f);var p=o.collapsed;return{start:p?n:m,end:p?m:n}}function j(a,b){var d,e,c=document.selection.createRange().duplicate();void 0===b.end?(d=b.start,e=d):b.start>b.end?(d=b.end,e=b.start):(d=b.start,e=b.end),c.moveToElementText(a),c.moveStart("character",d),c.setEndPoint("EndToStart",c),c.moveEnd("character",e-d),c.select()}function k(a,b){if(window.getSelection){var c=window.getSelection(),d=a[f()].length,g=Math.min(b.start,d),h=void 0===b.end?g:Math.min(b.end,d);if(!c.extend&&g>h){var i=h;h=g,g=i}var j=e(a,g),k=e(a,h);if(j&&k){var l=document.createRange();l.setStart(j.node,j.offset),c.removeAllRanges(),g>h?(c.addRange(l),c.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),c.addRange(l))}}}var d=c(10),e=c(398),f=c(166),l=d.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?h:i,setOffsets:l?j:k};a.exports=m},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(8),f=c(92),g=c(38),h=c(9),i=c(13),j=c(65),k=c(5),l=c(109),m=function(a){this._currentElement=a,this._stringText=""+a,this._hostNode=null,this._hostParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null};e(m.prototype,{mountComponent:function(a,c,d,e){if("production"!==b.env.NODE_ENV){i.debugTool.onSetText(this._debugID,this._stringText);var f;null!=c?f=c._ancestorInfo:null!=d&&(f=d._ancestorInfo),f&&l("#text",this,f)}var k=d._idCounter++,m=" react-text: "+k+" ",n=" /react-text ";if(this._domID=k,this._hostParent=c,a.useCreateElement){var o=d._ownerDocument,p=o.createComment(m),q=o.createComment(n),r=g(o.createDocumentFragment());return g.queueChild(r,g(p)),this._stringText&&g.queueChild(r,g(o.createTextNode(this._stringText))),g.queueChild(r,g(q)),h.precacheNode(this,p),this._closingComment=q,r}var s=j(this._stringText);
return a.renderToStaticMarkup?s:"<!--"+m+"-->"+s+"<!--"+n+"-->"},receiveComponent:function(a,c){if(a!==this._currentElement){this._currentElement=a;var d=""+a;if(d!==this._stringText){this._stringText=d;var e=this.getHostNode();f.replaceDelimitedText(e[0],e[1],d),"production"!==b.env.NODE_ENV&&i.debugTool.onSetText(this._debugID,d)}}},getHostNode:function(){var a=this._commentNodes;if(a)return a;if(!this._closingComment)for(var c=h.getNodeFromInstance(this),e=c.nextSibling;;){if(null==e?"production"!==b.env.NODE_ENV?k(!1,"Missing closing comment for text component %s",this._domID):d("67",this._domID):void 0,8===e.nodeType&&" /react-text "===e.nodeValue){this._closingComment=e;break}e=e.nextSibling}return a=[this._hostNode,this._closingComment],this._commentNodes=a,a},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,h.uncacheNode(this)}}),a.exports=m}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function o(){this._rootNodeID&&q.updateWrapper(this)}function p(a){null==a||null!==a.value||m||("production"!==b.env.NODE_ENV?k(!1,"`value` prop on `textarea` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components."):void 0,m=!0)}function r(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);return i.asap(o,this),c}var d=c(6),e=c(8),f=c(58),g=c(96),h=c(9),i=c(22),j=c(5),k=c(7),l=!1,m=!1,n=!1,q={getHostProps:function(a,c){null!=c.dangerouslySetInnerHTML?"production"!==b.env.NODE_ENV?j(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):d("91"):void 0;var g=e({},f.getHostProps(a,c),{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue,onChange:a._wrapperState.onChange});return g},mountWrapper:function(a,c){"production"!==b.env.NODE_ENV&&(g.checkPropTypes("textarea",c,a._currentElement._owner),void 0===c.valueLink||l||("production"!==b.env.NODE_ENV?k(!1,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0,l=!0),void 0===c.value||void 0===c.defaultValue||n||("production"!==b.env.NODE_ENV?k(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,n=!0),p(c));var e=g.getValue(c),f=e;if(null==e){var h=c.defaultValue,i=c.children;null!=i&&("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?k(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=h?"production"!==b.env.NODE_ENV?j(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):d("92"):void 0,Array.isArray(i)&&(i.length<=1?void 0:"production"!==b.env.NODE_ENV?j(!1,"<textarea> can only have at most one child."):d("93"),i=i[0]),h=""+i),null==h&&(h=""),f=h}a._wrapperState={initialValue:""+f,listeners:null,onChange:r.bind(a)}},updateWrapper:function(a){var c=a._currentElement.props;"production"!==b.env.NODE_ENV&&p(c);var d=h.getNodeFromInstance(a),e=g.getValue(c);if(null!=e){var f=""+e;f!==d.value&&(d.value=f),null==c.defaultValue&&(d.defaultValue=f)}null!=c.defaultValue&&(d.defaultValue=c.defaultValue)},postMountWrapper:function(a){var b=h.getNodeFromInstance(a);b.value=b.textContent}};a.exports=q}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function f(a,c){"_hostNode"in a?void 0:"production"!==b.env.NODE_ENV?e(!1,"getNodeFromInstance: Invalid argument."):d("33"),"_hostNode"in c?void 0:"production"!==b.env.NODE_ENV?e(!1,"getNodeFromInstance: Invalid argument."):d("33");for(var f=0,g=a;g;g=g._hostParent)f++;for(var h=0,i=c;i;i=i._hostParent)h++;for(;f-h>0;)a=a._hostParent,f--;for(;h-f>0;)c=c._hostParent,h--;for(var j=f;j--;){if(a===c)return a;a=a._hostParent,c=c._hostParent}return null}function g(a,c){"_hostNode"in a?void 0:"production"!==b.env.NODE_ENV?e(!1,"isAncestor: Invalid argument."):d("35"),"_hostNode"in c?void 0:"production"!==b.env.NODE_ENV?e(!1,"isAncestor: Invalid argument."):d("35");for(;c;){if(c===a)return!0;c=c._hostParent}return!1}function h(a){return"_hostNode"in a?void 0:"production"!==b.env.NODE_ENV?e(!1,"getParentInstance: Invalid argument."):d("36"),a._hostParent}function i(a,b,c){for(var d=[];a;)d.push(a),a=a._hostParent;var e;for(e=d.length;e-- >0;)b(d[e],!1,c);for(e=0;e<d.length;e++)b(d[e],!0,c)}function j(a,b,c,d,e){for(var g=a&&b?f(a,b):null,h=[];a&&a!==g;)h.push(a),a=a._hostParent;for(var i=[];b&&b!==g;)i.push(b),b=b._hostParent;var j;for(j=0;j<h.length;j++)c(h[j],!0,d);for(j=i.length;j-- >0;)c(i[j],!1,e)}var d=c(6),e=c(5);a.exports={isAncestor:g,getLowestCommonAncestor:f,getParentInstance:h,traverseTwoPhase:i,traverseEnterLeave:j}}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function l(a,b){null!=b&&"string"==typeof b.type&&(b.type.indexOf("-")>=0||b.props.is||k(a,b))}var d=c(35),e=c(59),f=c(39),g=c(7);if("production"!==b.env.NODE_ENV)var h={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0,autoFocus:!0,defaultValue:!0,valueLink:!0,defaultChecked:!0,checkedLink:!0,innerHTML:!0,suppressContentEditableWarning:!0,onFocusIn:!0,onFocusOut:!0},i={},j=function(a,c,j){if(d.properties.hasOwnProperty(c)||d.isCustomAttribute(c))return!0;if(h.hasOwnProperty(c)&&h[c]||i.hasOwnProperty(c)&&i[c])return!0;if(e.registrationNameModules.hasOwnProperty(c))return!0;i[c]=!0;var k=c.toLowerCase(),l=d.isCustomAttribute(k)?k:d.getPossibleStandardName.hasOwnProperty(k)?d.getPossibleStandardName[k]:null,m=e.possibleRegistrationNames.hasOwnProperty(k)?e.possibleRegistrationNames[k]:null;return null!=l?("production"!==b.env.NODE_ENV?g(null==l,"Unknown DOM property %s. Did you mean %s?%s",c,l,f.getStackAddendumByID(j)):void 0,!0):null!=m&&("production"!==b.env.NODE_ENV?g(null==m,"Unknown event handler property %s. Did you mean `%s`?%s",c,m,f.getStackAddendumByID(j)):void 0,!0)};var k=function(a,c){var d=[];for(var e in c.props){var h=j(c.type,e,a);h||d.push(e)}var i=d.map(function(a){return"`"+a+"`"}).join(", ");1===d.length?"production"!==b.env.NODE_ENV?g(!1,"Unknown prop %s on <%s> tag. Remove this prop from the element. For details, see https://fb.me/react-unknown-prop%s",i,c.type,f.getStackAddendumByID(a)):void 0:d.length>1&&("production"!==b.env.NODE_ENV?g(!1,"Unknown props %s on <%s> tag. Remove these props from the element. For details, see https://fb.me/react-unknown-prop%s",i,c.type,f.getStackAddendumByID(a)):void 0)},m={onBeforeMountComponent:function(a,b){l(a,b)},onBeforeUpdateComponent:function(a,b){l(a,b)}};a.exports=m}).call(b,c(4))},function(a,b,c){"use strict";function k(){this.reinitializeTransaction()}var d=c(8),e=c(22),f=c(64),g=c(18),h={initialize:g,close:function(){m.isBatchingUpdates=!1}},i={initialize:g,close:e.flushBatchedUpdates.bind(e)},j=[i,h];d(k.prototype,f.Mixin,{getTransactionWrappers:function(){return j}});var l=new k,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e,f){var g=m.isBatchingUpdates;m.isBatchingUpdates=!0,g?a(b,c,d,e,f):l.perform(a,null,b,c,d,e,f)}};a.exports=m},function(a,b,c){"use strict";function w(){v||(v=!0,q.EventEmitter.injectReactEventListener(p),q.EventPluginHub.injectEventPluginOrder(f),q.EventPluginUtils.injectComponentTree(k),q.EventPluginUtils.injectTreeTraversal(m),q.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:u,EnterLeaveEventPlugin:g,ChangeEventPlugin:e,SelectEventPlugin:t,BeforeInputEventPlugin:d}),q.HostComponent.injectGenericComponentClass(j),q.HostComponent.injectTextComponentClass(n),q.DOMProperty.injectDOMPropertyConfig(h),q.DOMProperty.injectDOMPropertyConfig(s),q.EmptyComponent.injectEmptyComponentFactory(function(a){return new l(a)}),q.Updates.injectReconcileTransaction(r),q.Updates.injectBatchingStrategy(o),q.Component.injectEnvironment(i))}var d=c(339),e=c(341),f=c(343),g=c(344),h=c(346),i=c(145),j=c(352),k=c(9),l=c(355),m=c(365),n=c(363),o=c(367),p=c(370),q=c(372),r=c(377),s=c(380),t=c(381),u=c(382),v=!1;a.exports={inject:w}},function(a,b,c){"use strict";function e(a){d.enqueueEvents(a),d.processEventQueue(!1)}var d=c(49),f={handleTopLevel:function(a,b,c,f){var g=d.extractEvents(a,b,c,f);e(g)}};a.exports=f},function(a,b,c){"use strict";function l(a){for(;a._hostParent;)a=a._hostParent;var b=h.getNodeFromInstance(a),c=b.parentNode;return h.getClosestInstanceFromNode(c)}function m(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function n(a){var b=j(a.nativeEvent),c=h.getClosestInstanceFromNode(b),d=c;do a.ancestors.push(d),d=d&&l(d);while(d);for(var e=0;e<a.ancestors.length;e++)c=a.ancestors[e],p._handleTopLevel(a.topLevelType,c,a.nativeEvent,j(a.nativeEvent))}function o(a){var b=k(window);a(b)}var d=c(8),e=c(134),f=c(10),g=c(29),h=c(9),i=c(22),j=c(104),k=c(323);d(m.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),g.addPoolingTo(m,g.twoArgumentPooler);var p={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:f.canUseDOM?window:null,setHandleTopLevel:function(a){p._handleTopLevel=a},setEnabled:function(a){p._enabled=!!a},isEnabled:function(){return p._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?e.listen(d,b,p.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?e.capture(d,b,p.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=o.bind(null,a);e.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(p._enabled){var c=m.getPooled(a,b);try{i.batchedUpdates(n,c)}finally{m.release(c)}}}};a.exports=p},function(a,b){"use strict";var c=[],d={onHostOperation:function(a,b,d){c.push({instanceID:a,type:b,payload:d})},clearHistory:function(){d._preventClearing||(c=[])},getHistory:function(){return c}};a.exports=d},function(a,b,c){"use strict";var d=c(35),e=c(49),f=c(94),g=c(97),h=c(143),i=c(150),j=c(60),k=c(152),l=c(22),m={Component:g.injection,Class:h.injection,DOMProperty:d.injection,EmptyComponent:i.injection,EventPluginHub:e.injection,EventPluginUtils:f.injection,EventEmitter:j.injection,HostComponent:k.injection,Updates:l.injection};a.exports=m},function(a,b,c){"use strict";(function(b){var d=c(7);if("production"!==b.env.NODE_ENV)var e=!1,f=function(){"production"!==b.env.NODE_ENV?d(!e,"setState(...): Cannot call setState() inside getChildContext()"):void 0};var g={onBeginProcessingChildContext:function(){e=!0},onEndProcessingChildContext:function(){e=!1},onSetState:function(){f()}};a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";var d=c(393),e=/\/?>/,f=/^<\!\-\-/,g={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return f.test(a)?a:a.replace(e," "+g.CHECKSUM_ATTR_NAME+'="'+b+'"$&')},canReuseMarkup:function(a,b){var c=b.getAttribute(g.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var e=d(a);return e===c}};a.exports=g},function(a,b,c){"use strict";(function(b){function o(a,b,c){return{type:h.INSERT_MARKUP,content:a,fromIndex:null,fromNode:null,toIndex:c,afterNode:b}}function p(a,b,c){return{type:h.MOVE_EXISTING,content:null,fromIndex:a._mountIndex,fromNode:j.getHostNode(a),toIndex:c,afterNode:b}}function q(a,b){return{type:h.REMOVE_NODE,content:null,fromIndex:a._mountIndex,fromNode:b,toIndex:null,afterNode:null}}function r(a){return{type:h.SET_MARKUP,content:a,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(a){return{type:h.TEXT_CONTENT,content:a,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function t(a,b){return b&&(a=a||[],a.push(b)),a}function u(a,b){e.processChildrenUpdates(a,b)}var d=c(6),e=c(97),f=c(61),g=c(13),h=c(155),i=c(24),j=c(40),k=c(348),l=c(18),m=c(396),n=c(5),v=l,w=l;if("production"!==b.env.NODE_ENV){var x=function(a){if(!a._debugID){var b;(b=f.get(a))&&(a=b)}return a._debugID};v=function(a){0!==a._debugID&&g.debugTool.onSetParent(a._debugID,x(this))},w=function(a){g.debugTool.onSetChildren(x(this),a?Object.keys(a).map(function(b){return a[b]._debugID}):[])}}var y={Mixin:{_reconcilerInstantiateChildren:function(a,c,d){if("production"!==b.env.NODE_ENV&&this._currentElement)try{return i.current=this._currentElement._owner,k.instantiateChildren(a,c,d,this._debugID)}finally{i.current=null}return k.instantiateChildren(a,c,d)},_reconcilerUpdateChildren:function(a,c,d,e,f){var g;if("production"!==b.env.NODE_ENV&&this._currentElement){try{i.current=this._currentElement._owner,g=m(c,this._debugID)}finally{i.current=null}return k.updateChildren(a,g,d,e,f),g}return g=m(c),k.updateChildren(a,g,d,e,f),g},mountChildren:function(a,c,d){var e=this._reconcilerInstantiateChildren(a,c,d);this._renderedChildren=e;var f=[],g=0;for(var h in e)if(e.hasOwnProperty(h)){var i=e[h];"production"!==b.env.NODE_ENV&&v.call(this,i);var k=j.mountComponent(i,c,this,this._hostContainerInfo,d);i._mountIndex=g++,f.push(k)}return"production"!==b.env.NODE_ENV&&w.call(this,e),f},updateTextContent:function(a){var c=this._renderedChildren;k.unmountChildren(c,!1);for(var e in c)c.hasOwnProperty(e)&&("production"!==b.env.NODE_ENV?n(!1,"updateTextContent called on non-empty component."):d("118"));var f=[s(a)];u(this,f)},updateMarkup:function(a){var c=this._renderedChildren;k.unmountChildren(c,!1);for(var e in c)c.hasOwnProperty(e)&&("production"!==b.env.NODE_ENV?n(!1,"updateTextContent called on non-empty component."):d("118"));var f=[r(a)];u(this,f)},updateChildren:function(a,b,c){this._updateChildren(a,b,c)},_updateChildren:function(a,c,d){var e=this._renderedChildren,f={},g=this._reconcilerUpdateChildren(e,a,f,c,d);if(g||e){var i,h=null,k=0,l=0,m=null;for(i in g)if(g.hasOwnProperty(i)){var n=e&&e[i],o=g[i];n===o?(h=t(h,this.moveChild(n,m,l,k)),k=Math.max(n._mountIndex,k),n._mountIndex=l):(n&&(k=Math.max(n._mountIndex,k)),h=t(h,this._mountChildAtIndex(o,m,l,c,d))),l++,m=j.getHostNode(o)}for(i in f)f.hasOwnProperty(i)&&(h=t(h,this._unmountChild(e[i],f[i])));h&&u(this,h),this._renderedChildren=g,"production"!==b.env.NODE_ENV&&w.call(this,g)}},unmountChildren:function(a){var b=this._renderedChildren;k.unmountChildren(b,a),this._renderedChildren=null},moveChild:function(a,b,c,d){if(a._mountIndex<d)return p(a,b,c)},createChild:function(a,b,c){return o(c,b,a._mountIndex)},removeChild:function(a,b){return q(a,b)},_mountChildAtIndex:function(a,b,c,d,e){var f=j.mountComponent(a,d,this,this._hostContainerInfo,e);return a._mountIndex=c,this.createChild(a,b,f)},_unmountChild:function(a,b){var c=this.removeChild(a,b);return a._mountIndex=null,c}}};a.exports=y}).call(b,c(4))},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(5),f={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,c,g){f.isValidOwner(g)?void 0:"production"!==b.env.NODE_ENV?e(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):d("119"),g.attachRef(c,a)},removeComponentAsRefFrom:function(a,c,g){f.isValidOwner(g)?void 0:"production"!==b.env.NODE_ENV?e(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):d("120");var h=g.getPublicInstance();h&&h.refs[c]===a.getPublicInstance()&&g.detachRef(c)}};a.exports=f}).call(b,c(4))},function(a,b,c){"use strict";function n(a){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.useCreateElement=a}var d=c(8),e=c(140),f=c(29),g=c(60),h=c(153),i=c(64),j={initialize:h.getSelectionInformation,close:h.restoreSelection},k={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},l={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},m=[j,k,l],o={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(a){this.reactMountReady.rollback(a)},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null}};d(n.prototype,i.Mixin,o),f.addPoolingTo(n),a.exports=n},function(a,b,c){"use strict";function f(a,b,c){"function"==typeof a?a(b.getPublicInstance()):d.addComponentAsRefTo(b,a,c)}function g(a,b,c){"function"==typeof a?a(null):d.removeComponentAsRefFrom(b,a,c)}var d=c(376),e={};e.attachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&f(c,a,b._owner)}},e.shouldUpdateRefs=function(a,b){var c=null===a||a===!1,d=null===b||b===!1;return c||d||b._owner!==a._owner||b.ref!==a.ref},e.detachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&g(c,a,b._owner)}},a.exports=e},function(a,b,c){"use strict";function i(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.useCreateElement=!1}var d=c(8),e=c(29),f=c(64),g=[],h={enqueue:function(){}},j={getTransactionWrappers:function(){return g},getReactMountReady:function(){return h},destructor:function(){},checkpoint:function(){},rollback:function(){}};d(i.prototype,f.Mixin,j),e.addPoolingTo(i),a.exports=i},function(a,b){"use strict";var c={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},d={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},e={Properties:{},DOMAttributeNamespaces:{xlinkActuate:c.xlink,xlinkArcrole:c.xlink,xlinkHref:c.xlink,xlinkRole:c.xlink,xlinkShow:c.xlink,xlinkTitle:c.xlink,xlinkType:c.xlink,xmlBase:c.xml,xmlLang:c.xml,xmlSpace:c.xml},DOMAttributeNames:{}};Object.keys(d).forEach(function(a){e.Properties[a]=0,d[a]&&(e.DOMAttributeNames[a]=d[a])}),a.exports=e},function(a,b,c){"use strict";function w(a){if("selectionStart"in a&&h.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function x(a,b){if(t||null==q||q!==j())return null;var c=w(q);if(!s||!m(s,c)){s=c;var d=i.getPooled(p.select,r,a,b);return d.type="select",d.target=q,e.accumulateTwoPhaseDispatches(d),d}return null}var d=c(23),e=c(50),f=c(10),g=c(9),h=c(153),i=c(25),j=c(136),k=c(168),l=c(28),m=c(138),n=d.topLevelTypes,o=f.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[n.topBlur,n.topContextMenu,n.topFocus,n.topKeyDown,n.topMouseDown,n.topMouseUp,n.topSelectionChange]}},q=null,r=null,s=null,t=!1,u=!1,v=l({onSelect:null}),y={eventTypes:p,extractEvents:function(a,b,c,d){if(!u)return null;var e=b?g.getNodeFromInstance(b):window;switch(a){case n.topFocus:(k(e)||"true"===e.contentEditable)&&(q=e,r=b,s=null);break;case n.topBlur:q=null,r=null,s=null;break;case n.topMouseDown:t=!0;break;case n.topContextMenu:case n.topMouseUp:return t=!1,x(c,d);case n.topSelectionChange:if(o)break;case n.topKeyDown:case n.topKeyUp:return x(c,d)}return null},didPutListener:function(a,b,c){b===v&&(u=!0)}};a.exports=y},function(a,b,c){"use strict";(function(b){var d=c(6),e=c(23),f=c(134),g=c(50),h=c(9),i=c(383),j=c(384),k=c(25),l=c(387),m=c(389),n=c(63),o=c(386),p=c(390),q=c(391),r=c(51),s=c(392),t=c(18),u=c(102),v=c(5),w=c(28),x=e.topLevelTypes,y={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},z={topAbort:y.abort,topAnimationEnd:y.animationEnd,topAnimationIteration:y.animationIteration,topAnimationStart:y.animationStart,topBlur:y.blur,topCanPlay:y.canPlay,topCanPlayThrough:y.canPlayThrough,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topDurationChange:y.durationChange,topEmptied:y.emptied,topEncrypted:y.encrypted,topEnded:y.ended,topError:y.error,topFocus:y.focus,topInput:y.input,topInvalid:y.invalid,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topLoadedData:y.loadedData,topLoadedMetadata:y.loadedMetadata,topLoadStart:y.loadStart,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topPause:y.pause,topPlay:y.play,topPlaying:y.playing,topProgress:y.progress,topRateChange:y.rateChange,topReset:y.reset,topScroll:y.scroll,topSeeked:y.seeked,topSeeking:y.seeking,topStalled:y.stalled,topSubmit:y.submit,topSuspend:y.suspend,topTimeUpdate:y.timeUpdate,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topTransitionEnd:y.transitionEnd,
topVolumeChange:y.volumeChange,topWaiting:y.waiting,topWheel:y.wheel};for(var A in z)z[A].dependencies=[A];var B=w({onClick:null}),C={},D={eventTypes:y,extractEvents:function(a,c,e,f){var h=z[a];if(!h)return null;var t;switch(a){case x.topAbort:case x.topCanPlay:case x.topCanPlayThrough:case x.topDurationChange:case x.topEmptied:case x.topEncrypted:case x.topEnded:case x.topError:case x.topInput:case x.topInvalid:case x.topLoad:case x.topLoadedData:case x.topLoadedMetadata:case x.topLoadStart:case x.topPause:case x.topPlay:case x.topPlaying:case x.topProgress:case x.topRateChange:case x.topReset:case x.topSeeked:case x.topSeeking:case x.topStalled:case x.topSubmit:case x.topSuspend:case x.topTimeUpdate:case x.topVolumeChange:case x.topWaiting:t=k;break;case x.topKeyPress:if(0===u(e))return null;case x.topKeyDown:case x.topKeyUp:t=m;break;case x.topBlur:case x.topFocus:t=l;break;case x.topClick:if(2===e.button)return null;case x.topContextMenu:case x.topDoubleClick:case x.topMouseDown:case x.topMouseMove:case x.topMouseOut:case x.topMouseOver:case x.topMouseUp:t=n;break;case x.topDrag:case x.topDragEnd:case x.topDragEnter:case x.topDragExit:case x.topDragLeave:case x.topDragOver:case x.topDragStart:case x.topDrop:t=o;break;case x.topTouchCancel:case x.topTouchEnd:case x.topTouchMove:case x.topTouchStart:t=p;break;case x.topAnimationEnd:case x.topAnimationIteration:case x.topAnimationStart:t=i;break;case x.topTransitionEnd:t=q;break;case x.topScroll:t=r;break;case x.topWheel:t=s;break;case x.topCopy:case x.topCut:case x.topPaste:t=j}t?void 0:"production"!==b.env.NODE_ENV?v(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",a):d("86",a);var w=t.getPooled(h,c,e,f);return g.accumulateTwoPhaseDispatches(w),w},didPutListener:function(a,b,c){if(b===B){var d=a._rootNodeID,e=h.getNodeFromInstance(a);C[d]||(C[d]=f.listen(e,"click",t))}},willDeleteListener:function(a,b){if(b===B){var c=a._rootNodeID;C[c].remove(),delete C[c]}}};a.exports=D}).call(b,c(4))},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e={animationName:null,elapsedTime:null,pseudoElement:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e={data:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(63),e={dataTransfer:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(51),e={relatedTarget:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e={data:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function i(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(51),e=c(102),f=c(397),g=c(103),h={key:f,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:g,charCode:function(a){return"keypress"===a.type?e(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?e(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};d.augmentClass(i,h),a.exports=i},function(a,b,c){"use strict";function g(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(51),e=c(103),f={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:e};d.augmentClass(g,f),a.exports=g},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(25),e={propertyName:null,elapsedTime:null,pseudoElement:null};d.augmentClass(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b,c,e){return d.call(this,a,b,c,e)}var d=c(63),e={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};d.augmentClass(f,e),a.exports=f},function(a,b){"use strict";function d(a){for(var b=1,d=0,e=0,f=a.length,g=f&-4;e<g;){for(var h=Math.min(e+4096,g);e<h;e+=4)d+=(b+=a.charCodeAt(e))+(b+=a.charCodeAt(e+1))+(b+=a.charCodeAt(e+2))+(b+=a.charCodeAt(e+3));b%=c,d%=c}for(;e<f;e++)d+=b+=a.charCodeAt(e);return b%=c,d%=c,b|d<<16}var c=65521;a.exports=d},function(a,b,c){"use strict";(function(b){function h(a,c,d){var h=null==c||"boolean"==typeof c||""===c;if(h)return"";var i=isNaN(c);if(i||0===c||f.hasOwnProperty(a)&&f[a])return""+c;if("string"==typeof c){if("production"!==b.env.NODE_ENV&&d&&"0"!==c){var j=d._currentElement._owner,k=j?j.getName():null;k&&!g[k]&&(g[k]={});var l=!1;if(k){var m=g[k];l=m[a],l||(m[a]=!0)}l||("production"!==b.env.NODE_ENV?e(!1,"a `%s` tag (owner: `%s`) was passed a numeric string value for CSS property `%s` (value: `%s`) which will be treated as a unitless number in a future version of React.",d._currentElement.type,k||"unknown",a,c):void 0)}c=c.trim()}return c+"px"}var d=c(139),e=c(7),f=d.isUnitlessNumber,g={};a.exports=h}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function k(a){if("production"!==b.env.NODE_ENV){var c=e.current;null!==c&&("production"!==b.env.NODE_ENV?j(c._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",c.getName()||"A component"):void 0,c._warnedAboutRefsInRender=!0)}if(null==a)return null;if(1===a.nodeType)return a;var k=g.get(a);return k?(k=h(k),k?f.getNodeFromInstance(k):null):void("function"==typeof a.render?"production"!==b.env.NODE_ENV?i(!1,"findDOMNode was called on an unmounted component."):d("44"):"production"!==b.env.NODE_ENV?i(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(a)):d("45",Object.keys(a)))}var d=c(6),e=c(24),f=c(9),g=c(61),h=c(165),i=c(5),j=c(7);a.exports=k}).call(b,c(4))},function(a,b,c){"use strict";(function(b){function h(a,c,f,h){var i=a,j=void 0===i[f];"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?g(j,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.%s",e.unescape(f),d.getStackAddendumByID(h)):void 0),j&&null!=c&&(i[f]=c)}function i(a,c){if(null==a)return a;var d={};return"production"!==b.env.NODE_ENV?f(a,function(a,b,d){return h(a,b,d,c)},d):f(a,h,d),d}var d=c(39),e=c(95),f=c(108),g=c(7);a.exports=i}).call(b,c(4))},function(a,b,c){"use strict";function g(a){if(a.key){var b=e[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=d(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?f[a.keyCode]||"Unidentified":""}var d=c(102),e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};a.exports=g},function(a,b){"use strict";function c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function e(a,b){for(var e=c(a),f=0,g=0;e;){if(3===e.nodeType){if(g=f+e.textContent.length,f<=b&&g>=b)return{node:e,offset:b-f};f=g}e=c(d(e))}}a.exports=e},function(a,b,c){"use strict";function e(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c["ms"+a]="MS"+b,c["O"+a]="o"+b.toLowerCase(),c}function i(a){if(g[a])return g[a];if(!f[a])return a;var b=f[a];for(var c in b)if(b.hasOwnProperty(c)&&c in h)return g[a]=b[c];return""}var d=c(10),f={animationend:e("Animation","AnimationEnd"),animationiteration:e("Animation","AnimationIteration"),animationstart:e("Animation","AnimationStart"),transitionend:e("Transition","TransitionEnd")},g={},h={};d.canUseDOM&&(h=document.createElement("div").style,"AnimationEvent"in window||(delete f.animationend.animation,delete f.animationiteration.animation,delete f.animationstart.animation),"TransitionEvent"in window||delete f.transitionend.transition),a.exports=i},function(a,b,c){"use strict";(function(b){function g(a){return e.isValidElement(a)?void 0:"production"!==b.env.NODE_ENV?f(!1,"onlyChild must be passed a children with exactly one child."):d("23"),a}var d=c(6),e=c(19),f=c(5);a.exports=g}).call(b,c(4))},function(a,b,c){"use strict";function e(a){return'"'+d(a)+'"'}var d=c(65);a.exports=e},function(a,b,c){"use strict";var d=c(154);a.exports=d.renderSubtreeIntoContainer},function(a,b,c){"use strict";function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function v(a,b,c){if(a&&e.isObject(a)&&a instanceof f)return a;var d=new f;return d.parse(a,b,c),d}function w(a){return e.isString(a)&&(a=v(a)),a instanceof f?a.format():f.prototype.format.call(a)}function x(a,b){return v(a,!1,!0).resolve(b)}function y(a,b){return a?v(a,!1,!0).resolveObject(b):b}var d=c(333),e=c(404);b.parse=v,b.resolve=x,b.resolveObject=y,b.format=w,b.Url=f;var g=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,j=["<",">",'"',"`"," ","\r","\n","\t"],k=["{","}","|","\\","^","`"].concat(j),l=["'"].concat(k),m=["%","/","?",";","#"].concat(l),n=["/","?","#"],o=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,q=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,r={javascript:!0,"javascript:":!0},s={javascript:!0,"javascript:":!0},t={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u=c(336);f.prototype.parse=function(a,b,c){if(!e.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var f=a.indexOf("?"),h=f!==-1&&f<a.indexOf("#")?"?":"#",j=a.split(h),k=/\\/g;j[0]=j[0].replace(k,"/"),a=j.join(h);var v=a;if(v=v.trim(),!c&&1===a.split("#").length){var w=i.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],b?this.query=u.parse(this.search.substr(1)):this.query=this.search.substr(1)):b&&(this.search="",this.query={}),this}var x=g.exec(v);if(x){x=x[0];var y=x.toLowerCase();this.protocol=y,v=v.substr(x.length)}if(c||x||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var z="//"===v.substr(0,2);!z||x&&s[x]||(v=v.substr(2),this.slashes=!0)}if(!s[x]&&(z||x&&!t[x])){for(var A=-1,B=0;B<n.length;B++){var C=v.indexOf(n[B]);C!==-1&&(A===-1||C<A)&&(A=C)}var D,E;E=A===-1?v.lastIndexOf("@"):v.lastIndexOf("@",A),E!==-1&&(D=v.slice(0,E),v=v.slice(E+1),this.auth=decodeURIComponent(D)),A=-1;for(var B=0;B<m.length;B++){var C=v.indexOf(m[B]);C!==-1&&(A===-1||C<A)&&(A=C)}A===-1&&(A=v.length),this.host=v.slice(0,A),v=v.slice(A),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var G=this.hostname.split(/\./),B=0,H=G.length;B<H;B++){var I=G[B];if(I&&!I.match(p)){for(var J="",K=0,L=I.length;K<L;K++)J+=I.charCodeAt(K)>127?"x":I[K];if(!J.match(p)){var M=G.slice(0,B),N=G.slice(B+1),O=I.match(q);O&&(M.push(O[1]),N.unshift(O[2])),N.length&&(v="/"+N.join(".")+v),this.hostname=M.join(".");break}}}this.hostname.length>o?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=d.toASCII(this.hostname));var P=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+P,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!r[y])for(var B=0,H=l.length;B<H;B++){var R=l[B];if(v.indexOf(R)!==-1){var S=encodeURIComponent(R);S===R&&(S=escape(R)),v=v.split(R).join(S)}}var T=v.indexOf("#");T!==-1&&(this.hash=v.substr(T),v=v.slice(0,T));var U=v.indexOf("?");if(U!==-1?(this.search=v.substr(U),this.query=v.substr(U+1),b&&(this.query=u.parse(this.query)),v=v.slice(0,U)):b&&(this.search="",this.query={}),v&&(this.pathname=v),t[y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",V=this.search||"";this.path=P+V}return this.href=this.format(),this},f.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",f=!1,g="";this.host?f=a+this.host:this.hostname&&(f=a+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port)),this.query&&e.isObject(this.query)&&Object.keys(this.query).length&&(g=u.stringify(this.query));var h=this.search||g&&"?"+g||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||t[b])&&f!==!1?(f="//"+(f||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):f||(f=""),d&&"#"!==d.charAt(0)&&(d="#"+d),h&&"?"!==h.charAt(0)&&(h="?"+h),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),h=h.replace("#","%23"),b+f+c+h+d},f.prototype.resolve=function(a){return this.resolveObject(v(a,!1,!0)).format()},f.prototype.resolveObject=function(a){if(e.isString(a)){var b=new f;b.parse(a,!1,!0),a=b}for(var c=new f,d=Object.keys(this),g=0;g<d.length;g++){var h=d[g];c[h]=this[h]}if(c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){for(var i=Object.keys(a),j=0;j<i.length;j++){var k=i[j];"protocol"!==k&&(c[k]=a[k])}return t[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c}if(a.protocol&&a.protocol!==c.protocol){if(!t[a.protocol]){for(var l=Object.keys(a),m=0;m<l.length;m++){var n=l[m];c[n]=a[n]}return c.href=c.format(),c}if(c.protocol=a.protocol,a.host||s[a.protocol])c.pathname=a.pathname;else{for(var o=(a.pathname||"").split("/");o.length&&!(a.host=o.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),c.pathname=o.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var p=c.pathname||"",q=c.search||"";c.path=p+q}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var r=c.pathname&&"/"===c.pathname.charAt(0),u=a.host||a.pathname&&"/"===a.pathname.charAt(0),v=u||r||c.host&&a.pathname,w=v,x=c.pathname&&c.pathname.split("/")||[],o=a.pathname&&a.pathname.split("/")||[],y=c.protocol&&!t[c.protocol];if(y&&(c.hostname="",c.port=null,c.host&&(""===x[0]?x[0]=c.host:x.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===o[0]?o[0]=a.host:o.unshift(a.host)),a.host=null),v=v&&(""===o[0]||""===x[0])),u)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,x=o;else if(o.length)x||(x=[]),x.pop(),x=x.concat(o),c.search=a.search,c.query=a.query;else if(!e.isNullOrUndefined(a.search)){if(y){c.hostname=c.host=x.shift();var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return c.search=a.search,c.query=a.query,e.isNull(c.pathname)&&e.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!x.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var A=x.slice(-1)[0],B=(c.host||a.host||x.length>1)&&("."===A||".."===A)||""===A,C=0,D=x.length;D>=0;D--)A=x[D],"."===A?x.splice(D,1):".."===A?(x.splice(D,1),C++):C&&(x.splice(D,1),C--);if(!v&&!w)for(;C--;C)x.unshift("..");!v||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),B&&"/"!==x.join("/").substr(-1)&&x.push("");var E=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(y){c.hostname=c.host=E?"":x.length?x.shift():"";var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return v=v||c.host&&x.length,v&&!E&&x.unshift(""),x.length?c.pathname=x.join("/"):(c.pathname=null,c.path=null),e.isNull(c.pathname)&&e.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},f.prototype.parseHost=function(){var a=this.host,b=h.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},function(a,b){"use strict";a.exports={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,configurable:!1,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,configurable:!1,get:function(){return a.i}}),a.webpackPolyfill=1),a}}])});